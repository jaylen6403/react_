{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/FilterPanel/FilterPanel.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { LumaIcon } from '@luma-fe-workspace/design-system';\nimport { lifecycleSlice, selectLifecycle, selectLifecycleEventFilterOptions, useAppDispatch, useAppSelector } from '@luma-fe-workspace/redux';\nimport { useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { FilterSection } from '../FilterSection/FilterSection';\nimport { Overlay, SidePanel, Content, Header, HeaderRow, CloseButton, FiltersContainer, Footer, ApplyButton } from './FilterPanel.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FilterPanel = ({\n  isVisible,\n  setIsVisible\n}) => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const eventFilters = useAppSelector(selectLifecycleEventFilterOptions);\n  const previouslySelectedFilters = useAppSelector(selectLifecycle).selectedEventFilters;\n  const [selectedFilters, setSelectedFilters] = useState(previouslySelectedFilters);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 916);\n  useEffect(() => {\n    const handleResizeWindow = () => setIsMobile(window.innerWidth < 916);\n\n    window.addEventListener('resize', handleResizeWindow);\n    return () => {\n      window.removeEventListener('resize', handleResizeWindow);\n    };\n  }, []);\n  useEffect(() => {\n    if (isVisible) {\n      setSelectedFilters(previouslySelectedFilters);\n    }\n  }, [isVisible, previouslySelectedFilters]);\n  return /*#__PURE__*/_jsxDEV(SidePanel, {\n    isActive: isVisible,\n    isMobile: isMobile,\n    children: [/*#__PURE__*/_jsxDEV(Overlay, {\n      isActive: isVisible,\n      onClick: () => setIsVisible(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      isActive: isVisible,\n      children: [/*#__PURE__*/_jsxDEV(HeaderRow, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          children: \"Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n          onClick: () => setIsVisible(false),\n          children: /*#__PURE__*/_jsxDEV(LumaIcon, {\n            iconCode: 'xmark',\n            style: {\n              fontSize: '.75rem'\n            },\n            type: 'solid'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FiltersContainer, {\n        children: Object.keys(eventFilters).map(filterSection => {\n          if (!isVisible) return null;\n          return /*#__PURE__*/_jsxDEV(FilterSection, {\n            sectionTitle: filterSection,\n            filters: eventFilters[filterSection],\n            selectedFilters: selectedFilters,\n            setSelectedFilters: setSelectedFilters\n          }, filterSection, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        children: /*#__PURE__*/_jsxDEV(ApplyButton, {\n          disabled: _.isEqual(selectedFilters, previouslySelectedFilters),\n          onClick: () => {\n            dispatch(lifecycleSlice.actions.setSelectedFilters(selectedFilters));\n            setIsVisible(false);\n          },\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FilterPanel, \"vJVg5vsMIj7q5rstXWIcPzdwPqU=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector];\n});\n\n_c = FilterPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterPanel\");","map":{"version":3,"names":["LumaIcon","lifecycleSlice","selectLifecycle","selectLifecycleEventFilterOptions","useAppDispatch","useAppSelector","useEffect","useState","_","FilterSection","Overlay","SidePanel","Content","Header","HeaderRow","CloseButton","FiltersContainer","Footer","ApplyButton","FilterPanel","isVisible","setIsVisible","dispatch","eventFilters","previouslySelectedFilters","selectedEventFilters","selectedFilters","setSelectedFilters","isMobile","setIsMobile","window","innerWidth","handleResizeWindow","addEventListener","removeEventListener","fontSize","Object","keys","map","filterSection","isEqual","actions"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/FilterPanel/FilterPanel.tsx"],"sourcesContent":["import { LumaIcon } from '@luma-fe-workspace/design-system';\nimport {\n  EventFilters,\n  lifecycleSlice,\n  selectLifecycle,\n  selectLifecycleEventFilterOptions,\n  useAppDispatch,\n  useAppSelector,\n} from '@luma-fe-workspace/redux';\nimport { useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { FilterSection } from '../FilterSection/FilterSection';\nimport {\n  Overlay,\n  SidePanel,\n  Content,\n  Header,\n  HeaderRow,\n  CloseButton,\n  FiltersContainer,\n  Footer,\n  ApplyButton,\n} from './FilterPanel.styles';\n\ninterface FilterPanelProps {\n  isVisible: boolean;\n  setIsVisible: (isVisible: boolean) => void;\n}\nexport const FilterPanel = ({ isVisible, setIsVisible }: FilterPanelProps) => {\n  const dispatch = useAppDispatch();\n  const eventFilters = useAppSelector(selectLifecycleEventFilterOptions);\n  const previouslySelectedFilters =\n    useAppSelector(selectLifecycle).selectedEventFilters;\n  const [selectedFilters, setSelectedFilters] = useState<EventFilters>(\n    previouslySelectedFilters\n  );\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 916);\n\n  useEffect(() => {\n    const handleResizeWindow = () => setIsMobile(window.innerWidth < 916);\n    window.addEventListener('resize', handleResizeWindow);\n    return () => {\n      window.removeEventListener('resize', handleResizeWindow);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isVisible) {\n      setSelectedFilters(previouslySelectedFilters);\n    }\n  }, [isVisible, previouslySelectedFilters]);\n\n  return (\n    <SidePanel isActive={isVisible} isMobile={isMobile}>\n      <Overlay isActive={isVisible} onClick={() => setIsVisible(false)} />\n      <Content isActive={isVisible}>\n        <HeaderRow>\n          <Header>Filters</Header>\n          <CloseButton onClick={() => setIsVisible(false)}>\n            <LumaIcon\n              iconCode={'xmark'}\n              style={{ fontSize: '.75rem' }}\n              type={'solid'}\n            />\n          </CloseButton>\n        </HeaderRow>\n        <FiltersContainer>\n          {Object.keys(eventFilters).map((filterSection) => {\n            if (!isVisible) return null;\n            return (\n              <FilterSection\n                key={filterSection}\n                sectionTitle={filterSection}\n                filters={eventFilters[filterSection]}\n                selectedFilters={selectedFilters}\n                setSelectedFilters={setSelectedFilters}\n              />\n            );\n          })}\n        </FiltersContainer>\n        <Footer>\n          <ApplyButton\n            disabled={_.isEqual(selectedFilters, previouslySelectedFilters)}\n            onClick={() => {\n              dispatch(\n                lifecycleSlice.actions.setSelectedFilters(selectedFilters)\n              );\n              setIsVisible(false);\n            }}\n          >\n            Apply\n          </ApplyButton>\n        </Footer>\n      </Content>\n    </SidePanel>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}