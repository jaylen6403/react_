{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"/Users/jchen/Documents/GitHub/luma-fe-workspace/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\";\nconst _excluded = [\"paramName\", \"label\", \"value\", \"isDisabled\", \"constraints\", \"onChange\", \"onValidation\", \"readOnly\"];\nvar _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/PricingForm/groups/ConfigurableFormGroups/formElements/dropdown/DropdownWrapper.tsx\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { LumaSingleDropDown } from '@luma-fe-workspace/design-system';\nimport { parseEnumToDropdownValue } from './DropdownUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DropdownWrapper(_ref) {\n  let {\n    paramName,\n    label,\n    value,\n    isDisabled,\n    constraints,\n    onChange,\n    onValidation,\n    readOnly = true\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const defaultSelectedItem = {\n    value: value.id,\n    label: value.label\n  };\n  const dropdownItems = constraints ? parseEnumToDropdownValue(constraints[paramName].availableValues) : [];\n\n  const onSelectChange = selectedItem => {\n    if (!selectedItem || !constraints) {\n      return;\n    }\n\n    const {\n      value\n    } = selectedItem;\n    const selectedValue = constraints[paramName].availableValues.find(({\n      id\n    }) => {\n      return id === value;\n    });\n\n    if (selectedValue) {\n      onChange(selectedValue);\n      onValidation(selectedValue);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(LumaSingleDropDown, Object.assign({\n    name: paramName,\n    readOnly: readOnly,\n    disabled: isDisabled,\n    placeholder: label != null ? label : '',\n    onChange: onSelectChange,\n    defaultSelectedItem: defaultSelectedItem,\n    items: dropdownItems,\n    size: \"large\"\n  }, rest), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_c = DropdownWrapper;\nexport default DropdownWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropdownWrapper\");","map":{"version":3,"names":["LumaSingleDropDown","parseEnumToDropdownValue","DropdownWrapper","paramName","label","value","isDisabled","constraints","onChange","onValidation","readOnly","rest","defaultSelectedItem","id","dropdownItems","availableValues","onSelectChange","selectedItem","selectedValue","find"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/PricingForm/groups/ConfigurableFormGroups/formElements/dropdown/DropdownWrapper.tsx"],"sourcesContent":["import {\n  DataItemProps,\n  LumaSingleDropDown,\n} from '@luma-fe-workspace/design-system';\nimport {\n  EnumConstraints,\n  EnumValue,\n  ParamConstraints,\n  ParamName,\n  ParamValue,\n} from '@luma-fe-workspace/redux';\nimport { parseEnumToDropdownValue } from './DropdownUtils';\n\ntype DropdownWrapperProps = {\n  paramName: string;\n  id: string;\n  value: EnumValue;\n  label?: string;\n  isDisabled: boolean;\n  onChange: (newValue: ParamValue | undefined) => void;\n  onValidation: (newValue: ParamValue | undefined) => void;\n  readOnly?: boolean;\n  constraints?: Record<ParamName, ParamConstraints>;\n};\n\nfunction DropdownWrapper({\n  paramName,\n  label,\n  value,\n  isDisabled,\n  constraints,\n  onChange,\n  onValidation,\n  readOnly = true,\n  ...rest\n}: DropdownWrapperProps) {\n  const defaultSelectedItem = {\n    value: value.id,\n    label: value.label,\n  };\n  const dropdownItems = constraints\n    ? parseEnumToDropdownValue(\n        (constraints[paramName] as EnumConstraints).availableValues\n      )\n    : [];\n\n  const onSelectChange = (selectedItem: DataItemProps | null) => {\n    if (!selectedItem || !constraints) {\n      return;\n    }\n    const { value } = selectedItem;\n    const selectedValue = (\n      constraints[paramName] as EnumConstraints\n    ).availableValues.find(({ id }) => {\n      return id === value;\n    });\n\n    if (selectedValue) {\n      onChange(selectedValue);\n      onValidation(selectedValue);\n    }\n  };\n\n  return (\n    <LumaSingleDropDown\n      name={paramName}\n      readOnly={readOnly}\n      disabled={isDisabled}\n      placeholder={label ?? ''}\n      onChange={onSelectChange}\n      defaultSelectedItem={defaultSelectedItem}\n      items={dropdownItems}\n      size=\"large\"\n      {...rest}\n    />\n  );\n}\n\nexport default DropdownWrapper;\n"],"mappings":";;;;AAAA,SAEEA,kBAFF,QAGO,kCAHP;AAWA,SAASC,wBAAT,QAAyC,iBAAzC;;;AAcA,SAASC,eAAT,OAUyB;EAAA,IAVA;IACvBC,SADuB;IAEvBC,KAFuB;IAGvBC,KAHuB;IAIvBC,UAJuB;IAKvBC,WALuB;IAMvBC,QANuB;IAOvBC,YAPuB;IAQvBC,QAAQ,GAAG;EARY,CAUA;EAAA,IADpBC,IACoB;;EACvB,MAAMC,mBAAmB,GAAG;IAC1BP,KAAK,EAAEA,KAAK,CAACQ,EADa;IAE1BT,KAAK,EAAEC,KAAK,CAACD;EAFa,CAA5B;EAIA,MAAMU,aAAa,GAAGP,WAAW,GAC7BN,wBAAwB,CACrBM,WAAW,CAACJ,SAAD,CAAZ,CAA4CY,eADtB,CADK,GAI7B,EAJJ;;EAMA,MAAMC,cAAc,GAAIC,YAAD,IAAwC;IAC7D,IAAI,CAACA,YAAD,IAAiB,CAACV,WAAtB,EAAmC;MACjC;IACD;;IACD,MAAM;MAAEF;IAAF,IAAYY,YAAlB;IACA,MAAMC,aAAa,GACjBX,WAAW,CAACJ,SAAD,CADS,CAEpBY,eAFoB,CAEJI,IAFI,CAEC,CAAC;MAAEN;IAAF,CAAD,KAAY;MACjC,OAAOA,EAAE,KAAKR,KAAd;IACD,CAJqB,CAAtB;;IAMA,IAAIa,aAAJ,EAAmB;MACjBV,QAAQ,CAACU,aAAD,CAAR;MACAT,YAAY,CAACS,aAAD,CAAZ;IACD;EACF,CAfD;;EAiBA,oBACE,QAAC,kBAAD;IACE,IAAI,EAAEf,SADR;IAEE,QAAQ,EAAEO,QAFZ;IAGE,QAAQ,EAAEJ,UAHZ;IAIE,WAAW,EAAEF,KAAF,WAAEA,KAAF,GAAW,EAJxB;IAKE,QAAQ,EAAEY,cALZ;IAME,mBAAmB,EAAEJ,mBANvB;IAOE,KAAK,EAAEE,aAPT;IAQE,IAAI,EAAC;EARP,GASMH,IATN;IAAA;IAAA;IAAA;EAAA,QADF;AAaD;;KAnDQT,e;AAqDT,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}