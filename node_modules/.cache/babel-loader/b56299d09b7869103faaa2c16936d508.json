{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.promise.js\";\nimport { createAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport { authApi } from '../authService/slice';\nexport const refreshTokenSuccess = createAction('auth/refreshTokenSuccess');\n\nconst getColdFusionBaseUrl = origin => {\n  const currentUrl = origin || window.origin;\n  const updatedUrl = currentUrl.replace('http://', 'https://').replace('localhost:4200', 'app.bdev.lumafintech.com').replace('//app.', '//').replace('//go.', '//').replace(/(\\/\\/go).+?(?:\\.)/g, '//').replace('//an.', '//').replace('//ch.', '//').replace('//dn.', '//').replace('//lm.', '//').replace('//pl.', '//').replace('//pm.', '//').replace('bdev.', 'ng').replace('bqa.', 'qa').replace('buat.', 'uat').replace('staging.', 'staging').replace('lumafintech.com', 'portal.lumafintech.com'); // CF links are different for staging and production\n\n  if (updatedUrl.startsWith('https://portal.lumafintech.com') || updatedUrl.startsWith('https://stagingportal.lumafintech.com')) {\n    return updatedUrl.replace('lumafintech', 'naviancapital');\n  } else return updatedUrl;\n};\n\nexport const logout = createAsyncThunk('auth/logout', async (_, thunkAPI) => {\n  await thunkAPI.dispatch(authApi.endpoints.removeRMT.initiate());\n  await fetch(`${getColdFusionBaseUrl()}/cdfg/WebPages/deleteCFSession.cfm`);\n  await thunkAPI.dispatch(authApi.endpoints.revokeToken.initiate());\n});","map":{"version":3,"names":["createAction","createAsyncThunk","authApi","refreshTokenSuccess","getColdFusionBaseUrl","origin","currentUrl","window","updatedUrl","replace","startsWith","logout","_","thunkAPI","dispatch","endpoints","removeRMT","initiate","fetch","revokeToken"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/redux/src/redux/auth/actions.ts"],"sourcesContent":["import { createAction, createAsyncThunk } from '@reduxjs/toolkit';\nimport type { AuthResponse } from '../authService/slice';\nimport { authApi } from '../authService/slice';\n\nexport const refreshTokenSuccess = createAction<AuthResponse>(\n  'auth/refreshTokenSuccess'\n);\n\nconst getColdFusionBaseUrl = (origin?: string) => {\n  const currentUrl = origin || window.origin;\n\n  const updatedUrl = currentUrl\n    .replace('http://', 'https://')\n    .replace('localhost:4200', 'app.bdev.lumafintech.com')\n    .replace('//app.', '//')\n    .replace('//go.', '//')\n    .replace(/(\\/\\/go).+?(?:\\.)/g, '//')\n    .replace('//an.', '//')\n    .replace('//ch.', '//')\n    .replace('//dn.', '//')\n    .replace('//lm.', '//')\n    .replace('//pl.', '//')\n    .replace('//pm.', '//')\n    .replace('bdev.', 'ng')\n    .replace('bqa.', 'qa')\n    .replace('buat.', 'uat')\n    .replace('staging.', 'staging')\n    .replace('lumafintech.com', 'portal.lumafintech.com');\n  // CF links are different for staging and production\n  if (\n    updatedUrl.startsWith('https://portal.lumafintech.com') ||\n    updatedUrl.startsWith('https://stagingportal.lumafintech.com')\n  ) {\n    return updatedUrl.replace('lumafintech', 'naviancapital');\n  } else return updatedUrl;\n};\n\nexport const logout = createAsyncThunk<void, void>(\n  'auth/logout',\n  async (_, thunkAPI) => {\n    await thunkAPI.dispatch(authApi.endpoints.removeRMT.initiate());\n    await fetch(`${getColdFusionBaseUrl()}/cdfg/WebPages/deleteCFSession.cfm`);\n    await thunkAPI.dispatch(authApi.endpoints.revokeToken.initiate());\n  }\n);\n"],"mappings":";;;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,kBAA/C;AAEA,SAASC,OAAT,QAAwB,sBAAxB;AAEA,OAAO,MAAMC,mBAAmB,GAAGH,YAAY,CAC7C,0BAD6C,CAAxC;;AAIP,MAAMI,oBAAoB,GAAIC,MAAD,IAAqB;EAChD,MAAMC,UAAU,GAAGD,MAAM,IAAIE,MAAM,CAACF,MAApC;EAEA,MAAMG,UAAU,GAAGF,UAAU,CAC1BG,OADgB,CACR,SADQ,EACG,UADH,EAEhBA,OAFgB,CAER,gBAFQ,EAEU,0BAFV,EAGhBA,OAHgB,CAGR,QAHQ,EAGE,IAHF,EAIhBA,OAJgB,CAIR,OAJQ,EAIC,IAJD,EAKhBA,OALgB,CAKR,oBALQ,EAKc,IALd,EAMhBA,OANgB,CAMR,OANQ,EAMC,IAND,EAOhBA,OAPgB,CAOR,OAPQ,EAOC,IAPD,EAQhBA,OARgB,CAQR,OARQ,EAQC,IARD,EAShBA,OATgB,CASR,OATQ,EASC,IATD,EAUhBA,OAVgB,CAUR,OAVQ,EAUC,IAVD,EAWhBA,OAXgB,CAWR,OAXQ,EAWC,IAXD,EAYhBA,OAZgB,CAYR,OAZQ,EAYC,IAZD,EAahBA,OAbgB,CAaR,MAbQ,EAaA,IAbA,EAchBA,OAdgB,CAcR,OAdQ,EAcC,KAdD,EAehBA,OAfgB,CAeR,UAfQ,EAeI,SAfJ,EAgBhBA,OAhBgB,CAgBR,iBAhBQ,EAgBW,wBAhBX,CAAnB,CAHgD,CAoBhD;;EACA,IACED,UAAU,CAACE,UAAX,CAAsB,gCAAtB,KACAF,UAAU,CAACE,UAAX,CAAsB,uCAAtB,CAFF,EAGE;IACA,OAAOF,UAAU,CAACC,OAAX,CAAmB,aAAnB,EAAkC,eAAlC,CAAP;EACD,CALD,MAKO,OAAOD,UAAP;AACR,CA3BD;;AA6BA,OAAO,MAAMG,MAAM,GAAGV,gBAAgB,CACpC,aADoC,EAEpC,OAAOW,CAAP,EAAUC,QAAV,KAAuB;EACrB,MAAMA,QAAQ,CAACC,QAAT,CAAkBZ,OAAO,CAACa,SAAR,CAAkBC,SAAlB,CAA4BC,QAA5B,EAAlB,CAAN;EACA,MAAMC,KAAK,CAAE,GAAEd,oBAAoB,EAAG,oCAA3B,CAAX;EACA,MAAMS,QAAQ,CAACC,QAAT,CAAkBZ,OAAO,CAACa,SAAR,CAAkBI,WAAlB,CAA8BF,QAA9B,EAAlB,CAAN;AACD,CANmC,CAA/B"},"metadata":{},"sourceType":"module"}