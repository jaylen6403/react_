{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/Blotter/Blotter.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { RFQBlotter } from '../RFQBlotter/RFQBlotter';\nimport { OrderBlotter } from '../OrderBlotter/OrderBlotter';\nimport { Widget } from '../Widget/Widget';\nimport { URL_PATHS } from '@luma-fe-workspace/utility';\nimport { useAppSelector, selectSecondaries, WidgetPermissions, useUiPermissionsQuery, lumaPermissionsArray, selectJwt } from '@luma-fe-workspace/redux';\nimport { RFQSearch } from '../RFQSearch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Blotter = ({\n  liveRFQData,\n  setLiveRFQData,\n  newCreatedRFQs,\n  setNewCreatedRFQs,\n  liveOrderData,\n  setLiveOrderData\n}) => {\n  _s();\n\n  var _useAppSelector;\n\n  const {\n    pathname\n  } = useLocation();\n  const navigate = useNavigate();\n  const userName = (_useAppSelector = useAppSelector(selectJwt)) == null ? void 0 : _useAppSelector.user_name;\n  const orders = useAppSelector(selectSecondaries).orders;\n  const pendingOrderActions = orders == null ? void 0 : orders.filter(order => {\n    var _order$associatedUser;\n\n    return order.status === 'PENDING' && userName && ((_order$associatedUser = order.associatedUserIds) == null ? void 0 : _order$associatedUser.liquidityProvider) === userName;\n  });\n  const {\n    data: userPermissionData\n  } = useUiPermissionsQuery({\n    permissions: lumaPermissionsArray\n  });\n  const userPermissions = userPermissionData || [];\n  return /*#__PURE__*/_jsxDEV(Widget, {\n    \"aria-label\": \"Blotter\",\n    title: \"Blotter\",\n    table: pathname.includes(`${URL_PATHS.ORDERS}`) ? /*#__PURE__*/_jsxDEV(OrderBlotter, {\n      liveOrderData: liveOrderData,\n      setLiveOrderData: setLiveOrderData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this) : pathname.includes(`${URL_PATHS.QUOTES}`) ? /*#__PURE__*/_jsxDEV(RFQBlotter, {\n      liveRFQData: liveRFQData,\n      newCreatedRFQs: newCreatedRFQs,\n      setLiveRFQData: setLiveRFQData,\n      setNewCreatedRFQs: setNewCreatedRFQs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }, this) : pathname.includes(`${URL_PATHS.RFQ_SEARCH}`) ? /*#__PURE__*/_jsxDEV(RFQSearch, {\n      liveRFQData: liveRFQData,\n      setLiveRFQData: setLiveRFQData,\n      blotterType: \"RFQ Search\"\n    }, URL_PATHS.RFQ_SEARCH, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(RFQSearch, {\n      liveRFQData: liveRFQData,\n      setLiveRFQData: setLiveRFQData,\n      blotterType: \"LP Blotter\"\n    }, URL_PATHS.LP_BLOTTER, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this),\n    actionBar: null,\n    tabs: [{\n      display: 'Quotes',\n      activeTab: pathname.includes(`${URL_PATHS.QUOTES}`),\n      ariaLabel: 'Quotes-tab',\n      value: 'Quotes',\n      hasClose: false,\n      setShowTab: () => navigate(`/${URL_PATHS.SECONDARIES}/${URL_PATHS.QUOTES}`),\n      id: 'Quotes-tab',\n      showTab: userPermissions.includes(WidgetPermissions.SecondariesRFQCreate)\n    }, {\n      display: 'LP Blotter',\n      activeTab: pathname.includes(`${URL_PATHS.LP_BLOTTER}`),\n      ariaLabel: 'LP-Blotter-tab',\n      value: 'Lp-Blotter-tab',\n      hasClose: false,\n      setShowTab: () => navigate(`/${URL_PATHS.SECONDARIES}/lp-blotter`),\n      id: 'Lp-Blotter-Tab',\n      showTab: userPermissions.includes(WidgetPermissions.SecondariesRFQRespond)\n    }, {\n      display: 'Orders',\n      activeTab: pathname.includes(`${URL_PATHS.ORDERS}`),\n      ariaLabel: 'Orders-tab',\n      value: 'Orders',\n      hasClose: false,\n      setShowTab: () => navigate(`/${URL_PATHS.SECONDARIES}/${URL_PATHS.ORDERS}`),\n      id: 'Orders-tab',\n      showTab: true,\n      notifications: pendingOrderActions == null ? void 0 : pendingOrderActions.length\n    }, {\n      display: 'RFQ Search',\n      activeTab: pathname.includes(`${URL_PATHS.RFQ_SEARCH}`),\n      ariaLabel: 'RFQ-Search-tab',\n      value: 'Rfq-search',\n      hasClose: false,\n      setShowTab: () => navigate(`/${URL_PATHS.SECONDARIES}/rfq-search`),\n      id: 'Rfq-Search-tab',\n      showTab: userPermissions.includes(WidgetPermissions.SecondariesRFQRespond)\n    }]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Blotter, \"jf9ycviwxf6m8jamvAFTgxBAWO4=\", false, function () {\n  return [useLocation, useNavigate, useAppSelector, useAppSelector, useUiPermissionsQuery];\n});\n\n_c = Blotter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blotter\");","map":{"version":3,"names":["useLocation","useNavigate","RFQBlotter","OrderBlotter","Widget","URL_PATHS","useAppSelector","selectSecondaries","WidgetPermissions","useUiPermissionsQuery","lumaPermissionsArray","selectJwt","RFQSearch","Blotter","liveRFQData","setLiveRFQData","newCreatedRFQs","setNewCreatedRFQs","liveOrderData","setLiveOrderData","pathname","navigate","userName","user_name","orders","pendingOrderActions","filter","order","status","associatedUserIds","liquidityProvider","data","userPermissionData","permissions","userPermissions","includes","ORDERS","QUOTES","RFQ_SEARCH","LP_BLOTTER","display","activeTab","ariaLabel","value","hasClose","setShowTab","SECONDARIES","id","showTab","SecondariesRFQCreate","SecondariesRFQRespond","notifications","length"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/Blotter/Blotter.tsx"],"sourcesContent":["import { useLocation, useNavigate } from 'react-router-dom';\nimport { RFQBlotter } from '../RFQBlotter/RFQBlotter';\nimport { OrderBlotter } from '../OrderBlotter/OrderBlotter';\nimport { Widget } from '../Widget/Widget';\nimport { URL_PATHS } from '@luma-fe-workspace/utility';\nimport {\n  SecondaryRequestForQuote,\n  useAppSelector,\n  selectSecondaries,\n  SecondaryOrder,\n  WidgetPermissions,\n  useUiPermissionsQuery,\n  lumaPermissionsArray,\n  selectJwt,\n} from '@luma-fe-workspace/redux';\nimport { RFQSearch } from '../RFQSearch';\n\ninterface BlotterProps {\n  liveRFQData: SecondaryRequestForQuote[];\n  setLiveRFQData: (data: SecondaryRequestForQuote[]) => void;\n  newCreatedRFQs: SecondaryRequestForQuote[];\n  setNewCreatedRFQs: (data: SecondaryRequestForQuote[]) => void;\n  liveOrderData?: SecondaryOrder;\n  setLiveOrderData: (data: SecondaryOrder | undefined) => void;\n}\n\nexport const Blotter = ({\n  liveRFQData,\n  setLiveRFQData,\n  newCreatedRFQs,\n  setNewCreatedRFQs,\n  liveOrderData,\n  setLiveOrderData,\n}: BlotterProps) => {\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const userName = useAppSelector(selectJwt)?.user_name;\n  const orders = useAppSelector(selectSecondaries).orders;\n  const pendingOrderActions = orders?.filter(\n    (order) =>\n      order.status === 'PENDING' &&\n      userName &&\n      order.associatedUserIds?.liquidityProvider === userName\n  );\n\n  const { data: userPermissionData } = useUiPermissionsQuery({\n    permissions: lumaPermissionsArray,\n  });\n\n  const userPermissions: WidgetPermissions[] = userPermissionData || [];\n\n  return (\n    <Widget\n      aria-label=\"Blotter\"\n      title=\"Blotter\"\n      table={\n        pathname.includes(`${URL_PATHS.ORDERS}`) ? (\n          <OrderBlotter\n            liveOrderData={liveOrderData}\n            setLiveOrderData={setLiveOrderData}\n          />\n        ) : pathname.includes(`${URL_PATHS.QUOTES}`) ? (\n          <RFQBlotter\n            liveRFQData={liveRFQData}\n            newCreatedRFQs={newCreatedRFQs}\n            setLiveRFQData={setLiveRFQData}\n            setNewCreatedRFQs={setNewCreatedRFQs}\n          />\n        ) : pathname.includes(`${URL_PATHS.RFQ_SEARCH}`) ? (\n          <RFQSearch\n            key={URL_PATHS.RFQ_SEARCH}\n            liveRFQData={liveRFQData}\n            setLiveRFQData={setLiveRFQData}\n            blotterType=\"RFQ Search\"\n          />\n        ) : (\n          <RFQSearch\n            key={URL_PATHS.LP_BLOTTER}\n            liveRFQData={liveRFQData}\n            setLiveRFQData={setLiveRFQData}\n            blotterType=\"LP Blotter\"\n          />\n        )\n      }\n      actionBar={null}\n      tabs={[\n        {\n          display: 'Quotes',\n          activeTab: pathname.includes(`${URL_PATHS.QUOTES}`),\n          ariaLabel: 'Quotes-tab',\n          value: 'Quotes',\n          hasClose: false,\n          setShowTab: () =>\n            navigate(`/${URL_PATHS.SECONDARIES}/${URL_PATHS.QUOTES}`),\n          id: 'Quotes-tab',\n          showTab: userPermissions.includes(\n            WidgetPermissions.SecondariesRFQCreate\n          ),\n        },\n        {\n          display: 'LP Blotter',\n          activeTab: pathname.includes(`${URL_PATHS.LP_BLOTTER}`),\n          ariaLabel: 'LP-Blotter-tab',\n          value: 'Lp-Blotter-tab',\n          hasClose: false,\n          setShowTab: () => navigate(`/${URL_PATHS.SECONDARIES}/lp-blotter`),\n          id: 'Lp-Blotter-Tab',\n          showTab: userPermissions.includes(\n            WidgetPermissions.SecondariesRFQRespond\n          ),\n        },\n        {\n          display: 'Orders',\n          activeTab: pathname.includes(`${URL_PATHS.ORDERS}`),\n          ariaLabel: 'Orders-tab',\n          value: 'Orders',\n          hasClose: false,\n          setShowTab: () =>\n            navigate(`/${URL_PATHS.SECONDARIES}/${URL_PATHS.ORDERS}`),\n          id: 'Orders-tab',\n          showTab: true,\n          notifications: pendingOrderActions?.length,\n        },\n        {\n          display: 'RFQ Search',\n          activeTab: pathname.includes(`${URL_PATHS.RFQ_SEARCH}`),\n          ariaLabel: 'RFQ-Search-tab',\n          value: 'Rfq-search',\n          hasClose: false,\n          setShowTab: () => navigate(`/${URL_PATHS.SECONDARIES}/rfq-search`),\n          id: 'Rfq-Search-tab',\n          showTab: userPermissions.includes(\n            WidgetPermissions.SecondariesRFQRespond\n          ),\n        },\n      ]}\n    />\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}