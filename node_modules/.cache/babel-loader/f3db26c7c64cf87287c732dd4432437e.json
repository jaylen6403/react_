{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"/Users/jchen/Documents/GitHub/luma-fe-workspace/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\";\nconst _excluded = [\"id\", \"placeholder\", \"className\", \"error\", \"readOnly\", \"fullWidth\", \"disabled\", \"helperText\", \"sizeVariant\", \"items\", \"handleSelectItem\", \"handleChange\", \"handleBlur\", \"itemToString\", \"inputAriaLabel\", \"buttonAriaLabel\", \"renderContent\", \"variant\", \"defaultValue\", \"errorTemplate\"];\n\nvar _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components-Luma/components/LumaTextSearch/LumaTextSearch.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { useState } from 'react';\nimport { useCombobox } from 'downshift';\nimport { TextSearchContainer, InputContainer, HiddenInput, HelperText, SearchIcon, DropDownItemWrapper, DropItem, ClearIcon } from './LumaTextSearch.style';\nimport { LumaStatus } from '../LumaStatus';\nimport { LumaIcon } from '../LumaIcon';\nimport { LumaDropDownBox } from '../LumaDropdownBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RenderContent = ({\n  item,\n  variant\n}) => {\n  return /*#__PURE__*/_jsxDEV(DropDownItemWrapper, {\n    variant: variant,\n    children: [variant !== 'standard' ? /*#__PURE__*/_jsxDEV(DropItem, {\n      variant: variant,\n      children: item == null ? void 0 : item.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(DropItem, {\n      variant: variant,\n      children: item == null ? void 0 : item.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_c = RenderContent;\nexport const LumaTextSearch = _ref => {\n  _s();\n\n  let {\n    id,\n    placeholder = '',\n    className,\n    error,\n    readOnly,\n    fullWidth,\n    disabled,\n    helperText,\n    sizeVariant = 'medium',\n    items = [],\n    handleSelectItem,\n    handleChange,\n    itemToString,\n    inputAriaLabel,\n    buttonAriaLabel,\n    variant = 'standard',\n    defaultValue,\n    errorTemplate = /*#__PURE__*/_jsxDEV(LumaStatus, {\n      variant: \"failed\",\n      statusBorder: true,\n      ariaLabel: \"failStatus\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }, this)\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [inputValue, setInputValue] = useState(defaultValue || '');\n  const [isFocus, setIsFocus] = useState(false);\n  const {\n    isOpen,\n    getMenuProps,\n    getInputProps,\n    getComboboxProps,\n    getItemProps,\n    highlightedIndex,\n    reset\n  } = useCombobox({\n    itemToString,\n    inputValue,\n    items,\n    onInputValueChange: ({\n      inputValue\n    }) => {\n      setInputValue(inputValue);\n      handleChange == null ? void 0 : handleChange(inputValue);\n      return;\n    },\n\n    onSelectedItemChange({\n      selectedItem: selectedItemEvent\n    }) {\n      handleSelectItem == null ? void 0 : handleSelectItem(selectedItemEvent);\n      reset();\n    }\n\n  });\n  const inputProps = getInputProps({\n    'aria-label': inputAriaLabel,\n    'aria-labelledby': ''\n  });\n  return /*#__PURE__*/_jsxDEV(TextSearchContainer, Object.assign({\n    sizeVariant: sizeVariant,\n    fullWidth: fullWidth,\n    className: className\n  }, getComboboxProps(), {\n    children: [/*#__PURE__*/_jsxDEV(InputContainer, {\n      sizeVariant: sizeVariant,\n      id: id,\n      error: error,\n      placeholder: placeholder,\n      children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n        disabled: disabled,\n        children: /*#__PURE__*/_jsxDEV(LumaIcon, {\n          iconCode: \"magnifying-glass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HiddenInput, Object.assign({\n        value: inputValue,\n        placeholder: placeholder,\n        onFocus: () => {\n          setIsFocus(!isFocus);\n        },\n        onBlur: () => {\n          setIsFocus(!isFocus);\n        },\n        disabled: disabled,\n        readOnly: readOnly\n      }, inputProps, rest), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), inputValue && !readOnly && /*#__PURE__*/_jsxDEV(ClearIcon, {\n        type: \"button\",\n        \"aria-label\": buttonAriaLabel,\n        onClick: () => {\n          reset();\n        },\n        children: /*#__PURE__*/_jsxDEV(LumaIcon, {\n          iconCode: \"times\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), helperText && /*#__PURE__*/_jsxDEV(HelperText, {\n      error: error,\n      children: helperText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(LumaDropDownBox, {\n      size: sizeVariant,\n      isOpen: isOpen,\n      items: items,\n      getMenuProps: getMenuProps,\n      highlightedIndex: highlightedIndex,\n      getItemProps: getItemProps,\n      renderComponent: /*#__PURE__*/_jsxDEV(RenderContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 26\n      }, this),\n      itemToString: itemToString,\n      variant: variant,\n      id: id,\n      errorTemplate: errorTemplate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LumaTextSearch, \"2m2gMmeIzOWIKLEYm5pTg+wxSpY=\", false, function () {\n  return [useCombobox];\n});\n\n_c2 = LumaTextSearch;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RenderContent\");\n$RefreshReg$(_c2, \"LumaTextSearch\");","map":{"version":3,"names":["useState","useCombobox","TextSearchContainer","InputContainer","HiddenInput","HelperText","SearchIcon","DropDownItemWrapper","DropItem","ClearIcon","LumaStatus","LumaIcon","LumaDropDownBox","RenderContent","item","variant","id","label","LumaTextSearch","placeholder","className","error","readOnly","fullWidth","disabled","helperText","sizeVariant","items","handleSelectItem","handleChange","itemToString","inputAriaLabel","buttonAriaLabel","defaultValue","errorTemplate","rest","inputValue","setInputValue","isFocus","setIsFocus","isOpen","getMenuProps","getInputProps","getComboboxProps","getItemProps","highlightedIndex","reset","onInputValueChange","onSelectedItemChange","selectedItem","selectedItemEvent","inputProps"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components-Luma/components/LumaTextSearch/LumaTextSearch.tsx"],"sourcesContent":["import { ReactElement, useState, FocusEvent } from 'react';\nimport { useCombobox } from 'downshift';\nimport {\n  TextSearchContainer,\n  InputContainer,\n  HiddenInput,\n  HelperText,\n  SearchIcon,\n  DropDownItemWrapper,\n  DropItem,\n  ClearIcon,\n  SIZE_MAP,\n} from './LumaTextSearch.style';\nimport { LumaStatus } from '../LumaStatus';\nimport { LumaIcon } from '../LumaIcon';\nimport { LumaDropDownBox } from '../LumaDropdownBox';\nimport {\n  DataItemProps,\n  TextSearchItem,\n} from '../LumaDropdown/LumaDropDownBasicType';\n\nexport interface TextSearchProps<Item> {\n  /**Give a unique id for the field */\n  id: string;\n  /**ClassName is the normal class */\n  className?: string;\n  /**Error will act when user need to show validation error */\n  error?: boolean;\n  /**helperText will show a label below the box for showing information or error message */\n  helperText?: string;\n  /**component will be readonly*/\n  readOnly?: boolean;\n  /**fullwidth will make the field 100% width  */\n  fullWidth?: boolean;\n  /**disabled will disable the field\n   * @default false\n   */\n  disabled?: boolean;\n  /**size will make the field small, medium or large size\n   * @default medium\n   */\n  sizeVariant?: keyof typeof SIZE_MAP;\n  /**act like a placeholder */\n  placeholder?: string;\n  /**data array for dropdown */\n  items: Item[];\n  /**action item selection a dropdown */\n  handleSelectItem?: (item: Item | null | undefined) => void;\n  /**action item on change item */\n  handleChange?: (value: string | undefined) => void;\n  /**action item on blur*/\n  handleBlur?: (e: FocusEvent<HTMLInputElement>) => void;\n  /**action to output string */\n  itemToString?: (item: DataItemProps | TextSearchItem | null) => string;\n  /**Template of the dropdown item */\n  renderContent: ReactElement<{ item: Item }>;\n  /**Input box aria label */\n  inputAriaLabel: string;\n  /**button box aria label */\n  buttonAriaLabel: string;\n  /**variant: this props will change dropdown result\n   * Two main format of dropdown result will be:\n   * standard:\n   * -------------------------\n   * -- <option>            --\n   * -- <option>            --\n   * -------------------------\n   * underlier:\n   * -------------------------\n   * -- xxxxxx | <option>   --\n   * -- xxxxxx | <option>   --\n   * -------------------------\n   * @default standard\n   */\n  variant?: 'standard' | 'underlier';\n  /**ErrorMessage Template */\n  errorTemplate?: ReactElement;\n  /**Default value that will be shown in Text Search*/\n  defaultValue?: string;\n}\n\ntype RenderContentProps = {\n  item?: { label: string; id: string };\n  variant?: 'standard' | 'underlier';\n};\n\nexport const RenderContent = ({ item, variant }: RenderContentProps) => {\n  return (\n    <DropDownItemWrapper variant={variant}>\n      {variant !== 'standard' ? (\n        <DropItem variant={variant}>{item?.id}</DropItem>\n      ) : null}\n      <DropItem variant={variant}>{item?.label}</DropItem>\n    </DropDownItemWrapper>\n  );\n};\n\nexport const LumaTextSearch = <Item,>({\n  id,\n  placeholder = '',\n  className,\n  error,\n  readOnly,\n  fullWidth,\n  disabled,\n  helperText,\n  sizeVariant = 'medium',\n  items = [],\n  handleSelectItem,\n  handleChange,\n  handleBlur,\n  itemToString,\n  inputAriaLabel,\n  buttonAriaLabel,\n  renderContent,\n  variant = 'standard',\n  defaultValue,\n  errorTemplate = (\n    <LumaStatus variant=\"failed\" statusBorder={true} ariaLabel=\"failStatus\" />\n  ),\n  ...rest\n}: TextSearchProps<Item>) => {\n  const [inputValue, setInputValue] = useState<string | undefined>(\n    defaultValue || ''\n  );\n  const [isFocus, setIsFocus] = useState(false);\n  const {\n    isOpen,\n    getMenuProps,\n    getInputProps,\n    getComboboxProps,\n    getItemProps,\n    highlightedIndex,\n    reset,\n  } = useCombobox<Item>({\n    itemToString,\n    inputValue,\n    items,\n    onInputValueChange: ({ inputValue }) => {\n      setInputValue(inputValue);\n      handleChange?.(inputValue);\n      return;\n    },\n    onSelectedItemChange({ selectedItem: selectedItemEvent }) {\n      handleSelectItem?.(selectedItemEvent);\n      reset();\n    },\n  });\n  const inputProps = getInputProps({\n    'aria-label': inputAriaLabel,\n    'aria-labelledby': '',\n  });\n  return (\n    <TextSearchContainer\n      sizeVariant={sizeVariant}\n      fullWidth={fullWidth}\n      className={className}\n      {...getComboboxProps()}\n    >\n      <InputContainer\n        sizeVariant={sizeVariant}\n        id={id}\n        error={error}\n        placeholder={placeholder}\n      >\n        <SearchIcon disabled={disabled}>\n          <LumaIcon iconCode=\"magnifying-glass\" />\n        </SearchIcon>\n        <HiddenInput\n          value={inputValue}\n          placeholder={placeholder}\n          onFocus={() => {\n            setIsFocus(!isFocus);\n          }}\n          onBlur={() => {\n            setIsFocus(!isFocus);\n          }}\n          disabled={disabled}\n          readOnly={readOnly}\n          {...inputProps}\n          {...rest}\n        />\n        {inputValue && !readOnly && (\n          <ClearIcon\n            type=\"button\"\n            aria-label={buttonAriaLabel}\n            onClick={() => {\n              reset();\n            }}\n          >\n            <LumaIcon iconCode=\"times\" />\n          </ClearIcon>\n        )}\n      </InputContainer>\n      {helperText && <HelperText error={error}>{helperText}</HelperText>}\n      <LumaDropDownBox\n        size={sizeVariant}\n        isOpen={isOpen}\n        items={items}\n        getMenuProps={getMenuProps}\n        highlightedIndex={highlightedIndex}\n        getItemProps={getItemProps}\n        renderComponent={<RenderContent />}\n        itemToString={itemToString}\n        variant={variant}\n        id={id}\n        errorTemplate={errorTemplate}\n      />\n    </TextSearchContainer>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}