{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/AccountsByRepDrawer/AccountsByRepHeader/AccountsByRepHeader.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport { selectLifecycle, selectLifecycleEventDisplayCurrency, useAppSelector } from '@luma-fe-workspace/redux';\nimport { DownloadButton, EventDetailsContainer, EventDetailsKey, EventDetailsRow, EventDetailsValue, Header, HeaderWrapper, Issuer, IssuerLogo, IssuerLogoContainer, ProductIdentifierLink, StructureType, VerticalSeparator } from './AccountsByRepHeader.styles';\nimport { upperCaseFirstLetter } from '../../../utils/textUtils';\nimport { Currency } from '../../PercentageBar/PercentageBarCard.styles';\nimport { createProductDetailsUrl } from '../../../utils/linkingUtils';\nimport { useEffect, useState } from 'react';\nimport { useGetDocumentContentsUsingGetQueryEnhanced } from '@luma-fe-workspace/redux';\nimport { isDev, isHigherEnvironment, isQA, LumaIcon } from '@luma-fe-workspace/design-system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AccountsByRepHeader = ({\n  selectedEvent\n}) => {\n  _s();\n\n  var _selectedEvent$cusip, _selectedEvent$cusip2;\n\n  const [logoExists, setLogoExists] = useState(false);\n  const logoData = useAppSelector(selectLifecycle).logoObject;\n  const issuerLogo = logoData == null ? void 0 : logoData[`${selectedEvent.issuer}`];\n  const issuerURL = `https://cms.lumafintech.com/cms-assets/PROD/images/company-logos/${issuerLogo}`;\n  const displayCurrency = useAppSelector(selectLifecycleEventDisplayCurrency);\n  const [productPerformanceReportBlob, setProdcutPerformanceReportBlob] = useState();\n  const documentRequestResponse = useGetDocumentContentsUsingGetQueryEnhanced({\n    key: isQA() ? 'ed55577b-1477-4bdd-b02b-3882e0e288fb' : isDev() || !isHigherEnvironment() // Allow Dev and localhost\n    ? '68042759-985c-458b-a145-797f751aeb31' : ''\n  });\n  useEffect(() => {\n    if (documentRequestResponse.isSuccess && !documentRequestResponse.isFetching) {\n      setProdcutPerformanceReportBlob(documentRequestResponse.data);\n    }\n  }, [documentRequestResponse]);\n  return /*#__PURE__*/_jsxDEV(HeaderWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(IssuerLogoContainer, {\n      visible: logoExists,\n      children: /*#__PURE__*/_jsxDEV(IssuerLogo, {\n        src: issuerURL,\n        alt: \"issuer_logo\",\n        onError: e => setLogoExists(false),\n        onLoad: e => setLogoExists(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Issuer, {\n        children: selectedEvent.issuer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VerticalSeparator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductIdentifierLink, {\n        href: createProductDetailsUrl((_selectedEvent$cusip = selectedEvent.cusip) != null ? _selectedEvent$cusip : selectedEvent.isin),\n        target: \"_blank\",\n        children: (_selectedEvent$cusip2 = selectedEvent.cusip) != null ? _selectedEvent$cusip2 : selectedEvent.isin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DownloadButton, {\n        size: 'icon_only',\n        variant: \"secondary\",\n        icon: {\n          iconComponent: /*#__PURE__*/_jsxDEV(LumaIcon, {\n            iconCode: \"file-arrow-down\",\n            type: \"regular\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        },\n        onClick: () => productPerformanceReportBlob && window.open(window.URL.createObjectURL(productPerformanceReportBlob), '_blank', 'noreferrer, noopener')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StructureType, {\n      children: selectedEvent.structureType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EventDetailsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(EventDetailsRow, {\n        children: [/*#__PURE__*/_jsxDEV(EventDetailsKey, {\n          children: \"Event Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EventDetailsValue, {\n          children: upperCaseFirstLetter(selectedEvent.eventType)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventDetailsRow, {\n        children: [/*#__PURE__*/_jsxDEV(EventDetailsKey, {\n          children: \"Event Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EventDetailsValue, {\n          children: selectedEvent.eventDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventDetailsRow, {\n        children: [/*#__PURE__*/_jsxDEV(EventDetailsKey, {\n          children: \"Notional\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EventDetailsValue, {\n          children: [Intl.NumberFormat().format(selectedEvent.notionalHoldingsSum), '  ', /*#__PURE__*/_jsxDEV(Currency, {\n            children: displayCurrency\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AccountsByRepHeader, \"zOmIhYNXWnRZUSXtJu5OBeZnpZc=\", false, function () {\n  return [useAppSelector, useAppSelector, useGetDocumentContentsUsingGetQueryEnhanced];\n});\n\n_c = AccountsByRepHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountsByRepHeader\");","map":{"version":3,"names":["selectLifecycle","selectLifecycleEventDisplayCurrency","useAppSelector","DownloadButton","EventDetailsContainer","EventDetailsKey","EventDetailsRow","EventDetailsValue","Header","HeaderWrapper","Issuer","IssuerLogo","IssuerLogoContainer","ProductIdentifierLink","StructureType","VerticalSeparator","upperCaseFirstLetter","Currency","createProductDetailsUrl","useEffect","useState","useGetDocumentContentsUsingGetQueryEnhanced","isDev","isHigherEnvironment","isQA","LumaIcon","AccountsByRepHeader","selectedEvent","logoExists","setLogoExists","logoData","logoObject","issuerLogo","issuer","issuerURL","displayCurrency","productPerformanceReportBlob","setProdcutPerformanceReportBlob","documentRequestResponse","key","isSuccess","isFetching","data","e","cusip","isin","iconComponent","window","open","URL","createObjectURL","structureType","eventType","eventDate","Intl","NumberFormat","format","notionalHoldingsSum"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/AccountsByRepDrawer/AccountsByRepHeader/AccountsByRepHeader.tsx"],"sourcesContent":["import {\n  LifecycleEventLM,\n  selectLifecycle,\n  selectLifecycleEventDisplayCurrency,\n  useAppSelector,\n} from '@luma-fe-workspace/redux';\nimport {\n  DownloadButton,\n  EventDetailsContainer,\n  EventDetailsKey,\n  EventDetailsRow,\n  EventDetailsValue,\n  Header,\n  HeaderWrapper,\n  Issuer,\n  IssuerLogo,\n  IssuerLogoContainer,\n  ProductIdentifierLink,\n  StructureType,\n  VerticalSeparator,\n} from './AccountsByRepHeader.styles';\nimport { upperCaseFirstLetter } from '../../../utils/textUtils';\nimport { Currency } from '../../PercentageBar/PercentageBarCard.styles';\nimport { createProductDetailsUrl } from '../../../utils/linkingUtils';\nimport { useEffect, useState } from 'react';\nimport { useGetDocumentContentsUsingGetQueryEnhanced } from '@luma-fe-workspace/redux';\nimport {\n  isDev,\n  isHigherEnvironment,\n  isQA,\n  LumaIcon,\n} from '@luma-fe-workspace/design-system';\n\ninterface AccountsByRepHeaderProps {\n  selectedEvent: LifecycleEventLM;\n}\n\nexport const AccountsByRepHeader = ({\n  selectedEvent,\n}: AccountsByRepHeaderProps) => {\n  const [logoExists, setLogoExists] = useState<boolean>(false);\n  const logoData = useAppSelector(selectLifecycle).logoObject;\n  const issuerLogo = logoData?.[`${selectedEvent.issuer}`];\n  const issuerURL = `https://cms.lumafintech.com/cms-assets/PROD/images/company-logos/${issuerLogo}`;\n  const displayCurrency = useAppSelector(selectLifecycleEventDisplayCurrency);\n\n  const [productPerformanceReportBlob, setProdcutPerformanceReportBlob] =\n    useState<Blob>();\n  const documentRequestResponse = useGetDocumentContentsUsingGetQueryEnhanced({\n    key: isQA()\n      ? 'ed55577b-1477-4bdd-b02b-3882e0e288fb'\n      : isDev() || !isHigherEnvironment() // Allow Dev and localhost\n      ? '68042759-985c-458b-a145-797f751aeb31'\n      : '',\n  });\n\n  useEffect(() => {\n    if (\n      documentRequestResponse.isSuccess &&\n      !documentRequestResponse.isFetching\n    ) {\n      setProdcutPerformanceReportBlob(documentRequestResponse.data);\n    }\n  }, [documentRequestResponse]);\n\n  return (\n    <HeaderWrapper>\n      <IssuerLogoContainer visible={logoExists}>\n        <IssuerLogo\n          src={issuerURL}\n          alt=\"issuer_logo\"\n          onError={(e) => setLogoExists(false)}\n          onLoad={(e) => setLogoExists(true)}\n        />\n      </IssuerLogoContainer>\n\n      <Header>\n        <Issuer>{selectedEvent.issuer}</Issuer>\n        <VerticalSeparator />\n        <ProductIdentifierLink\n          href={createProductDetailsUrl(\n            selectedEvent.cusip ?? selectedEvent.isin\n          )}\n          target=\"_blank\"\n        >\n          {selectedEvent.cusip ?? selectedEvent.isin}\n        </ProductIdentifierLink>\n        <DownloadButton\n          size={'icon_only'}\n          variant=\"secondary\"\n          icon={{\n            iconComponent: (\n              <LumaIcon iconCode=\"file-arrow-down\" type=\"regular\" />\n            ),\n          }}\n          onClick={() =>\n            productPerformanceReportBlob &&\n            window.open(\n              window.URL.createObjectURL(productPerformanceReportBlob),\n              '_blank',\n              'noreferrer, noopener'\n            )\n          }\n        />\n      </Header>\n      <StructureType>{selectedEvent.structureType}</StructureType>\n      <EventDetailsContainer>\n        <EventDetailsRow>\n          <EventDetailsKey>Event Type</EventDetailsKey>\n          <EventDetailsValue>\n            {upperCaseFirstLetter(selectedEvent.eventType)}\n          </EventDetailsValue>\n        </EventDetailsRow>\n        <EventDetailsRow>\n          <EventDetailsKey>Event Date</EventDetailsKey>\n          <EventDetailsValue>{selectedEvent.eventDate}</EventDetailsValue>\n        </EventDetailsRow>\n        <EventDetailsRow>\n          <EventDetailsKey>Notional</EventDetailsKey>\n          <EventDetailsValue>\n            {Intl.NumberFormat().format(selectedEvent.notionalHoldingsSum)}\n            {'  '}\n            <Currency>{displayCurrency}</Currency>\n          </EventDetailsValue>\n        </EventDetailsRow>\n      </EventDetailsContainer>\n    </HeaderWrapper>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}