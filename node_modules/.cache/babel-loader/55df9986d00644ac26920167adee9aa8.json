{"ast":null,"code":"export const refreshGridRowsOnMinute = (gridApi, columns) => {\n  const now = new Date();\n  const currentMS = now.getSeconds() * 1000 + now.getMilliseconds();\n  const msPerMinute = 60000;\n\n  const refresh = () => {\n    gridApi.refreshCells({\n      columns,\n      force: true\n    });\n  };\n\n  setTimeout(() => {\n    refresh();\n    const goodUntilDeadlineInterval = setInterval(() => {\n      refresh();\n      return () => {\n        clearInterval(goodUntilDeadlineInterval);\n      };\n    }, 60000);\n  }, msPerMinute - currentMS);\n};","map":{"version":3,"names":["refreshGridRowsOnMinute","gridApi","columns","now","Date","currentMS","getSeconds","getMilliseconds","msPerMinute","refresh","refreshCells","force","setTimeout","goodUntilDeadlineInterval","setInterval","clearInterval"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/utils/refreshGridRowsOnMinute.ts"],"sourcesContent":["import { GridApi } from 'ag-grid-community';\n\nexport const refreshGridRowsOnMinute = (\n  gridApi: GridApi,\n  columns: string[]\n) => {\n  const now = new Date();\n  const currentMS = now.getSeconds() * 1000 + now.getMilliseconds();\n  const msPerMinute = 60000;\n  const refresh = () => {\n    gridApi.refreshCells({\n      columns,\n      force: true,\n    });\n  };\n  setTimeout(() => {\n    refresh();\n    const goodUntilDeadlineInterval = setInterval(() => {\n      refresh();\n      return () => {\n        clearInterval(goodUntilDeadlineInterval);\n      };\n    }, 60000);\n  }, msPerMinute - currentMS);\n};\n"],"mappings":"AAEA,OAAO,MAAMA,uBAAuB,GAAG,CACrCC,OADqC,EAErCC,OAFqC,KAGlC;EACH,MAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;EACA,MAAMC,SAAS,GAAGF,GAAG,CAACG,UAAJ,KAAmB,IAAnB,GAA0BH,GAAG,CAACI,eAAJ,EAA5C;EACA,MAAMC,WAAW,GAAG,KAApB;;EACA,MAAMC,OAAO,GAAG,MAAM;IACpBR,OAAO,CAACS,YAAR,CAAqB;MACnBR,OADmB;MAEnBS,KAAK,EAAE;IAFY,CAArB;EAID,CALD;;EAMAC,UAAU,CAAC,MAAM;IACfH,OAAO;IACP,MAAMI,yBAAyB,GAAGC,WAAW,CAAC,MAAM;MAClDL,OAAO;MACP,OAAO,MAAM;QACXM,aAAa,CAACF,yBAAD,CAAb;MACD,CAFD;IAGD,CAL4C,EAK1C,KAL0C,CAA7C;EAMD,CARS,EAQPL,WAAW,GAAGH,SARP,CAAV;AASD,CAtBM"},"metadata":{},"sourceType":"module"}