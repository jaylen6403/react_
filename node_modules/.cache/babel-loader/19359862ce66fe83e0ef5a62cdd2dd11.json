{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/EventsWidget/StructuredProductsEvents/StructuredProductsCard/StructuredProductsCard.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { useState } from 'react';\nimport { CusipLink, EventsWidgetCard, EventsWidgetCardHeader, EventsWidgetCardHeading, EventsWidgetCardTable, EventsWidgetCardTableCell, EventsWidgetCardTableHeading, CurrencyPill, Currency, BasketType, BarrierCellTooltip, BarrierCellFull, BarrierHeader, MarkToMarket, MarkToMarketTitle, MarkToMarketValue } from './StrucutredProductsCard.style';\nimport { PerformanceData } from '../PerformanceData/PerformanceData';\nimport { getBarrierLevelIndicator } from '../../../../utils/structuredProductsEventsUtils';\nimport { createProductDetailsUrl } from '../../../../utils/links';\nimport { Tooltip } from '../../../Tooltip/Tooltip';\nimport { DateHelper } from '@luma-fe-workspace/utility';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StructuredProductsCard = ({\n  event,\n  id\n}) => {\n  _s();\n\n  var _event$notional;\n\n  const [showTooltip, setShowTooltip] = useState(false);\n  const barrierId = `${id}_barrier`;\n  const showMarkToMarket = event.markToMarketDate ? DateHelper.underThirtyDaysOld(new Date(event.markToMarketDate)) : false;\n  return /*#__PURE__*/_jsxDEV(EventsWidgetCard, {\n    indicator: getBarrierLevelIndicator(event.eventProximity, event.type),\n    children: [/*#__PURE__*/_jsxDEV(EventsWidgetCardHeader, {\n      children: [/*#__PURE__*/_jsxDEV(EventsWidgetCardHeading, {\n        children: event.eventType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CusipLink, {\n        href: createProductDetailsUrl(event.productIdentifier),\n        children: event.productSymbol ? event.productSymbol : event.productIdentifier\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BasketType, {\n      children: event.basketType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PerformanceData, {\n      underliers: event != null && event.underlierList ? event.underlierList : [],\n      barrierValue: event == null ? void 0 : event.eventProximity,\n      barrierIndicator: getBarrierLevelIndicator(event.eventProximity, event.type),\n      id: `${id}_underlier`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EventsWidgetCardTable, {\n      children: [/*#__PURE__*/_jsxDEV(EventsWidgetCardTableHeading, {\n        gridRow: 1,\n        gridCol: 1,\n        children: \"Event Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventsWidgetCardTableCell, {\n        gridRow: 1,\n        gridCol: 2,\n        children: event.eventDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BarrierHeader, {\n        children: \"Barrier/Buffer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BarrierCellFull, {\n        id: barrierId,\n        onMouseOver: () => {\n          if (event.eventFutureInfo !== '--') setShowTooltip(true);\n        },\n        onFocus: () => {\n          if (event.eventFutureInfo !== '--') setShowTooltip(true);\n        },\n        onMouseOut: () => {\n          setShowTooltip(false);\n        },\n        onBlur: () => {\n          setShowTooltip(false);\n        },\n        children: event.eventFutureInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventsWidgetCardTableHeading, {\n        gridRow: 3,\n        gridCol: 1,\n        children: [\"Notional\", ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventsWidgetCardTableCell, {\n        gridRow: 3,\n        gridCol: 2,\n        children: [(_event$notional = event.notional) == null ? void 0 : _event$notional.toLocaleString('en-US'), event.notional ? /*#__PURE__*/_jsxDEV(CurrencyPill, {\n          children: /*#__PURE__*/_jsxDEV(Currency, {\n            children: \"USD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), event.markToMarket && showMarkToMarket ? /*#__PURE__*/_jsxDEV(MarkToMarket, {\n      children: [/*#__PURE__*/_jsxDEV(MarkToMarketTitle, {\n        children: \"Mark to Market\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MarkToMarketValue, {\n        children: event.markToMarket.toLocaleString('en-US', {\n          minimumFractionDigits: 2,\n          maximumFractionDigits: 2\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(Tooltip, {\n      wrapperId: barrierId,\n      top: '50%',\n      left: '39%',\n      isVisible: showTooltip,\n      children: /*#__PURE__*/_jsxDEV(BarrierCellTooltip, {\n        children: event.eventFutureInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(StructuredProductsCard, \"MlKqB7CDspaiqeinDL2ipSY+OVU=\");\n\n_c = StructuredProductsCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"StructuredProductsCard\");","map":{"version":3,"names":["useState","CusipLink","EventsWidgetCard","EventsWidgetCardHeader","EventsWidgetCardHeading","EventsWidgetCardTable","EventsWidgetCardTableCell","EventsWidgetCardTableHeading","CurrencyPill","Currency","BasketType","BarrierCellTooltip","BarrierCellFull","BarrierHeader","MarkToMarket","MarkToMarketTitle","MarkToMarketValue","PerformanceData","getBarrierLevelIndicator","createProductDetailsUrl","Tooltip","DateHelper","StructuredProductsCard","event","id","showTooltip","setShowTooltip","barrierId","showMarkToMarket","markToMarketDate","underThirtyDaysOld","Date","eventProximity","type","eventType","productIdentifier","productSymbol","basketType","underlierList","eventDate","eventFutureInfo","notional","toLocaleString","markToMarket","minimumFractionDigits","maximumFractionDigits"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/EventsWidget/StructuredProductsEvents/StructuredProductsCard/StructuredProductsCard.tsx"],"sourcesContent":["import { useState } from 'react';\nimport {\n  CusipLink,\n  EventsWidgetCard,\n  EventsWidgetCardHeader,\n  EventsWidgetCardHeading,\n  EventsWidgetCardTable,\n  EventsWidgetCardTableCell,\n  EventsWidgetCardTableHeading,\n  CurrencyPill,\n  Currency,\n  BasketType,\n  BarrierCellTooltip,\n  BarrierCellFull,\n  BarrierHeader,\n  MarkToMarket,\n  MarkToMarketTitle,\n  MarkToMarketValue,\n} from './StrucutredProductsCard.style';\nimport { EventCardData } from '@luma-fe-workspace/redux';\nimport { PerformanceData } from '../PerformanceData/PerformanceData';\nimport { getBarrierLevelIndicator } from '../../../../utils/structuredProductsEventsUtils';\nimport { createProductDetailsUrl } from '../../../../utils/links';\nimport { Tooltip } from '../../../Tooltip/Tooltip';\nimport { DateHelper } from '@luma-fe-workspace/utility';\n\ninterface Props {\n  event: EventCardData;\n  id: string;\n}\nexport const StructuredProductsCard = ({ event, id }: Props) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const barrierId = `${id}_barrier`;\n  const showMarkToMarket = event.markToMarketDate\n    ? DateHelper.underThirtyDaysOld(new Date(event.markToMarketDate))\n    : false;\n\n  return (\n    <EventsWidgetCard\n      indicator={getBarrierLevelIndicator(event.eventProximity, event.type)}\n    >\n      <EventsWidgetCardHeader>\n        <EventsWidgetCardHeading>{event.eventType}</EventsWidgetCardHeading>\n\n        <CusipLink href={createProductDetailsUrl(event.productIdentifier)}>\n          {event.productSymbol ? event.productSymbol : event.productIdentifier}\n        </CusipLink>\n      </EventsWidgetCardHeader>\n      <BasketType>{event.basketType}</BasketType>\n      <PerformanceData\n        underliers={event?.underlierList ? event.underlierList : []}\n        barrierValue={event?.eventProximity}\n        barrierIndicator={getBarrierLevelIndicator(\n          event.eventProximity,\n          event.type\n        )}\n        id={`${id}_underlier`}\n      />\n      <EventsWidgetCardTable>\n        <EventsWidgetCardTableHeading gridRow={1} gridCol={1}>\n          Event Date\n        </EventsWidgetCardTableHeading>\n        <EventsWidgetCardTableCell gridRow={1} gridCol={2}>\n          {event.eventDate}\n        </EventsWidgetCardTableCell>\n\n        <BarrierHeader>Barrier/Buffer</BarrierHeader>\n        <BarrierCellFull\n          id={barrierId}\n          onMouseOver={() => {\n            if (event.eventFutureInfo !== '--') setShowTooltip(true);\n          }}\n          onFocus={() => {\n            if (event.eventFutureInfo !== '--') setShowTooltip(true);\n          }}\n          onMouseOut={() => {\n            setShowTooltip(false);\n          }}\n          onBlur={() => {\n            setShowTooltip(false);\n          }}\n        >\n          {event.eventFutureInfo}\n        </BarrierCellFull>\n\n        <EventsWidgetCardTableHeading gridRow={3} gridCol={1}>\n          Notional{' '}\n        </EventsWidgetCardTableHeading>\n        <EventsWidgetCardTableCell gridRow={3} gridCol={2}>\n          {event.notional?.toLocaleString('en-US')}\n          {event.notional ? (\n            <CurrencyPill>\n              <Currency>USD</Currency>\n            </CurrencyPill>\n          ) : null}\n        </EventsWidgetCardTableCell>\n      </EventsWidgetCardTable>\n      {event.markToMarket && showMarkToMarket ? (\n        <MarkToMarket>\n          <MarkToMarketTitle>Mark to Market</MarkToMarketTitle>\n          <MarkToMarketValue>\n            {event.markToMarket.toLocaleString('en-US', {\n              minimumFractionDigits: 2,\n              maximumFractionDigits: 2,\n            })}\n          </MarkToMarketValue>\n        </MarkToMarket>\n      ) : null}\n      <Tooltip\n        wrapperId={barrierId}\n        top={'50%'}\n        left={'39%'}\n        isVisible={showTooltip}\n      >\n        <BarrierCellTooltip>{event.eventFutureInfo}</BarrierCellTooltip>\n      </Tooltip>\n    </EventsWidgetCard>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}