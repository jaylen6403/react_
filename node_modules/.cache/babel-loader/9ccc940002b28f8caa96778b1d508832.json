{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/PricingForm/groups/ConfigurableFormGroups/formElements/basket/BasketShow.tsx\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport { Fragment } from 'react';\nimport { ValueTypes } from '@luma-fe-workspace/redux';\nimport { BasketSeparator, BasketShowWrapper, UnderlierWrapper } from './BasketShow.styles';\nimport { parseWeight } from './BasketUtils';\nimport { LumaChip } from '@luma-fe-workspace/design-system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function BasketShow({\n  paramName,\n  basket,\n  onBasketRemove,\n  onWeightChange,\n  handleValidation,\n  values,\n  isEditable\n}) {\n  var _underliers$map;\n\n  if (!basket) {\n    return null;\n  }\n\n  const {\n    underliers,\n    type\n  } = basket;\n  const isWeighted = type === ValueTypes.WeightedBasket;\n\n  const onBlurValidation = _ => {\n    handleValidation(values);\n  };\n\n  const basketValues = (_underliers$map = underliers == null ? void 0 : underliers.map((u, index) => {\n    const displaySeparator = isWeighted || index < underliers.length - 1;\n    const {\n      id,\n      label\n    } = u.underlier;\n    const weight = isWeighted ? u.weight : undefined;\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(UnderlierWrapper, {\n        children: /*#__PURE__*/_jsxDEV(LumaChip, {\n          variant: \"primary\",\n          state: isEditable ? 'removable' : 'locked',\n          sizeVariant: \"regular\",\n          entry: isWeighted,\n          unit: \"%\",\n          disabled: !isEditable,\n          value: parseWeight(weight),\n          onRemove: () => {\n            onBasketRemove(paramName, id);\n          },\n          onChange: e => {\n            onWeightChange(paramName, id, e.target.value);\n          },\n          onBlur: onBlurValidation,\n          \"data-testid\": `underlier-${id}`,\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), displaySeparator && /*#__PURE__*/_jsxDEV(BasketSeparator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 32\n      }, this)]\n    }, id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this);\n  })) != null ? _underliers$map : null;\n  const totalPercent = isWeighted && underliers != null && underliers.length ? underliers.reduce((sum, {\n    weight\n  }) => sum + (weight != null ? weight : 0), 0) : 0;\n\n  const total = /*#__PURE__*/_jsxDEV(LumaChip, {\n    variant: \"primary\",\n    state: \"locked\",\n    sizeVariant: \"regular\",\n    entry: true,\n    value: parseWeight(totalPercent),\n    unit: \"%\",\n    disabled: true,\n    \"data-testid\": \"underlier-total\",\n    children: \"Total\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(BasketShowWrapper, {\n    children: [basketValues, isWeighted && total]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_c = BasketShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasketShow\");","map":{"version":3,"names":["Fragment","ValueTypes","BasketSeparator","BasketShowWrapper","UnderlierWrapper","parseWeight","LumaChip","BasketShow","paramName","basket","onBasketRemove","onWeightChange","handleValidation","values","isEditable","underliers","type","isWeighted","WeightedBasket","onBlurValidation","_","basketValues","map","u","index","displaySeparator","length","id","label","underlier","weight","undefined","e","target","value","totalPercent","reduce","sum","total"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/PricingForm/groups/ConfigurableFormGroups/formElements/basket/BasketShow.tsx"],"sourcesContent":["import { FocusEvent, Fragment } from 'react';\nimport {\n  Basket,\n  ParamName,\n  UnderlierId,\n  ValueTypes,\n} from '@luma-fe-workspace/redux';\nimport {\n  BasketSeparator,\n  BasketShowWrapper,\n  UnderlierWrapper,\n} from './BasketShow.styles';\nimport { parseWeight } from './BasketUtils';\nimport { PricingFormProps } from '../../../../PricingForm';\nimport { LumaChip } from '@luma-fe-workspace/design-system';\n\ninterface BasketShowProps extends PricingFormProps {\n  paramName: ParamName;\n  basket: Basket;\n  isEditable: boolean;\n  onBasketRemove: (paramName: ParamName, id: UnderlierId) => void;\n  onWeightChange: (\n    paramName: ParamName,\n    id: UnderlierId,\n    value: string\n  ) => void;\n}\n\nexport function BasketShow({\n  paramName,\n  basket,\n  onBasketRemove,\n  onWeightChange,\n  handleValidation,\n  values,\n  isEditable,\n}: BasketShowProps) {\n  if (!basket) {\n    return null;\n  }\n  const { underliers, type } = basket;\n  const isWeighted = type === ValueTypes.WeightedBasket;\n  const onBlurValidation = (_: FocusEvent) => {\n    handleValidation(values);\n  };\n  const basketValues =\n    underliers?.map((u, index: number) => {\n      const displaySeparator = isWeighted || index < underliers.length - 1;\n      const { id, label } = u.underlier;\n      const weight = isWeighted ? (u as { weight?: number }).weight : undefined;\n      return (\n        <Fragment key={id}>\n          <UnderlierWrapper>\n            <LumaChip\n              variant=\"primary\"\n              state={isEditable ? 'removable' : 'locked'}\n              sizeVariant=\"regular\"\n              entry={isWeighted}\n              unit=\"%\"\n              disabled={!isEditable}\n              value={parseWeight(weight) as number}\n              onRemove={() => {\n                onBasketRemove(paramName, id);\n              }}\n              onChange={(e) => {\n                onWeightChange(paramName, id, e.target.value);\n              }}\n              onBlur={onBlurValidation}\n              data-testid={`underlier-${id}`}\n            >\n              {label}\n            </LumaChip>\n          </UnderlierWrapper>\n          {displaySeparator && <BasketSeparator />}\n        </Fragment>\n      );\n    }) ?? null;\n  const totalPercent =\n    isWeighted && underliers?.length\n      ? (underliers as { weight?: number }[]).reduce(\n          (sum, { weight }) => sum + (weight ?? 0),\n          0\n        )\n      : 0;\n  const total = (\n    <LumaChip\n      variant=\"primary\"\n      state=\"locked\"\n      sizeVariant=\"regular\"\n      entry={true}\n      value={parseWeight(totalPercent) as number}\n      unit=\"%\"\n      disabled={true}\n      data-testid=\"underlier-total\"\n    >\n      Total\n    </LumaChip>\n  );\n  return (\n    <BasketShowWrapper>\n      {basketValues}\n      {isWeighted && total}\n    </BasketShowWrapper>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}