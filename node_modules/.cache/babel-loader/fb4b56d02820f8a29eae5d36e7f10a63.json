{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport { useEffect, useState } from 'react';\nimport { secondariesSlice, useAppDispatch, useGetMarketplaceProductDocumentPdfUsingGetQueryEnhanced, useGetProductDocumentPdfUsingGetQueryEnhanced } from '@luma-fe-workspace/redux';\nexport const useGetProductDocumentUsingGetQuery = () => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const [productDocumentObject, setProductDocumentObject] = useState({\n    cusip: '',\n    documentType: ''\n  });\n  const productDocumentResponse = useGetMarketplaceProductDocumentPdfUsingGetQueryEnhanced({\n    cusip: productDocumentObject.cusip,\n    documentType: 'TERM_SHEET'\n  }, {\n    skip: !productDocumentObject.cusip || productDocumentObject.documentType !== 'TERM_SHEET'\n  });\n  useEffect(() => {\n    if (productDocumentResponse.isSuccess && !productDocumentResponse.isFetching) {\n      window.open(window.URL.createObjectURL(productDocumentResponse.data));\n      setProductDocumentObject({\n        documentType: '',\n        cusip: ''\n      });\n    }\n  }, [productDocumentResponse]);\n  const lifecycleDocumentResponse = useGetProductDocumentPdfUsingGetQueryEnhanced({\n    cusip: productDocumentObject.cusip,\n    documentType: 'PERFORMANCE_REPORT'\n  }, {\n    skip: !productDocumentObject.cusip || productDocumentObject.documentType !== 'PERFORMANCE_REPORT'\n  });\n  useEffect(() => {\n    if (lifecycleDocumentResponse.isSuccess && !lifecycleDocumentResponse.isFetching) {\n      window.open(window.URL.createObjectURL(lifecycleDocumentResponse.data));\n      setProductDocumentObject({\n        documentType: '',\n        cusip: ''\n      });\n    }\n  }, [lifecycleDocumentResponse]);\n  useEffect(() => {\n    if (productDocumentResponse.isError || lifecycleDocumentResponse.isError) {\n      dispatch(secondariesSlice.actions.setMessageObject({\n        title: `Unable to retrieve document`,\n        messageType: 'error',\n        isMessageShowing: true\n      }));\n    }\n  }, [dispatch, lifecycleDocumentResponse, productDocumentResponse]);\n  return {\n    setProductDocumentObject\n  };\n};\n\n_s(useGetProductDocumentUsingGetQuery, \"4fLjVwP8hTKPZDFeWKq3WsyZzkE=\", false, function () {\n  return [useAppDispatch, useGetMarketplaceProductDocumentPdfUsingGetQueryEnhanced, useGetProductDocumentPdfUsingGetQueryEnhanced];\n});","map":{"version":3,"names":["useEffect","useState","secondariesSlice","useAppDispatch","useGetMarketplaceProductDocumentPdfUsingGetQueryEnhanced","useGetProductDocumentPdfUsingGetQueryEnhanced","useGetProductDocumentUsingGetQuery","dispatch","productDocumentObject","setProductDocumentObject","cusip","documentType","productDocumentResponse","skip","isSuccess","isFetching","window","open","URL","createObjectURL","data","lifecycleDocumentResponse","isError","actions","setMessageObject","title","messageType","isMessageShowing"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/utils/pdfHooks.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  secondariesSlice,\n  useAppDispatch,\n  useGetMarketplaceProductDocumentPdfUsingGetQueryEnhanced,\n  useGetProductDocumentPdfUsingGetQueryEnhanced,\n} from '@luma-fe-workspace/redux';\n\ninterface ProductDocumentObjectType {\n  cusip: string;\n  documentType: 'TERM_SHEET' | 'PERFORMANCE_REPORT' | '';\n}\n\nexport const useGetProductDocumentUsingGetQuery = () => {\n  const dispatch = useAppDispatch();\n  const [productDocumentObject, setProductDocumentObject] =\n    useState<ProductDocumentObjectType>({\n      cusip: '',\n      documentType: '',\n    });\n\n  const productDocumentResponse =\n    useGetMarketplaceProductDocumentPdfUsingGetQueryEnhanced(\n      { cusip: productDocumentObject.cusip, documentType: 'TERM_SHEET' },\n      {\n        skip:\n          !productDocumentObject.cusip ||\n          productDocumentObject.documentType !== 'TERM_SHEET',\n      }\n    );\n\n  useEffect(() => {\n    if (\n      productDocumentResponse.isSuccess &&\n      !productDocumentResponse.isFetching\n    ) {\n      window.open(window.URL.createObjectURL(productDocumentResponse.data));\n      setProductDocumentObject({ documentType: '', cusip: '' });\n    }\n  }, [productDocumentResponse]);\n\n  const lifecycleDocumentResponse =\n    useGetProductDocumentPdfUsingGetQueryEnhanced(\n      {\n        cusip: productDocumentObject.cusip,\n        documentType: 'PERFORMANCE_REPORT',\n      },\n      {\n        skip:\n          !productDocumentObject.cusip ||\n          productDocumentObject.documentType !== 'PERFORMANCE_REPORT',\n      }\n    );\n\n  useEffect(() => {\n    if (\n      lifecycleDocumentResponse.isSuccess &&\n      !lifecycleDocumentResponse.isFetching\n    ) {\n      window.open(window.URL.createObjectURL(lifecycleDocumentResponse.data));\n      setProductDocumentObject({\n        documentType: '',\n        cusip: '',\n      });\n    }\n  }, [lifecycleDocumentResponse]);\n\n  useEffect(() => {\n    if (productDocumentResponse.isError || lifecycleDocumentResponse.isError) {\n      dispatch(\n        secondariesSlice.actions.setMessageObject({\n          title: `Unable to retrieve document`,\n          messageType: 'error',\n          isMessageShowing: true,\n        })\n      );\n    }\n  }, [dispatch, lifecycleDocumentResponse, productDocumentResponse]);\n\n  return {\n    setProductDocumentObject,\n  };\n};\n"],"mappings":";;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SACEC,gBADF,EAEEC,cAFF,EAGEC,wDAHF,EAIEC,6CAJF,QAKO,0BALP;AAYA,OAAO,MAAMC,kCAAkC,GAAG,MAAM;EAAA;;EACtD,MAAMC,QAAQ,GAAGJ,cAAc,EAA/B;EACA,MAAM,CAACK,qBAAD,EAAwBC,wBAAxB,IACJR,QAAQ,CAA4B;IAClCS,KAAK,EAAE,EAD2B;IAElCC,YAAY,EAAE;EAFoB,CAA5B,CADV;EAMA,MAAMC,uBAAuB,GAC3BR,wDAAwD,CACtD;IAAEM,KAAK,EAAEF,qBAAqB,CAACE,KAA/B;IAAsCC,YAAY,EAAE;EAApD,CADsD,EAEtD;IACEE,IAAI,EACF,CAACL,qBAAqB,CAACE,KAAvB,IACAF,qBAAqB,CAACG,YAAtB,KAAuC;EAH3C,CAFsD,CAD1D;EAUAX,SAAS,CAAC,MAAM;IACd,IACEY,uBAAuB,CAACE,SAAxB,IACA,CAACF,uBAAuB,CAACG,UAF3B,EAGE;MACAC,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACE,GAAP,CAAWC,eAAX,CAA2BP,uBAAuB,CAACQ,IAAnD,CAAZ;MACAX,wBAAwB,CAAC;QAAEE,YAAY,EAAE,EAAhB;QAAoBD,KAAK,EAAE;MAA3B,CAAD,CAAxB;IACD;EACF,CARQ,EAQN,CAACE,uBAAD,CARM,CAAT;EAUA,MAAMS,yBAAyB,GAC7BhB,6CAA6C,CAC3C;IACEK,KAAK,EAAEF,qBAAqB,CAACE,KAD/B;IAEEC,YAAY,EAAE;EAFhB,CAD2C,EAK3C;IACEE,IAAI,EACF,CAACL,qBAAqB,CAACE,KAAvB,IACAF,qBAAqB,CAACG,YAAtB,KAAuC;EAH3C,CAL2C,CAD/C;EAaAX,SAAS,CAAC,MAAM;IACd,IACEqB,yBAAyB,CAACP,SAA1B,IACA,CAACO,yBAAyB,CAACN,UAF7B,EAGE;MACAC,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACE,GAAP,CAAWC,eAAX,CAA2BE,yBAAyB,CAACD,IAArD,CAAZ;MACAX,wBAAwB,CAAC;QACvBE,YAAY,EAAE,EADS;QAEvBD,KAAK,EAAE;MAFgB,CAAD,CAAxB;IAID;EACF,CAXQ,EAWN,CAACW,yBAAD,CAXM,CAAT;EAaArB,SAAS,CAAC,MAAM;IACd,IAAIY,uBAAuB,CAACU,OAAxB,IAAmCD,yBAAyB,CAACC,OAAjE,EAA0E;MACxEf,QAAQ,CACNL,gBAAgB,CAACqB,OAAjB,CAAyBC,gBAAzB,CAA0C;QACxCC,KAAK,EAAG,6BADgC;QAExCC,WAAW,EAAE,OAF2B;QAGxCC,gBAAgB,EAAE;MAHsB,CAA1C,CADM,CAAR;IAOD;EACF,CAVQ,EAUN,CAACpB,QAAD,EAAWc,yBAAX,EAAsCT,uBAAtC,CAVM,CAAT;EAYA,OAAO;IACLH;EADK,CAAP;AAGD,CArEM;;GAAMH,kC;UACMH,c,EAQfC,wD,EAoBAC,6C"},"metadata":{},"sourceType":"module"}