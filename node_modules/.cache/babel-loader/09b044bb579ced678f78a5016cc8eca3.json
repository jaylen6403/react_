{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/lib/luma-performancereport.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport { useLocation } from 'react-router-dom';\nimport { URL_PATHS } from '@luma-fe-workspace/utility';\nimport { LifecycleRoutes } from '../utils/lmUtils';\nimport { LumaLifecycleManagerContainer, LinkTab, LinkNav, NavContainer, RightNavActions, PerformanceReportButton, PerformanceReportLink } from './luma-lifecyclemanager.styles';\nimport { useState, useEffect } from 'react';\nimport { CurrencyDropdown } from '../components/CurrencyDropdown/CurrencyDropdown';\nimport { useGetDisplayCurrenciesUsingGetQuery, useGetDocumentContentsUsingGetQueryEnhanced, useGetLogosUsingGetQuery } from '@luma-fe-workspace/redux';\nimport { isDev, isHigherEnvironment, isQA } from '@luma-fe-workspace/design-system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LumaPerformanceReport = () => {\n  _s();\n\n  const {\n    pathname\n  } = useLocation();\n  const splitPathname = pathname.split('/');\n  const currentPath = splitPathname[splitPathname.length - 1];\n  const [isFilterVisible, setIsFilterVisible] = useState(false);\n  const [currentGridApi, setCurrentGridApi] = useState();\n  useGetLogosUsingGetQuery();\n  const displayCurrenciesResponse = useGetDisplayCurrenciesUsingGetQuery();\n  const [displayCurrencyOptions, setDisplayCurrencyOptions] = useState(['USD']);\n  useEffect(() => {\n    if (displayCurrenciesResponse.isSuccess && !displayCurrenciesResponse.isFetching) {\n      setDisplayCurrencyOptions(displayCurrenciesResponse.data);\n    }\n  }, [displayCurrenciesResponse]); // Portfolio Performance Report\n\n  const [portfolioPerformanceReportBlob, setPortfolioPerformanceReportBlob] = useState();\n  const documentRequestResponse = useGetDocumentContentsUsingGetQueryEnhanced({\n    key: isQA() ? '6f0ac051-9e3c-4ca2-adcc-c343ec5a10d4' : isDev() || !isHigherEnvironment() // Allow Dev and localhost\n    ? '7c9305d4-3ecd-44fc-b89f-94c5e96151e0' : ''\n  });\n  useEffect(() => {\n    if (documentRequestResponse.isSuccess && !documentRequestResponse.isFetching) {\n      setPortfolioPerformanceReportBlob(documentRequestResponse.data);\n    }\n  }, [documentRequestResponse]);\n  return /*#__PURE__*/_jsxDEV(LumaLifecycleManagerContainer, {\n    padding: LMPadding,\n    children: /*#__PURE__*/_jsxDEV(NavContainer, {\n      children: [/*#__PURE__*/_jsxDEV(LinkNav, {\n        children: [/*#__PURE__*/_jsxDEV(LinkTab, {\n          isActive: currentPath === LifecycleRoutes.Events,\n          to: `${URL_PATHS.STRUCTURED_PRODUCTS}/${URL_PATHS.LIFECYCLE_EVENTS}`,\n          children: \"Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LinkTab, {\n          isActive: currentPath === LifecycleRoutes.Products,\n          to: `${URL_PATHS.STRUCTURED_PRODUCTS}/${URL_PATHS.LIFECYCLE_PRODUCTS}`,\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LinkTab, {\n          isActive: currentPath === LifecycleRoutes.Accounts,\n          to: `${URL_PATHS.STRUCTURED_PRODUCTS}/${URL_PATHS.LIFECYCLE_ACCOUNTS}`,\n          children: \"Accounts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RightNavActions, {\n        children: [/*#__PURE__*/_jsxDEV(PerformanceReportButton, {\n          variant: \"secondary\",\n          size: \"small\",\n          fullWidth: true,\n          children: /*#__PURE__*/_jsxDEV(PerformanceReportLink, {\n            onClick: () => {\n              portfolioPerformanceReportBlob && window.open(window.URL.createObjectURL(portfolioPerformanceReportBlob));\n            },\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: \"Portfolio Performance Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CurrencyDropdown, {\n          currencyDropdownOptions: displayCurrencyOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LumaPerformanceReport, \"IDy8QUDxmKn0QsCEOjzgDMC5L0s=\", false, function () {\n  return [useLocation, useGetLogosUsingGetQuery, useGetDisplayCurrenciesUsingGetQuery, useGetDocumentContentsUsingGetQueryEnhanced];\n});\n\n_c = LumaPerformanceReport;\nexport default LumaPerformanceReport;\n\nvar _c;\n\n$RefreshReg$(_c, \"LumaPerformanceReport\");","map":{"version":3,"names":["useLocation","URL_PATHS","LifecycleRoutes","LumaLifecycleManagerContainer","LinkTab","LinkNav","NavContainer","RightNavActions","PerformanceReportButton","PerformanceReportLink","useState","useEffect","CurrencyDropdown","useGetDisplayCurrenciesUsingGetQuery","useGetDocumentContentsUsingGetQueryEnhanced","useGetLogosUsingGetQuery","isDev","isHigherEnvironment","isQA","LumaPerformanceReport","pathname","splitPathname","split","currentPath","length","isFilterVisible","setIsFilterVisible","currentGridApi","setCurrentGridApi","displayCurrenciesResponse","displayCurrencyOptions","setDisplayCurrencyOptions","isSuccess","isFetching","data","portfolioPerformanceReportBlob","setPortfolioPerformanceReportBlob","documentRequestResponse","key","LMPadding","Events","STRUCTURED_PRODUCTS","LIFECYCLE_EVENTS","Products","LIFECYCLE_PRODUCTS","Accounts","LIFECYCLE_ACCOUNTS","window","open","URL","createObjectURL"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/lib/luma-performancereport.tsx"],"sourcesContent":["import { Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport { URL_PATHS } from '@luma-fe-workspace/utility';\nimport { EventsPage } from '../components/EventsPage/EventsPage';\nimport { ProductMetrics } from '../components/ProductMetrics/ProductMetrics';\nimport { AccountMetrics } from '../components/AccountMetrics/AccountMetrics';\nimport { LifecycleRoutes } from '../utils/lmUtils';\nimport {\n  LumaLifecycleManagerContainer,\n  LinkTab,\n  LinkNav,\n  LifecycleManagerBody,\n  NavContainer,\n  RightNavActions,\n  LMAppFooter,\n  PerformanceReportButton,\n  PerformanceReportLink,\n} from './luma-lifecyclemanager.styles';\nimport { useState, useEffect } from 'react';\nimport { FilterPanel } from '../components/FilterPanel/FilterPanel';\nimport { FilterBar } from '../components/FilterBar/FilterBar';\nimport { CurrencyDropdown } from '../components/CurrencyDropdown/CurrencyDropdown';\nimport {\n  useGetDisplayCurrenciesUsingGetQuery,\n  useGetDocumentContentsUsingGetQueryEnhanced,\n  useGetLogosUsingGetQuery,\n} from '@luma-fe-workspace/redux';\nimport { GridApi } from 'ag-grid-community';\nimport {\n  isDev,\n  isHigherEnvironment,\n  isQA,\n} from '@luma-fe-workspace/design-system';\n\n\nexport const LumaPerformanceReport = () => {\n  const { pathname } = useLocation();\n  const splitPathname = pathname.split('/');\n  const currentPath = splitPathname[splitPathname.length - 1];\n  const [isFilterVisible, setIsFilterVisible] = useState<boolean>(false);\n  const [currentGridApi, setCurrentGridApi] = useState<GridApi>();\n  useGetLogosUsingGetQuery();\n\n  const displayCurrenciesResponse = useGetDisplayCurrenciesUsingGetQuery();\n  const [displayCurrencyOptions, setDisplayCurrencyOptions] = useState<\n    string[]\n  >(['USD']);\n\n  useEffect(() => {\n    if (\n      displayCurrenciesResponse.isSuccess &&\n      !displayCurrenciesResponse.isFetching\n    ) {\n      setDisplayCurrencyOptions(displayCurrenciesResponse.data);\n    }\n  }, [displayCurrenciesResponse]);\n\n  // Portfolio Performance Report\n  const [portfolioPerformanceReportBlob, setPortfolioPerformanceReportBlob] =\n    useState<Blob>();\n  const documentRequestResponse = useGetDocumentContentsUsingGetQueryEnhanced({\n    key: isQA()\n      ? '6f0ac051-9e3c-4ca2-adcc-c343ec5a10d4'\n      : isDev() || !isHigherEnvironment() // Allow Dev and localhost\n      ? '7c9305d4-3ecd-44fc-b89f-94c5e96151e0'\n      : '',\n  });\n  useEffect(() => {\n    if (\n      documentRequestResponse.isSuccess &&\n      !documentRequestResponse.isFetching\n    ) {\n      setPortfolioPerformanceReportBlob(documentRequestResponse.data);\n    }\n  }, [documentRequestResponse]);\n\n  return (\n    <LumaLifecycleManagerContainer padding={LMPadding}>\n      <NavContainer>\n        <LinkNav>\n          <LinkTab\n            isActive={currentPath === LifecycleRoutes.Events}\n            to={`${URL_PATHS.STRUCTURED_PRODUCTS}/${URL_PATHS.LIFECYCLE_EVENTS}`}\n          >\n            Events\n          </LinkTab>\n          <LinkTab\n            isActive={currentPath === LifecycleRoutes.Products}\n            to={`${URL_PATHS.STRUCTURED_PRODUCTS}/${URL_PATHS.LIFECYCLE_PRODUCTS}`}\n          >\n            Products\n          </LinkTab>\n          <LinkTab\n            isActive={currentPath === LifecycleRoutes.Accounts}\n            to={`${URL_PATHS.STRUCTURED_PRODUCTS}/${URL_PATHS.LIFECYCLE_ACCOUNTS}`}\n          >\n            Accounts\n          </LinkTab>\n        </LinkNav>\n        <RightNavActions>\n          <PerformanceReportButton\n            variant=\"secondary\"\n            size=\"small\"\n            fullWidth={true}\n          >\n            <PerformanceReportLink\n              onClick={() => {\n                portfolioPerformanceReportBlob &&\n                  window.open(\n                    window.URL.createObjectURL(portfolioPerformanceReportBlob)\n                  );\n              }}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Portfolio Performance Report\n            </PerformanceReportLink>\n          </PerformanceReportButton>\n          <CurrencyDropdown currencyDropdownOptions={displayCurrencyOptions} />\n        </RightNavActions>\n      </NavContainer>\n    </LumaLifecycleManagerContainer>\n  );\n};\n\nexport default LumaPerformanceReport;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}