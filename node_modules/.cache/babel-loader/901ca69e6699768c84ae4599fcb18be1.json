{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/PieChart/PieChart.tsx\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport Highcharts from 'highcharts';\nimport { colors } from '@luma-fe-workspace/design-system';\nimport HighchartsReact from 'highcharts-react-official';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const NUM_PERCENT_DEC_PLACES = 1;\n// Max of 7 categories allowed, so only 7 colors needed\nexport const colorSpectrum = [colors.primary80Daintree, colors.primary70, colors.primary60, colors.primary50, colors.primary40, colors.primary30, colors.primary20];\nexport const PieChart = ({\n  data,\n  numPercentageDecimalPlaces,\n  innerSize\n}) => {\n  const pieChartDataWithColors = data == null ? void 0 : data.map((dataElement, i) => {\n    return Object.assign({}, dataElement, {\n      color: colorSpectrum[i % colorSpectrum.length]\n    });\n  });\n  const chartOptions = {\n    title: {\n      text: undefined\n    },\n    plotOptions: {\n      pie: {\n        borderWidth: 1,\n        borderColor: undefined,\n        innerSize: innerSize != null ? innerSize : '0'\n      }\n    },\n    credits: {\n      enabled: false\n    },\n    chart: {\n      type: 'pie',\n      plotShadow: false,\n      height: '100%'\n    },\n    series: [{\n      name: '',\n      data: pieChartDataWithColors,\n      dataLabels: [{\n        enabled: false\n      }],\n      states: {\n        hover: {\n          halo: {\n            size: 0\n          }\n        }\n      },\n      type: 'pie'\n    }],\n    tooltip: {\n      borderColor: colors.greyLighter,\n      formatter: function () {\n        var _this$y;\n\n        return `<div>${this.point.name}</div><br/><div>% of Total: ${this.percentage.toFixed(numPercentageDecimalPlaces)}%</div><br><div>Value: ${(_this$y = this.y) == null ? void 0 : _this$y.toLocaleString()}</div>`;\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(HighchartsReact, {\n    highcharts: Highcharts,\n    options: chartOptions\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 10\n  }, this);\n};\n_c = PieChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"names":["Highcharts","colors","HighchartsReact","NUM_PERCENT_DEC_PLACES","colorSpectrum","primary80Daintree","primary70","primary60","primary50","primary40","primary30","primary20","PieChart","data","numPercentageDecimalPlaces","innerSize","pieChartDataWithColors","map","dataElement","i","color","length","chartOptions","title","text","undefined","plotOptions","pie","borderWidth","borderColor","credits","enabled","chart","type","plotShadow","height","series","name","dataLabels","states","hover","halo","size","tooltip","greyLighter","formatter","point","percentage","toFixed","y","toLocaleString"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/PieChart/PieChart.tsx"],"sourcesContent":["import Highcharts from 'highcharts';\nimport { colors } from '@luma-fe-workspace/design-system';\nimport HighchartsReact from 'highcharts-react-official';\n\nexport const NUM_PERCENT_DEC_PLACES = 1;\nexport type PieChartData = { name: string; y: number };\n\n// Max of 7 categories allowed, so only 7 colors needed\nexport const colorSpectrum = [\n  colors.primary80Daintree,\n  colors.primary70,\n  colors.primary60,\n  colors.primary50,\n  colors.primary40,\n  colors.primary30,\n  colors.primary20,\n];\n\nexport interface PieChartProps {\n  data: PieChartData[];\n  numPercentageDecimalPlaces?: number;\n  /**\n   * (Highcharts) The size of the inner diameter for the pie. A size greater\n   * than 0 renders a donut chart. Can be a percentage or pixel value.\n   * Percentages are relative to the pie size. Pixel values are given as\n   * integers.\n   *\n   * The type is `string` instead of `string | number` because of a bug in\n   * Storybook that changes the input type to object and doesn't work with\n   * the component. Numbers can still be passed as strings and the behavior\n   * is identical, but can be tested in Storybook this way\n   */\n  innerSize?: string;\n}\n\nexport const PieChart = ({\n  data,\n  numPercentageDecimalPlaces,\n  innerSize,\n}: PieChartProps) => {\n  const pieChartDataWithColors = data?.map((dataElement, i) => {\n    return {\n      ...dataElement,\n      color: colorSpectrum[i % colorSpectrum.length],\n    };\n  });\n  const chartOptions: Highcharts.Options = {\n    title: {\n      text: undefined,\n    },\n    plotOptions: {\n      pie: {\n        borderWidth: 1,\n        borderColor: undefined,\n        innerSize: innerSize ?? '0',\n      },\n    },\n    credits: { enabled: false },\n    chart: {\n      type: 'pie',\n      plotShadow: false,\n      height: '100%',\n    },\n    series: [\n      {\n        name: '',\n        data: pieChartDataWithColors,\n        dataLabels: [{ enabled: false }],\n        states: {\n          hover: {\n            halo: {\n              size: 0,\n            },\n          },\n        },\n        type: 'pie',\n      },\n    ],\n    tooltip: {\n      borderColor: colors.greyLighter,\n      formatter: function (this) {\n        return `<div>${\n          this.point.name\n        }</div><br/><div>% of Total: ${this.percentage.toFixed(\n          numPercentageDecimalPlaces\n        )}%</div><br><div>Value: ${this.y?.toLocaleString()}</div>`;\n      },\n    },\n  };\n\n  return <HighchartsReact highcharts={Highcharts} options={chartOptions} />;\n};\n"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,MAAT,QAAuB,kCAAvB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;;AAEA,OAAO,MAAMC,sBAAsB,GAAG,CAA/B;AAGP;AACA,OAAO,MAAMC,aAAa,GAAG,CAC3BH,MAAM,CAACI,iBADoB,EAE3BJ,MAAM,CAACK,SAFoB,EAG3BL,MAAM,CAACM,SAHoB,EAI3BN,MAAM,CAACO,SAJoB,EAK3BP,MAAM,CAACQ,SALoB,EAM3BR,MAAM,CAACS,SANoB,EAO3BT,MAAM,CAACU,SAPoB,CAAtB;AA2BP,OAAO,MAAMC,QAAQ,GAAG,CAAC;EACvBC,IADuB;EAEvBC,0BAFuB;EAGvBC;AAHuB,CAAD,KAIH;EACnB,MAAMC,sBAAsB,GAAGH,IAAH,oBAAGA,IAAI,CAAEI,GAAN,CAAU,CAACC,WAAD,EAAcC,CAAd,KAAoB;IAC3D,yBACKD,WADL;MAEEE,KAAK,EAAEhB,aAAa,CAACe,CAAC,GAAGf,aAAa,CAACiB,MAAnB;IAFtB;EAID,CAL8B,CAA/B;EAMA,MAAMC,YAAgC,GAAG;IACvCC,KAAK,EAAE;MACLC,IAAI,EAAEC;IADD,CADgC;IAIvCC,WAAW,EAAE;MACXC,GAAG,EAAE;QACHC,WAAW,EAAE,CADV;QAEHC,WAAW,EAAEJ,SAFV;QAGHV,SAAS,EAAEA,SAAF,WAAEA,SAAF,GAAe;MAHrB;IADM,CAJ0B;IAWvCe,OAAO,EAAE;MAAEC,OAAO,EAAE;IAAX,CAX8B;IAYvCC,KAAK,EAAE;MACLC,IAAI,EAAE,KADD;MAELC,UAAU,EAAE,KAFP;MAGLC,MAAM,EAAE;IAHH,CAZgC;IAiBvCC,MAAM,EAAE,CACN;MACEC,IAAI,EAAE,EADR;MAEExB,IAAI,EAAEG,sBAFR;MAGEsB,UAAU,EAAE,CAAC;QAAEP,OAAO,EAAE;MAAX,CAAD,CAHd;MAIEQ,MAAM,EAAE;QACNC,KAAK,EAAE;UACLC,IAAI,EAAE;YACJC,IAAI,EAAE;UADF;QADD;MADD,CAJV;MAWET,IAAI,EAAE;IAXR,CADM,CAjB+B;IAgCvCU,OAAO,EAAE;MACPd,WAAW,EAAE5B,MAAM,CAAC2C,WADb;MAEPC,SAAS,EAAE,YAAgB;QAAA;;QACzB,OAAQ,QACN,KAAKC,KAAL,CAAWT,IACZ,+BAA8B,KAAKU,UAAL,CAAgBC,OAAhB,CAC7BlC,0BAD6B,CAE7B,0BAJK,WAIoB,KAAKmC,CAJzB,qBAIoB,QAAQC,cAAR,EAAyB,QAJpD;MAKD;IARM;EAhC8B,CAAzC;EA4CA,oBAAO,QAAC,eAAD;IAAiB,UAAU,EAAElD,UAA7B;IAAyC,OAAO,EAAEsB;EAAlD;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAxDM;KAAMV,Q"},"metadata":{},"sourceType":"module"}