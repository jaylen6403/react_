{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/confirmation/src/components/EventConfirmations/EventConfirmations.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AppFooter, Spinner } from '@luma-fe-workspace/luma/dashboard';\nimport { useCreateEventConfirmationListUsingGetQuery, WidgetPermissions, lumaPermissionsArray, useUiPermissionsQuery } from '@luma-fe-workspace/redux';\nimport { OpsEventConfirmations } from './OpsEventConfirmations';\nimport { ClientApproverEventConfirmations } from './ClientApproverEventConfirmations';\nimport { ConfirmationsContainer, Header, HeaderContainer } from './EventConfirmations.styles';\nimport { ProvideEventConfirmationOptions } from '../../utils/hooks/useEventConfirmationOptions';\nimport { EventConfirmationOptions } from './EventConfirmationOptions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LumaEventConfirmation = () => {\n  _s();\n\n  const {\n    isLoading: eventsLoading,\n    data: eventsData\n  } = useCreateEventConfirmationListUsingGetQuery();\n  const {\n    data: userPermissionsData\n  } = useUiPermissionsQuery({\n    permissions: lumaPermissionsArray\n  });\n  const navigate = useNavigate();\n  const eventsDataExists = !eventsLoading && eventsData;\n  const isAdmin = userPermissionsData == null ? void 0 : userPermissionsData.includes(WidgetPermissions.MenuAdmin);\n  const hasClientApproverAccess = userPermissionsData == null ? void 0 : userPermissionsData.includes(WidgetPermissions.EventConfirmationsApprover);\n  const showOpsTable = eventsDataExists && isAdmin;\n\n  const chooseEventConfirmationTable = (showOpsTable, hasClientApproverAccess, eventsData) => {\n    if (showOpsTable && eventsData) {\n      return /*#__PURE__*/_jsxDEV(OpsEventConfirmations, {\n        eventsData: eventsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }, this);\n    } else if (hasClientApproverAccess && eventsData) {\n      return /*#__PURE__*/_jsxDEV(ClientApproverEventConfirmations, {\n        eventsData: eventsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  useEffect(() => {\n    if (userPermissionsData) {\n      if (isAdmin || hasClientApproverAccess) return;\n      return navigate('/dashboard');\n    }\n  }, [userPermissionsData]);\n  return /*#__PURE__*/_jsxDEV(ProvideEventConfirmationOptions, {\n    children: /*#__PURE__*/_jsxDEV(ConfirmationsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(HeaderContainer, {\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          children: \"Event Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventConfirmationOptions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), chooseEventConfirmationTable(showOpsTable, hasClientApproverAccess, eventsData), /*#__PURE__*/_jsxDEV(AppFooter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LumaEventConfirmation, \"1IIZ9D07mqhRNcXfz4Gt2sqByZo=\", false, function () {\n  return [useCreateEventConfirmationListUsingGetQuery, useUiPermissionsQuery, useNavigate];\n});\n\n_c = LumaEventConfirmation;\n\nvar _c;\n\n$RefreshReg$(_c, \"LumaEventConfirmation\");","map":{"version":3,"names":["useEffect","useNavigate","AppFooter","Spinner","useCreateEventConfirmationListUsingGetQuery","WidgetPermissions","lumaPermissionsArray","useUiPermissionsQuery","OpsEventConfirmations","ClientApproverEventConfirmations","ConfirmationsContainer","Header","HeaderContainer","ProvideEventConfirmationOptions","EventConfirmationOptions","LumaEventConfirmation","isLoading","eventsLoading","data","eventsData","userPermissionsData","permissions","navigate","eventsDataExists","isAdmin","includes","MenuAdmin","hasClientApproverAccess","EventConfirmationsApprover","showOpsTable","chooseEventConfirmationTable"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/confirmation/src/components/EventConfirmations/EventConfirmations.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { AppFooter, Spinner } from '@luma-fe-workspace/luma/dashboard';\nimport {\n  useCreateEventConfirmationListUsingGetQuery,\n  EventProductData,\n  WidgetPermissions,\n  lumaPermissionsArray,\n  useUiPermissionsQuery,\n} from '@luma-fe-workspace/redux';\n\nimport { OpsEventConfirmations } from './OpsEventConfirmations';\nimport { ClientApproverEventConfirmations } from './ClientApproverEventConfirmations';\nimport {\n  ConfirmationsContainer,\n  Header,\n  HeaderContainer,\n} from './EventConfirmations.styles';\nimport { ProvideEventConfirmationOptions } from '../../utils/hooks/useEventConfirmationOptions';\nimport { EventConfirmationOptions } from './EventConfirmationOptions';\n\nexport const LumaEventConfirmation = () => {\n  const { isLoading: eventsLoading, data: eventsData } =\n    useCreateEventConfirmationListUsingGetQuery();\n\n  const { data: userPermissionsData } = useUiPermissionsQuery({\n    permissions: lumaPermissionsArray,\n  });\n\n  const navigate = useNavigate();\n\n  const eventsDataExists = !eventsLoading && eventsData;\n\n  const isAdmin = userPermissionsData?.includes(WidgetPermissions.MenuAdmin);\n  const hasClientApproverAccess = userPermissionsData?.includes(\n    WidgetPermissions.EventConfirmationsApprover\n  );\n\n  const showOpsTable = eventsDataExists && isAdmin;\n\n  const chooseEventConfirmationTable = (\n    showOpsTable: boolean | undefined,\n    hasClientApproverAccess: boolean | undefined,\n    eventsData: EventProductData[] | undefined\n  ) => {\n    if (showOpsTable && eventsData) {\n      return <OpsEventConfirmations eventsData={eventsData} />;\n    } else if (hasClientApproverAccess && eventsData) {\n      return <ClientApproverEventConfirmations eventsData={eventsData} />;\n    } else {\n      return <Spinner />;\n    }\n  };\n\n  useEffect(() => {\n    if (userPermissionsData) {\n      if (isAdmin || hasClientApproverAccess) return;\n      return navigate('/dashboard');\n    }\n  }, [userPermissionsData]);\n\n  return (\n    <ProvideEventConfirmationOptions>\n      <ConfirmationsContainer>\n        <HeaderContainer>\n          <Header>Event Notifications</Header>\n        </HeaderContainer>\n        <EventConfirmationOptions />\n        {chooseEventConfirmationTable(\n          showOpsTable,\n          hasClientApproverAccess,\n          eventsData\n        )}\n        <AppFooter />\n      </ConfirmationsContainer>\n    </ProvideEventConfirmationOptions>\n  );\n};\n"],"mappings":";;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,mCAAnC;AACA,SACEC,2CADF,EAGEC,iBAHF,EAIEC,oBAJF,EAKEC,qBALF,QAMO,0BANP;AAQA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,gCAAT,QAAiD,oCAAjD;AACA,SACEC,sBADF,EAEEC,MAFF,EAGEC,eAHF,QAIO,6BAJP;AAKA,SAASC,+BAAT,QAAgD,+CAAhD;AACA,SAASC,wBAAT,QAAyC,4BAAzC;;AAEA,OAAO,MAAMC,qBAAqB,GAAG,MAAM;EAAA;;EACzC,MAAM;IAAEC,SAAS,EAAEC,aAAb;IAA4BC,IAAI,EAAEC;EAAlC,IACJf,2CAA2C,EAD7C;EAGA,MAAM;IAAEc,IAAI,EAAEE;EAAR,IAAgCb,qBAAqB,CAAC;IAC1Dc,WAAW,EAAEf;EAD6C,CAAD,CAA3D;EAIA,MAAMgB,QAAQ,GAAGrB,WAAW,EAA5B;EAEA,MAAMsB,gBAAgB,GAAG,CAACN,aAAD,IAAkBE,UAA3C;EAEA,MAAMK,OAAO,GAAGJ,mBAAH,oBAAGA,mBAAmB,CAAEK,QAArB,CAA8BpB,iBAAiB,CAACqB,SAAhD,CAAhB;EACA,MAAMC,uBAAuB,GAAGP,mBAAH,oBAAGA,mBAAmB,CAAEK,QAArB,CAC9BpB,iBAAiB,CAACuB,0BADY,CAAhC;EAIA,MAAMC,YAAY,GAAGN,gBAAgB,IAAIC,OAAzC;;EAEA,MAAMM,4BAA4B,GAAG,CACnCD,YADmC,EAEnCF,uBAFmC,EAGnCR,UAHmC,KAIhC;IACH,IAAIU,YAAY,IAAIV,UAApB,EAAgC;MAC9B,oBAAO,QAAC,qBAAD;QAAuB,UAAU,EAAEA;MAAnC;QAAA;QAAA;QAAA;MAAA,QAAP;IACD,CAFD,MAEO,IAAIQ,uBAAuB,IAAIR,UAA/B,EAA2C;MAChD,oBAAO,QAAC,gCAAD;QAAkC,UAAU,EAAEA;MAA9C;QAAA;QAAA;QAAA;MAAA,QAAP;IACD,CAFM,MAEA;MACL,oBAAO,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;EACF,CAZD;;EAcAnB,SAAS,CAAC,MAAM;IACd,IAAIoB,mBAAJ,EAAyB;MACvB,IAAII,OAAO,IAAIG,uBAAf,EAAwC;MACxC,OAAOL,QAAQ,CAAC,YAAD,CAAf;IACD;EACF,CALQ,EAKN,CAACF,mBAAD,CALM,CAAT;EAOA,oBACE,QAAC,+BAAD;IAAA,uBACE,QAAC,sBAAD;MAAA,wBACE,QAAC,eAAD;QAAA,uBACE,QAAC,MAAD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,wBAAD;QAAA;QAAA;QAAA;MAAA,QAJF,EAKGU,4BAA4B,CAC3BD,YAD2B,EAE3BF,uBAF2B,EAG3BR,UAH2B,CAL/B,eAUE,QAAC,SAAD;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD,CAxDM;;GAAMJ,qB;UAETX,2C,EAEoCG,qB,EAIrBN,W;;;KARNc,qB"},"metadata":{},"sourceType":"module"}