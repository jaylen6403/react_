{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/FilterBar/FilterBar.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.parse-int.js\";\nimport { LumaIcon } from '@luma-fe-workspace/design-system';\nimport { lifecycleSlice, selectLifecycle, useAppDispatch, useAppSelector } from '@luma-fe-workspace/redux';\nimport { addDays, addMonths, addWeeks, endOfMonth } from 'date-fns';\nimport { LifecycleExportButton } from '../LifecycleExportButton/LifecycleExportButton';\nimport { ActionBar, DateDropDown, FilterButton, LeftActions, RightActions } from './FilterBar.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FilterBar = ({\n  setIsFilterVisible,\n  currentGridApi\n}) => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const dateRange = useAppSelector(selectLifecycle).dateRange;\n  const dates = [{\n    label: 'Today',\n    value: 'T'\n  }, {\n    label: '1 Week',\n    value: '1W'\n  }, {\n    label: '2 Weeks',\n    value: '2W'\n  }, {\n    label: '1 Month',\n    value: '1M'\n  }, {\n    label: '3 Months',\n    value: '3M'\n  }, {\n    label: '6 Months',\n    value: '6M'\n  }, {\n    label: '12 Months',\n    value: '12M'\n  }, {\n    label: '18 Months',\n    value: '18M'\n  }];\n\n  const setDateValue = dateValue => {\n    if (!(dateValue != null && dateValue.value) || typeof (dateValue == null ? void 0 : dateValue.value) !== 'string') return;\n    const dateKey = dateValue.value;\n    const denominator = dateKey.slice(-1);\n    const amount = parseInt(dateKey.slice(0, -1));\n    const startDate = new Date();\n    let endDate;\n\n    if (denominator === 'M') {\n      endDate = endOfMonth(addMonths(startDate, amount));\n    } else if (denominator === 'W') {\n      endDate = addWeeks(startDate, amount);\n    } else {\n      endDate = addDays(startDate, 1);\n    }\n\n    const dateObject = {\n      startDate: new Date(startDate.setHours(0, 0, 0, 0)).toISOString(),\n      endDate: new Date(endDate.setHours(23, 59, 0, 0)).toISOString(),\n      rangeAbbreviation: dateKey\n    };\n    dispatch(lifecycleSlice.actions.setDateRange(dateObject));\n  };\n\n  return /*#__PURE__*/_jsxDEV(ActionBar, {\n    children: [/*#__PURE__*/_jsxDEV(LeftActions, {\n      children: [/*#__PURE__*/_jsxDEV(DateDropDown, {\n        items: dates,\n        dropDownIcon: 'calendar',\n        dropDownIconType: 'regular',\n        defaultSelectedItem: dates.find(date => date.value === dateRange.rangeAbbreviation),\n        readOnly: true,\n        size: \"small\",\n        name: 'Date Range Selection',\n        id: 'Date Range Selection',\n        onChange: e => setDateValue(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterButton, {\n        onClick: () => setIsFilterVisible(true),\n        variant: \"tertiary\",\n        size: \"small\",\n        icon: {\n          iconComponent: /*#__PURE__*/_jsxDEV(LumaIcon, {\n            iconCode: \"filter\",\n            type: \"regular\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 28\n          }, this)\n        },\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RightActions, {\n      children: /*#__PURE__*/_jsxDEV(LifecycleExportButton, {\n        gridApi: currentGridApi,\n        tableName: 'Events Data'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FilterBar, \"YGLbk/QEw+zencEnDMCmjCXAZLY=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n\n_c = FilterBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterBar\");","map":{"version":3,"names":["LumaIcon","lifecycleSlice","selectLifecycle","useAppDispatch","useAppSelector","addDays","addMonths","addWeeks","endOfMonth","LifecycleExportButton","ActionBar","DateDropDown","FilterButton","LeftActions","RightActions","FilterBar","setIsFilterVisible","currentGridApi","dispatch","dateRange","dates","label","value","setDateValue","dateValue","dateKey","denominator","slice","amount","parseInt","startDate","Date","endDate","dateObject","setHours","toISOString","rangeAbbreviation","actions","setDateRange","find","date","e","iconComponent"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/FilterBar/FilterBar.tsx"],"sourcesContent":["import { DataItemProps, LumaIcon } from '@luma-fe-workspace/design-system';\nimport {\n  DateObject,\n  DateRange,\n  lifecycleSlice,\n  selectLifecycle,\n  useAppDispatch,\n  useAppSelector,\n} from '@luma-fe-workspace/redux';\nimport { GridApi } from 'ag-grid-community';\nimport { addDays, addMonths, addWeeks, endOfMonth } from 'date-fns';\nimport { LifecycleExportButton } from '../LifecycleExportButton/LifecycleExportButton';\n\nimport {\n  ActionBar,\n  DateDropDown,\n  FilterButton,\n  LeftActions,\n  RightActions,\n} from './FilterBar.styles';\n\ninterface FilterBarProps {\n  setIsFilterVisible: (isVisible: boolean) => void;\n  currentGridApi?: GridApi;\n}\n\ninterface DateItemProps extends DataItemProps {\n  value: DateRange;\n}\nexport const FilterBar = ({\n  setIsFilterVisible,\n  currentGridApi,\n}: FilterBarProps) => {\n  const dispatch = useAppDispatch();\n  const dateRange = useAppSelector(selectLifecycle).dateRange;\n  const dates: DateItemProps[] = [\n    {\n      label: 'Today',\n      value: 'T',\n    },\n    {\n      label: '1 Week',\n      value: '1W',\n    },\n    {\n      label: '2 Weeks',\n      value: '2W',\n    },\n    {\n      label: '1 Month',\n      value: '1M',\n    },\n    {\n      label: '3 Months',\n      value: '3M',\n    },\n    {\n      label: '6 Months',\n      value: '6M',\n    },\n    {\n      label: '12 Months',\n      value: '12M',\n    },\n    {\n      label: '18 Months',\n      value: '18M',\n    },\n  ];\n\n  const setDateValue = (dateValue: DataItemProps | null) => {\n    if (!dateValue?.value || typeof dateValue?.value !== 'string') return;\n    const dateKey = dateValue.value;\n    const denominator = dateKey.slice(-1);\n    const amount = parseInt(dateKey.slice(0, -1));\n    const startDate = new Date();\n    let endDate: Date;\n    if (denominator === 'M') {\n      endDate = endOfMonth(addMonths(startDate, amount));\n    } else if (denominator === 'W') {\n      endDate = addWeeks(startDate, amount);\n    } else {\n      endDate = addDays(startDate, 1);\n    }\n\n    const dateObject: DateObject = {\n      startDate: new Date(startDate.setHours(0, 0, 0, 0)).toISOString(),\n      endDate: new Date(endDate.setHours(23, 59, 0, 0)).toISOString(),\n      rangeAbbreviation: dateKey,\n    };\n\n    dispatch(lifecycleSlice.actions.setDateRange(dateObject));\n  };\n\n  return (\n    <ActionBar>\n      <LeftActions>\n        <DateDropDown\n          items={dates}\n          dropDownIcon={'calendar'}\n          dropDownIconType={'regular'}\n          defaultSelectedItem={dates.find(\n            (date) => date.value === dateRange.rangeAbbreviation\n          )}\n          readOnly\n          size=\"small\"\n          name={'Date Range Selection'}\n          id={'Date Range Selection'}\n          onChange={(e) => setDateValue(e)}\n        />\n        <FilterButton\n          onClick={() => setIsFilterVisible(true)}\n          variant=\"tertiary\"\n          size=\"small\"\n          icon={{\n            iconComponent: <LumaIcon iconCode=\"filter\" type=\"regular\" />,\n          }}\n        >\n          Filters\n        </FilterButton>\n      </LeftActions>\n      <RightActions>\n        <LifecycleExportButton\n          gridApi={currentGridApi}\n          tableName={'Events Data'}\n        />\n      </RightActions>\n    </ActionBar>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}