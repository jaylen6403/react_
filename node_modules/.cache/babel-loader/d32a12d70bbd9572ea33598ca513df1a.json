{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/PortfolioWidget/AnnuityProducts/AnnuityProducts.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport { useMemo } from 'react';\nimport { Spinner } from '../../Spinner/Spinner';\nimport { AGGridTable } from '../AGGridTableDashboard';\nimport { StyledPortfolioWidget, Table, Chart, ChartTableWrapper, Disclaimer } from '../PortfolioWidget.styles';\nimport { policyAcctValues, annuityTableColumnData } from '../../../utils/annuityProductsPortfolio.utils';\nimport { colors } from '@luma-fe-workspace/design-system';\nimport { PieChart } from '../PieChart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AnnuityProducts = ({\n  annuityPortfolioData,\n  annuityPortfolioIsLoading,\n  pieChartSize,\n  screenWidth,\n  otherWidgetPresent\n}) => {\n  _s();\n\n  const annuityData = annuityPortfolioData;\n  const annuitySums = useMemo(() => {\n    return annuityData ? policyAcctValues(annuityData) : null;\n  }, [annuityData]);\n  const annuityTableRowData = Object.entries(annuitySums != null ? annuitySums : '').map(key => ({\n    Type: key[0],\n    Policies: key[1].count.toString(),\n    'Acct Value': key[0] === 'income*' ? key[1].totalSum : '$'.concat(key[1].totalSum.toLocaleString(undefined, {\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }))\n  }));\n  const annuityChartData = [{\n    name: 'Fixed Index',\n    y: annuitySums == null ? void 0 : annuitySums['fixed index'].totalSum,\n    color: colors.accent90\n  }, {\n    name: 'Fixed Rate',\n    y: annuitySums == null ? void 0 : annuitySums['fixed rate'].totalSum,\n    color: colors.accent80\n  }, {\n    name: 'Variable',\n    y: annuitySums == null ? void 0 : annuitySums.variable.totalSum,\n    color: colors.accent70\n  }, {\n    name: 'Reg. Index',\n    y: annuitySums == null ? void 0 : annuitySums['reg. index'].totalSum,\n    color: colors.accent40\n  }];\n  return /*#__PURE__*/_jsxDEV(StyledPortfolioWidget, {\n    isSmall: otherWidgetPresent && screenWidth >= 1440 ? true : false,\n    children: annuityPortfolioIsLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ChartTableWrapper, {\n      isAnnuities: true,\n      children: [/*#__PURE__*/_jsxDEV(Chart, {\n        isAnnuities: true,\n        addMargin: true,\n        children: [/*#__PURE__*/_jsxDEV(PieChart, {\n          data: annuityChartData,\n          size: pieChartSize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Disclaimer, {\n          children: \"*Income not included in account value\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        children: /*#__PURE__*/_jsxDEV(AGGridTable, {\n          columnDefs: annuityTableColumnData,\n          rowData: annuityTableRowData,\n          isMobile: screenWidth < 400,\n          gridOptions: {\n            rowHeight: 54,\n            rowStyle: {\n              borderBottom: 'white 3px solid',\n              borderTop: 'white 3px solid'\n            },\n            headerHeight: 54,\n            defaultColDef: {\n              flex: 1,\n              wrapText: true,\n              autoHeight: true,\n              minWidth: 75,\n              editable: false\n            },\n            suppressContextMenu: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AnnuityProducts, \"mRRSQmZDBe20VUisDRw3dd+yCNQ=\");\n\n_c = AnnuityProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnnuityProducts\");","map":{"version":3,"names":["useMemo","Spinner","AGGridTable","StyledPortfolioWidget","Table","Chart","ChartTableWrapper","Disclaimer","policyAcctValues","annuityTableColumnData","colors","PieChart","AnnuityProducts","annuityPortfolioData","annuityPortfolioIsLoading","pieChartSize","screenWidth","otherWidgetPresent","annuityData","annuitySums","annuityTableRowData","Object","entries","map","key","Type","Policies","count","toString","totalSum","concat","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","annuityChartData","name","y","color","accent90","accent80","variable","accent70","accent40","rowHeight","rowStyle","borderBottom","borderTop","headerHeight","defaultColDef","flex","wrapText","autoHeight","minWidth","editable","suppressContextMenu"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/PortfolioWidget/AnnuityProducts/AnnuityProducts.tsx"],"sourcesContent":["import { LifecycleProduct } from '@luma-fe-workspace/redux';\nimport { useMemo } from 'react';\nimport { Spinner } from '../../Spinner/Spinner';\nimport { AGGridTable } from '../AGGridTableDashboard';\nimport {\n  StyledPortfolioWidget,\n  Table,\n  Chart,\n  ChartTableWrapper,\n  Disclaimer,\n} from '../PortfolioWidget.styles';\nimport {\n  policyAcctValues,\n  annuityTableColumnData,\n} from '../../../utils/annuityProductsPortfolio.utils';\nimport { colors } from '@luma-fe-workspace/design-system';\nimport { PieChart } from '../PieChart';\n\ninterface Props {\n  annuityPortfolioData: LifecycleProduct[];\n  annuityPortfolioIsLoading: boolean;\n  pieChartSize: { height: number; width: number };\n  screenWidth: number;\n  otherWidgetPresent: boolean;\n}\n\nexport const AnnuityProducts = ({\n  annuityPortfolioData,\n  annuityPortfolioIsLoading,\n  pieChartSize,\n  screenWidth,\n  otherWidgetPresent,\n}: Props) => {\n  const annuityData = annuityPortfolioData;\n\n  const annuitySums = useMemo(() => {\n    return annuityData ? policyAcctValues(annuityData) : null;\n  }, [annuityData]);\n\n  const annuityTableRowData = Object.entries(annuitySums ?? '').map((key) => ({\n    Type: key[0],\n    Policies: key[1].count.toString(),\n    'Acct Value':\n      key[0] === 'income*'\n        ? key[1].totalSum\n        : '$'.concat(\n            key[1].totalSum.toLocaleString(undefined, {\n              minimumFractionDigits: 0,\n              maximumFractionDigits: 0,\n            })\n          ),\n  }));\n\n  const annuityChartData = [\n    {\n      name: 'Fixed Index',\n      y: annuitySums?.['fixed index'].totalSum,\n      color: colors.accent90,\n    },\n    {\n      name: 'Fixed Rate',\n      y: annuitySums?.['fixed rate'].totalSum,\n      color: colors.accent80,\n    },\n    {\n      name: 'Variable',\n      y: annuitySums?.variable.totalSum,\n      color: colors.accent70,\n    },\n    {\n      name: 'Reg. Index',\n      y: annuitySums?.['reg. index'].totalSum,\n      color: colors.accent40,\n    },\n  ];\n\n  return (\n    <StyledPortfolioWidget\n      isSmall={otherWidgetPresent && screenWidth >= 1440 ? true : false}\n    >\n      {annuityPortfolioIsLoading ? (\n        <Spinner />\n      ) : (\n        <ChartTableWrapper isAnnuities={true}>\n          <Chart isAnnuities={true} addMargin={true}>\n            <PieChart data={annuityChartData} size={pieChartSize} />\n            <Disclaimer>*Income not included in account value</Disclaimer>\n          </Chart>\n          <Table>\n            <AGGridTable\n              columnDefs={annuityTableColumnData}\n              rowData={annuityTableRowData}\n              isMobile={screenWidth < 400}\n              gridOptions={{\n                rowHeight: 54,\n                rowStyle: {\n                  borderBottom: 'white 3px solid',\n                  borderTop: 'white 3px solid',\n                },\n                headerHeight: 54,\n                defaultColDef: {\n                  flex: 1,\n                  wrapText: true,\n                  autoHeight: true,\n                  minWidth: 75,\n                  editable: false,\n                },\n                suppressContextMenu: true,\n              }}\n            />\n          </Table>\n        </ChartTableWrapper>\n      )}\n    </StyledPortfolioWidget>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}