{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/confirmation/src/components/EventConfirmations/EventConfirmations.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport React from 'react';\nimport { AppFooter, Spinner } from '@luma-fe-workspace/luma/dashboard';\nimport { useCreateEventConfirmationListUsingGetQuery, useAppSelector, selectCompany, WidgetPermissions, lumaPermissionsArray, useUiPermissionsQuery } from '@luma-fe-workspace/redux';\nimport { OpsEventConfirmations } from './OpsEventConfirmations';\nimport { ClientApproverEventConfirmations } from './ClientApproverEventConfirmations';\nimport { ConfirmationsContainer, Header, HeaderContainer } from './EventConfirmations.styles';\nimport { ProvideEventConfirmationOptions } from '../../utils/hooks/useEventConfirmationOptions';\nimport { EventConfirmationOptions } from './EventConfirmationOptions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LumaEventConfirmation = () => {\n  _s();\n\n  const {\n    isLoading: eventsLoading,\n    data: eventsData\n  } = useCreateEventConfirmationListUsingGetQuery();\n  const {\n    data: userPermissionsData\n  } = useUiPermissionsQuery({\n    permissions: lumaPermissionsArray\n  });\n  const GWIM = useAppSelector(selectCompany);\n  const eventsDataExists = !eventsLoading && eventsData; // This permission is for users that have the IS_PRODUCT_MANAGER permission\n\n  const productManager = userPermissionsData == null ? void 0 : userPermissionsData.includes(WidgetPermissions.MenuPmWholesalerMapping);\n  const showOpsTable = eventsDataExists && !productManager;\n  const showClientApproverTable = eventsDataExists && productManager && (GWIM === 'Bank of America' || GWIM === 'GWIM');\n\n  const chooseEventConfirmationTable = (showOpsTable, showClientApproverTable, eventsData) => {\n    if (showOpsTable && eventsData) {\n      return /*#__PURE__*/_jsxDEV(OpsEventConfirmations, {\n        eventsData: eventsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 14\n      }, this);\n    } else if (showClientApproverTable && eventsData) {\n      return /*#__PURE__*/_jsxDEV(ClientApproverEventConfirmations, {\n        eventsData: eventsData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProvideEventConfirmationOptions, {\n    children: /*#__PURE__*/_jsxDEV(ConfirmationsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(HeaderContainer, {\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          children: \"Event Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EventConfirmationOptions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), chooseEventConfirmationTable(showOpsTable, showClientApproverTable, eventsData), /*#__PURE__*/_jsxDEV(AppFooter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LumaEventConfirmation, \"IPF4kAb8EqxsCmtn90Q8EPLo59I=\", false, function () {\n  return [useCreateEventConfirmationListUsingGetQuery, useUiPermissionsQuery, useAppSelector];\n});\n\n_c = LumaEventConfirmation;\n\nvar _c;\n\n$RefreshReg$(_c, \"LumaEventConfirmation\");","map":{"version":3,"names":["React","AppFooter","Spinner","useCreateEventConfirmationListUsingGetQuery","useAppSelector","selectCompany","WidgetPermissions","lumaPermissionsArray","useUiPermissionsQuery","OpsEventConfirmations","ClientApproverEventConfirmations","ConfirmationsContainer","Header","HeaderContainer","ProvideEventConfirmationOptions","EventConfirmationOptions","LumaEventConfirmation","isLoading","eventsLoading","data","eventsData","userPermissionsData","permissions","GWIM","eventsDataExists","productManager","includes","MenuPmWholesalerMapping","showOpsTable","showClientApproverTable","chooseEventConfirmationTable"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/confirmation/src/components/EventConfirmations/EventConfirmations.tsx"],"sourcesContent":["import React from 'react';\n\nimport { AppFooter, Spinner } from '@luma-fe-workspace/luma/dashboard';\nimport {\n  useCreateEventConfirmationListUsingGetQuery,\n  EventProductData,\n  useAppSelector,\n  selectCompany,\n  WidgetPermissions,\n  lumaPermissionsArray,\n  useUiPermissionsQuery,\n} from '@luma-fe-workspace/redux';\n\nimport { OpsEventConfirmations } from './OpsEventConfirmations';\nimport { ClientApproverEventConfirmations } from './ClientApproverEventConfirmations';\nimport {\n  ConfirmationsContainer,\n  Header,\n  HeaderContainer,\n} from './EventConfirmations.styles';\nimport { ProvideEventConfirmationOptions } from '../../utils/hooks/useEventConfirmationOptions';\nimport { EventConfirmationOptions } from './EventConfirmationOptions';\n\nexport const LumaEventConfirmation: React.FC = (): React.ReactElement => {\n  const { isLoading: eventsLoading, data: eventsData } =\n    useCreateEventConfirmationListUsingGetQuery();\n\n  const { data: userPermissionsData } = useUiPermissionsQuery({\n    permissions: lumaPermissionsArray,\n  });\n\n  const GWIM = useAppSelector(selectCompany);\n  const eventsDataExists = !eventsLoading && eventsData;\n\n  // This permission is for users that have the IS_PRODUCT_MANAGER permission\n  const productManager = userPermissionsData?.includes(\n    WidgetPermissions.MenuPmWholesalerMapping\n  );\n\n  const showOpsTable = eventsDataExists && !productManager;\n  const showClientApproverTable =\n    eventsDataExists &&\n    productManager &&\n    (GWIM === 'Bank of America' || GWIM === 'GWIM');\n\n  const chooseEventConfirmationTable = (\n    showOpsTable: boolean | undefined,\n    showClientApproverTable: boolean | undefined,\n    eventsData: EventProductData[] | undefined\n  ) => {\n    if (showOpsTable && eventsData) {\n      return <OpsEventConfirmations eventsData={eventsData} />;\n    } else if (showClientApproverTable && eventsData) {\n      return <ClientApproverEventConfirmations eventsData={eventsData} />;\n    } else {\n      return <Spinner />;\n    }\n  };\n\n  return (\n    <ProvideEventConfirmationOptions>\n      <ConfirmationsContainer>\n        <HeaderContainer>\n          <Header>Event Notifications</Header>\n        </HeaderContainer>\n        <EventConfirmationOptions />\n        {chooseEventConfirmationTable(\n          showOpsTable,\n          showClientApproverTable,\n          eventsData\n        )}\n        <AppFooter />\n      </ConfirmationsContainer>\n    </ProvideEventConfirmationOptions>\n  );\n};\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,mCAAnC;AACA,SACEC,2CADF,EAGEC,cAHF,EAIEC,aAJF,EAKEC,iBALF,EAMEC,oBANF,EAOEC,qBAPF,QAQO,0BARP;AAUA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,gCAAT,QAAiD,oCAAjD;AACA,SACEC,sBADF,EAEEC,MAFF,EAGEC,eAHF,QAIO,6BAJP;AAKA,SAASC,+BAAT,QAAgD,+CAAhD;AACA,SAASC,wBAAT,QAAyC,4BAAzC;;AAEA,OAAO,MAAMC,qBAA+B,GAAG,MAA0B;EAAA;;EACvE,MAAM;IAAEC,SAAS,EAAEC,aAAb;IAA4BC,IAAI,EAAEC;EAAlC,IACJjB,2CAA2C,EAD7C;EAGA,MAAM;IAAEgB,IAAI,EAAEE;EAAR,IAAgCb,qBAAqB,CAAC;IAC1Dc,WAAW,EAAEf;EAD6C,CAAD,CAA3D;EAIA,MAAMgB,IAAI,GAAGnB,cAAc,CAACC,aAAD,CAA3B;EACA,MAAMmB,gBAAgB,GAAG,CAACN,aAAD,IAAkBE,UAA3C,CATuE,CAWvE;;EACA,MAAMK,cAAc,GAAGJ,mBAAH,oBAAGA,mBAAmB,CAAEK,QAArB,CACrBpB,iBAAiB,CAACqB,uBADG,CAAvB;EAIA,MAAMC,YAAY,GAAGJ,gBAAgB,IAAI,CAACC,cAA1C;EACA,MAAMI,uBAAuB,GAC3BL,gBAAgB,IAChBC,cADA,KAECF,IAAI,KAAK,iBAAT,IAA8BA,IAAI,KAAK,MAFxC,CADF;;EAKA,MAAMO,4BAA4B,GAAG,CACnCF,YADmC,EAEnCC,uBAFmC,EAGnCT,UAHmC,KAIhC;IACH,IAAIQ,YAAY,IAAIR,UAApB,EAAgC;MAC9B,oBAAO,QAAC,qBAAD;QAAuB,UAAU,EAAEA;MAAnC;QAAA;QAAA;QAAA;MAAA,QAAP;IACD,CAFD,MAEO,IAAIS,uBAAuB,IAAIT,UAA/B,EAA2C;MAChD,oBAAO,QAAC,gCAAD;QAAkC,UAAU,EAAEA;MAA9C;QAAA;QAAA;QAAA;MAAA,QAAP;IACD,CAFM,MAEA;MACL,oBAAO,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAAP;IACD;EACF,CAZD;;EAcA,oBACE,QAAC,+BAAD;IAAA,uBACE,QAAC,sBAAD;MAAA,wBACE,QAAC,eAAD;QAAA,uBACE,QAAC,MAAD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,wBAAD;QAAA;QAAA;QAAA;MAAA,QAJF,EAKGU,4BAA4B,CAC3BF,YAD2B,EAE3BC,uBAF2B,EAG3BT,UAH2B,CAL/B,eAUE,QAAC,SAAD;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD,CApDM;;GAAMJ,qB;UAETb,2C,EAEoCK,qB,EAIzBJ,c;;;KARFY,qB"},"metadata":{},"sourceType":"module"}