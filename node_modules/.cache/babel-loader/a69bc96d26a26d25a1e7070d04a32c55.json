{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/PortfolioWidget/PortfolioWidget.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { useState, useEffect } from 'react';\nimport { useGetAnnuityProductsUsingGet1Query, useGetPortfolioProductsUsingGetQuery } from '@luma-fe-workspace/redux';\nimport { AnnuityProducts } from './AnnuityProducts/AnnuityProducts';\nimport { Card } from '@luma-fe-workspace/design-system';\nimport { Header, Title, StyledPortfolioWidget } from './PortfolioWidget.styles';\nimport { ProductTypes } from '../../utils/types';\nimport { Spinner } from '../Spinner/Spinner';\nimport { StructuredProducts } from './StructuredProducts/StructuredProducts';\nimport { EmptyState } from '../EmptyState/EmptyState';\nimport { EmptyStates } from '../../utils/emptyStateUtils';\nimport { getEmptyStateBoolean } from '../../utils/myPortfolioUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const PortfolioWidget = ({\n  productsType,\n  screenWidth,\n  otherWidgetPresent\n}) => {\n  _s();\n\n  const [pieChartSize, setPieChartSize] = useState(screenWidth < 545 ? {\n    height: 240,\n    width: 240\n  } : {\n    height: 280,\n    width: 280\n  });\n  const isSmall = otherWidgetPresent && screenWidth >= 1440;\n  const {\n    data: annuityPortfolioData,\n    isLoading: annuityPortfolioIsLoading\n  } = useGetAnnuityProductsUsingGet1Query();\n  const {\n    data: structuredPortfolioData,\n    isLoading: structuredPortfolioIsLoading\n  } = useGetPortfolioProductsUsingGetQuery();\n  const showEmptyState = getEmptyStateBoolean({\n    isLoading: productsType === ProductTypes.Annuities ? annuityPortfolioIsLoading : structuredPortfolioIsLoading,\n    data: productsType === ProductTypes.Annuities ? annuityPortfolioData == null ? void 0 : annuityPortfolioData.lifeCycleProducts : structuredPortfolioData == null ? void 0 : structuredPortfolioData[0].portfolioProducts\n  });\n  useEffect(() => {\n    if (screenWidth < 545) {\n      setPieChartSize({\n        height: 240,\n        width: 240\n      });\n    } else {\n      setPieChartSize({\n        height: 280,\n        width: 280\n      });\n    }\n  }, [screenWidth]);\n\n  const renderPortfolioWidget = () => {\n    if (showEmptyState) {\n      return /*#__PURE__*/_jsxDEV(EmptyState, {\n        isSmall: isSmall ? true : false,\n        emptyStateType: productsType === ProductTypes.Annuities ? EmptyStates.AnnuitiesPortfolio : EmptyStates.SPSPortfolio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (productsType === ProductTypes.StructuredProducts && structuredPortfolioData) {\n      return /*#__PURE__*/_jsxDEV(Card, {\n        flexDirection: \"column\",\n        backgroundColor: \"transparent\",\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: /*#__PURE__*/_jsxDEV(Header, {\n            children: \"Structured Products Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), structuredPortfolioIsLoading || !structuredPortfolioData ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(StructuredProducts, {\n          otherWidgetPresent: otherWidgetPresent,\n          pieChartSize: pieChartSize,\n          screenWidth: screenWidth,\n          structuredPortfolioData: structuredPortfolioData,\n          structuredPortfolioIsLoading: structuredPortfolioIsLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this);\n    } else if (productsType === ProductTypes.Annuities) {\n      return /*#__PURE__*/_jsxDEV(Card, {\n        flexDirection: \"column\",\n        backgroundColor: \"transparent\",\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: /*#__PURE__*/_jsxDEV(Header, {\n            children: \"Annuities Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), annuityPortfolioIsLoading || !(annuityPortfolioData != null && annuityPortfolioData.lifeCycleProducts) ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AnnuityProducts, {\n          annuityPortfolioData: annuityPortfolioData == null ? void 0 : annuityPortfolioData.lifeCycleProducts,\n          annuityPortfolioIsLoading: annuityPortfolioIsLoading,\n          pieChartSize: pieChartSize,\n          screenWidth: screenWidth,\n          otherWidgetPresent: otherWidgetPresent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this);\n    } else return /*#__PURE__*/_jsxDEV(Card, {\n      flexDirection: \"column\",\n      backgroundColor: \"transparent\",\n      children: /*#__PURE__*/_jsxDEV(StyledPortfolioWidget, {\n        isSmall: isSmall ? true : false,\n        children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: renderPortfolioWidget()\n  }, void 0, false);\n};\n\n_s(PortfolioWidget, \"acX3hYgKWF2qenCZPJoxRaNMhMo=\", false, function () {\n  return [useGetAnnuityProductsUsingGet1Query, useGetPortfolioProductsUsingGetQuery];\n});\n\n_c = PortfolioWidget;\n\nvar _c;\n\n$RefreshReg$(_c, \"PortfolioWidget\");","map":{"version":3,"names":["useState","useEffect","useGetAnnuityProductsUsingGet1Query","useGetPortfolioProductsUsingGetQuery","AnnuityProducts","Card","Header","Title","StyledPortfolioWidget","ProductTypes","Spinner","StructuredProducts","EmptyState","EmptyStates","getEmptyStateBoolean","PortfolioWidget","productsType","screenWidth","otherWidgetPresent","pieChartSize","setPieChartSize","height","width","isSmall","data","annuityPortfolioData","isLoading","annuityPortfolioIsLoading","structuredPortfolioData","structuredPortfolioIsLoading","showEmptyState","Annuities","lifeCycleProducts","portfolioProducts","renderPortfolioWidget","AnnuitiesPortfolio","SPSPortfolio"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/PortfolioWidget/PortfolioWidget.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n  useGetAnnuityProductsUsingGet1Query,\n  useGetPortfolioProductsUsingGetQuery,\n} from '@luma-fe-workspace/redux';\nimport { AnnuityProducts } from './AnnuityProducts/AnnuityProducts';\nimport { Card } from '@luma-fe-workspace/design-system';\nimport { Header, Title, StyledPortfolioWidget } from './PortfolioWidget.styles';\nimport { ProductType, ProductTypes } from '../../utils/types';\nimport { Spinner } from '../Spinner/Spinner';\nimport { StructuredProducts } from './StructuredProducts/StructuredProducts';\nimport { EmptyState } from '../EmptyState/EmptyState';\nimport { EmptyStates } from '../../utils/emptyStateUtils';\nimport { getEmptyStateBoolean } from '../../utils/myPortfolioUtils';\n\ninterface Props {\n  productsType: ProductType;\n  screenWidth: number;\n  otherWidgetPresent: boolean;\n}\nexport const PortfolioWidget = ({\n  productsType,\n  screenWidth,\n  otherWidgetPresent,\n}: Props) => {\n  const [pieChartSize, setPieChartSize] = useState(\n    screenWidth < 545\n      ? { height: 240, width: 240 }\n      : { height: 280, width: 280 }\n  );\n  const isSmall = otherWidgetPresent && screenWidth >= 1440;\n  const { data: annuityPortfolioData, isLoading: annuityPortfolioIsLoading } =\n    useGetAnnuityProductsUsingGet1Query();\n\n  const {\n    data: structuredPortfolioData,\n    isLoading: structuredPortfolioIsLoading,\n  } = useGetPortfolioProductsUsingGetQuery();\n\n  const showEmptyState = getEmptyStateBoolean({\n    isLoading:\n      productsType === ProductTypes.Annuities\n        ? annuityPortfolioIsLoading\n        : structuredPortfolioIsLoading,\n    data:\n      productsType === ProductTypes.Annuities\n        ? annuityPortfolioData?.lifeCycleProducts\n        : structuredPortfolioData?.[0].portfolioProducts,\n  });\n\n  useEffect(() => {\n    if (screenWidth < 545) {\n      setPieChartSize({ height: 240, width: 240 });\n    } else {\n      setPieChartSize({ height: 280, width: 280 });\n    }\n  }, [screenWidth]);\n\n  const renderPortfolioWidget = () => {\n    if (showEmptyState) {\n      return (\n        <EmptyState\n          isSmall={isSmall ? true : false}\n          emptyStateType={\n            productsType === ProductTypes.Annuities\n              ? EmptyStates.AnnuitiesPortfolio\n              : EmptyStates.SPSPortfolio\n          }\n        />\n      );\n    }\n\n    if (\n      productsType === ProductTypes.StructuredProducts &&\n      structuredPortfolioData\n    ) {\n      return (\n        <Card flexDirection=\"column\" backgroundColor=\"transparent\">\n          <Title>\n            <Header>Structured Products Portfolio</Header>\n          </Title>\n          {structuredPortfolioIsLoading || !structuredPortfolioData ? (\n            <Spinner />\n          ) : (\n            <StructuredProducts\n              otherWidgetPresent={otherWidgetPresent}\n              pieChartSize={pieChartSize}\n              screenWidth={screenWidth}\n              structuredPortfolioData={structuredPortfolioData}\n              structuredPortfolioIsLoading={structuredPortfolioIsLoading}\n            />\n          )}\n        </Card>\n      );\n    } else if (productsType === ProductTypes.Annuities) {\n      return (\n        <Card flexDirection=\"column\" backgroundColor=\"transparent\">\n          <Title>\n            <Header>Annuities Portfolio</Header>\n          </Title>\n          {annuityPortfolioIsLoading ||\n          !annuityPortfolioData?.lifeCycleProducts ? (\n            <Spinner />\n          ) : (\n            <AnnuityProducts\n              annuityPortfolioData={annuityPortfolioData?.lifeCycleProducts}\n              annuityPortfolioIsLoading={annuityPortfolioIsLoading}\n              pieChartSize={pieChartSize}\n              screenWidth={screenWidth}\n              otherWidgetPresent={otherWidgetPresent}\n            />\n          )}\n        </Card>\n      );\n    } else\n      return (\n        <Card flexDirection=\"column\" backgroundColor=\"transparent\">\n          <StyledPortfolioWidget isSmall={isSmall ? true : false}>\n            <Spinner />\n          </StyledPortfolioWidget>\n        </Card>\n      );\n  };\n\n  return <>{renderPortfolioWidget()}</>;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}