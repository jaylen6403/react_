{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/Insights/TopProductsWidget/TopProductsWidget.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { useState } from 'react';\nimport { useGetTopProductsUsingGetQuery, useGetUserTrainingStatusUsingGetQuery } from '@luma-fe-workspace/redux';\nimport { TrainingModal } from '@luma-fe-workspace/luma/globalnav';\nimport { Card, Button } from '@luma-fe-workspace/design-system';\nimport { InfoTooltip } from '../Tooltip/Tooltip';\nimport { TableWrapper, Header, StyledTopProductsBody, StyledTopProductsWidget, ViewMarketplace, Title } from './TopProductsWidget.styles';\nimport { createProductMarketplaceLink } from '../../../utils/links';\nimport { TopProductsTable } from './TopProductsTable/TopProductsTable';\nimport { Spinner } from '../../Spinner/Spinner';\nimport { EmptyInsights } from '../EmptyInsights/EmptyInsights';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TopProductsWidget = ({\n  screenWidth\n}) => {\n  _s();\n\n  const [showTrainingModal, setShowTrainingModal] = useState(false);\n  const {\n    data: userTrainingData\n  } = useGetUserTrainingStatusUsingGetQuery();\n  const {\n    data: tableData,\n    isError,\n    isLoading\n  } = useGetTopProductsUsingGetQuery();\n  const isSmall = screenWidth >= 1440;\n\n  const handleNavigate = () => {\n    if ((userTrainingData == null ? void 0 : userTrainingData.notesTraining) !== 'Completed') {\n      setShowTrainingModal(true);\n      return;\n    }\n\n    return window.location.href = createProductMarketplaceLink();\n  };\n\n  const returnWidgetBody = () => {\n    if (isError) {\n      return /*#__PURE__*/_jsxDEV(StyledTopProductsWidget, {\n        isSmall: isSmall ? true : false,\n        children: /*#__PURE__*/_jsxDEV(EmptyInsights, {\n          text: \"No data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(StyledTopProductsWidget, {\n        isSmall: isSmall ? true : false,\n        children: /*#__PURE__*/_jsxDEV(StyledTopProductsBody, {\n          children: /*#__PURE__*/_jsxDEV(TableWrapper, {\n            children: /*#__PURE__*/_jsxDEV(TopProductsTable, {\n              data: tableData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    flexDirection: \"column\",\n    backgroundColor: \"transparent\",\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        id: \"Top1\",\n        children: \"Top Products By Luma Volume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        tooltipText: \"These are the top structured products by transaction volume through Luma Product Marketplace\",\n        wrapperId: \"Top1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ViewMarketplace, {\n        onClick: () => handleNavigate(),\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          disabled: false,\n          children: \"View Marketplace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 20\n    }, this) : returnWidgetBody(), /*#__PURE__*/_jsxDEV(TrainingModal, {\n      isOpen: showTrainingModal,\n      setShowTrainingModal: setShowTrainingModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TopProductsWidget, \"+Q6KzKtvO2Y43H0RURo8DVbAN78=\", false, function () {\n  return [useGetUserTrainingStatusUsingGetQuery, useGetTopProductsUsingGetQuery];\n});\n\n_c = TopProductsWidget;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopProductsWidget\");","map":{"version":3,"names":["useState","useGetTopProductsUsingGetQuery","useGetUserTrainingStatusUsingGetQuery","TrainingModal","Card","Button","InfoTooltip","TableWrapper","Header","StyledTopProductsBody","StyledTopProductsWidget","ViewMarketplace","Title","createProductMarketplaceLink","TopProductsTable","Spinner","EmptyInsights","TopProductsWidget","screenWidth","showTrainingModal","setShowTrainingModal","data","userTrainingData","tableData","isError","isLoading","isSmall","handleNavigate","notesTraining","window","location","href","returnWidgetBody"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/dashboard/src/components/Insights/TopProductsWidget/TopProductsWidget.tsx"],"sourcesContent":["import { useState } from 'react';\nimport {\n  useGetTopProductsUsingGetQuery,\n  useGetUserTrainingStatusUsingGetQuery,\n} from '@luma-fe-workspace/redux';\nimport { TrainingModal } from '@luma-fe-workspace/luma/globalnav';\nimport { Card, Button } from '@luma-fe-workspace/design-system';\nimport { InfoTooltip } from '../Tooltip/Tooltip';\nimport {\n  TableWrapper,\n  Header,\n  StyledTopProductsBody,\n  StyledTopProductsWidget,\n  ViewMarketplace,\n  Title,\n} from './TopProductsWidget.styles';\nimport { createProductMarketplaceLink } from '../../../utils/links';\nimport { TopProductsTable } from './TopProductsTable/TopProductsTable';\nimport { Spinner } from '../../Spinner/Spinner';\nimport { EmptyInsights } from '../EmptyInsights/EmptyInsights';\n\ninterface Props {\n  screenWidth: number;\n}\n\nexport const TopProductsWidget = ({ screenWidth }: Props) => {\n  const [showTrainingModal, setShowTrainingModal] = useState(false);\n\n  const { data: userTrainingData } = useGetUserTrainingStatusUsingGetQuery();\n\n  const {\n    data: tableData,\n    isError,\n    isLoading,\n  } = useGetTopProductsUsingGetQuery();\n\n  const isSmall = screenWidth >= 1440;\n\n  const handleNavigate = () => {\n    if (userTrainingData?.notesTraining !== 'Completed') {\n      setShowTrainingModal(true);\n      return;\n    }\n    return (window.location.href = createProductMarketplaceLink());\n  };\n\n  const returnWidgetBody = () => {\n    if (isError) {\n      return (\n        <StyledTopProductsWidget isSmall={isSmall ? true : false}>\n          <EmptyInsights text=\"No data available\"></EmptyInsights>\n        </StyledTopProductsWidget>\n      );\n    } else {\n      return (\n        <StyledTopProductsWidget isSmall={isSmall ? true : false}>\n          <StyledTopProductsBody>\n            <TableWrapper>\n              <TopProductsTable data={tableData} />\n            </TableWrapper>\n          </StyledTopProductsBody>\n        </StyledTopProductsWidget>\n      );\n    }\n  };\n\n  return (\n    <Card flexDirection=\"column\" backgroundColor=\"transparent\">\n      <Title>\n        <Header id=\"Top1\">Top Products By Luma Volume</Header>\n        <InfoTooltip\n          tooltipText=\"These are the top structured products by transaction volume through Luma Product Marketplace\"\n          wrapperId=\"Top1\"\n        />\n        <ViewMarketplace onClick={() => handleNavigate()}>\n          <Button variant=\"secondary\" disabled={false}>\n            View Marketplace\n          </Button>\n        </ViewMarketplace>\n      </Title>\n      {isLoading ? <Spinner /> : returnWidgetBody()}\n      <TrainingModal\n        isOpen={showTrainingModal}\n        setShowTrainingModal={setShowTrainingModal}\n      />\n    </Card>\n  );\n};\n"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SACEC,8BADF,EAEEC,qCAFF,QAGO,0BAHP;AAIA,SAASC,aAAT,QAA8B,mCAA9B;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,kCAA7B;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SACEC,YADF,EAEEC,MAFF,EAGEC,qBAHF,EAIEC,uBAJF,EAKEC,eALF,EAMEC,KANF,QAOO,4BAPP;AAQA,SAASC,4BAAT,QAA6C,sBAA7C;AACA,SAASC,gBAAT,QAAiC,qCAAjC;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,aAAT,QAA8B,gCAA9B;;AAMA,OAAO,MAAMC,iBAAiB,GAAG,CAAC;EAAEC;AAAF,CAAD,KAA4B;EAAA;;EAC3D,MAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CpB,QAAQ,CAAC,KAAD,CAA1D;EAEA,MAAM;IAAEqB,IAAI,EAAEC;EAAR,IAA6BpB,qCAAqC,EAAxE;EAEA,MAAM;IACJmB,IAAI,EAAEE,SADF;IAEJC,OAFI;IAGJC;EAHI,IAIFxB,8BAA8B,EAJlC;EAMA,MAAMyB,OAAO,GAAGR,WAAW,IAAI,IAA/B;;EAEA,MAAMS,cAAc,GAAG,MAAM;IAC3B,IAAI,CAAAL,gBAAgB,QAAhB,YAAAA,gBAAgB,CAAEM,aAAlB,MAAoC,WAAxC,EAAqD;MACnDR,oBAAoB,CAAC,IAAD,CAApB;MACA;IACD;;IACD,OAAQS,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBlB,4BAA4B,EAA3D;EACD,CAND;;EAQA,MAAMmB,gBAAgB,GAAG,MAAM;IAC7B,IAAIR,OAAJ,EAAa;MACX,oBACE,QAAC,uBAAD;QAAyB,OAAO,EAAEE,OAAO,GAAG,IAAH,GAAU,KAAnD;QAAA,uBACE,QAAC,aAAD;UAAe,IAAI,EAAC;QAApB;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF;IAKD,CAND,MAMO;MACL,oBACE,QAAC,uBAAD;QAAyB,OAAO,EAAEA,OAAO,GAAG,IAAH,GAAU,KAAnD;QAAA,uBACE,QAAC,qBAAD;UAAA,uBACE,QAAC,YAAD;YAAA,uBACE,QAAC,gBAAD;cAAkB,IAAI,EAAEH;YAAxB;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF;IASD;EACF,CAlBD;;EAoBA,oBACE,QAAC,IAAD;IAAM,aAAa,EAAC,QAApB;IAA6B,eAAe,EAAC,aAA7C;IAAA,wBACE,QAAC,KAAD;MAAA,wBACE,QAAC,MAAD;QAAQ,EAAE,EAAC,MAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,WAAD;QACE,WAAW,EAAC,8FADd;QAEE,SAAS,EAAC;MAFZ;QAAA;QAAA;QAAA;MAAA,QAFF,eAME,QAAC,eAAD;QAAiB,OAAO,EAAE,MAAMI,cAAc,EAA9C;QAAA,uBACE,QAAC,MAAD;UAAQ,OAAO,EAAC,WAAhB;UAA4B,QAAQ,EAAE,KAAtC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAaGF,SAAS,gBAAG,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAH,GAAiBO,gBAAgB,EAb7C,eAcE,QAAC,aAAD;MACE,MAAM,EAAEb,iBADV;MAEE,oBAAoB,EAAEC;IAFxB;MAAA;MAAA;MAAA;IAAA,QAdF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD,CA9DM;;GAAMH,iB;UAGwBf,qC,EAM/BD,8B;;;KATOgB,iB"},"metadata":{},"sourceType":"module"}