{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/Modal/ModalHeader/RequiredModalHeader/RequiredModalHeader.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { ModalClock, ModalHeaderActions, ModalTimer, ModalTimerIcon, ModalTitle, StyledModalHeader } from '../ModalHeader.styles';\nimport { ModalSubTitle } from '../../Modal.styles';\nimport { useEffect, useState } from 'react';\nimport { colors } from '@luma-fe-workspace/design-system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction formatTimer(seconds) {\n  const min = Math.floor(seconds / 60);\n  const sec = (seconds % 60).toLocaleString('en-US', {\n    minimumIntegerDigits: 2\n  });\n  return `${min}:${sec}`;\n}\n\nexport const RequiredModalHeader = ({\n  /**\n   * id of Modal Title\n   */\n  id,\n\n  /**\n   * title of Modal Header\n   */\n  title,\n\n  /**\n   * rightSideTitle of Modal Header\n   */\n  secondaryTitle,\n\n  /**\n   * A timer in minutes that if provided will present on the right\n   */\n  timer: _timer = -1,\n\n  /**\n   * Specify the color of the Modal Header Divider\n   *  buy: buyGreen\n   *  red: sellRed\n   *  none (default): greyFade\n   */\n  seperatorColor: _seperatorColor = 'NONE',\n\n  /**\n   * Reject ModalActionProp that will execute\n   *   onClick function when timer runs out\n   */\n  reject\n}) => {\n  _s();\n\n  const [seconds, setSeconds] = useState(_timer * 60 + 1);\n  useEffect(() => {\n    let interval;\n\n    if (seconds > 0 && reject) {\n      interval = setInterval(() => {\n        setSeconds(seconds => {\n          if (seconds === 1) reject == null ? void 0 : reject.onClick();\n          return seconds === 0 ? seconds : seconds - 1;\n        });\n      }, 1000);\n    }\n\n    return () => clearInterval(interval);\n  }, [seconds, reject]);\n  return /*#__PURE__*/_jsxDEV(StyledModalHeader, {\n    seperatorColor: _seperatorColor,\n    children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n      id: id,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalHeaderActions, {\n      children: [_timer > 0 ? /*#__PURE__*/_jsxDEV(ModalSubTitle, {\n        textColor: colors.redDarker,\n        children: /*#__PURE__*/_jsxDEV(ModalTimer, {\n          children: [/*#__PURE__*/_jsxDEV(ModalClock, {\n            children: /*#__PURE__*/_jsxDEV(ModalTimerIcon, {\n              iconCode: \"stopwatch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), formatTimer(seconds)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this) : null, secondaryTitle && /*#__PURE__*/_jsxDEV(ModalSubTitle, {\n        children: secondaryTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RequiredModalHeader, \"pr4Lbd1bRIFVTvLcmdNCQ4jYM/U=\");\n\n_c = RequiredModalHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequiredModalHeader\");","map":{"version":3,"names":["ModalClock","ModalHeaderActions","ModalTimer","ModalTimerIcon","ModalTitle","StyledModalHeader","ModalSubTitle","useEffect","useState","colors","formatTimer","seconds","min","Math","floor","sec","toLocaleString","minimumIntegerDigits","RequiredModalHeader","id","title","secondaryTitle","timer","seperatorColor","reject","setSeconds","interval","setInterval","onClick","clearInterval","redDarker"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/Modal/ModalHeader/RequiredModalHeader/RequiredModalHeader.tsx"],"sourcesContent":["import {\n  ModalClock,\n  ModalHeaderActions,\n  ModalTimer,\n  ModalTimerIcon,\n  ModalTitle,\n  StyledModalHeader,\n} from '../ModalHeader.styles';\nimport { ModalSeperatorColor } from '../../ModalHelpers';\nimport { ModalSubTitle } from '../../Modal.styles';\nimport { useEffect, useState } from 'react';\nimport { ModalActionProp } from '../../ModalFooter/ActionModalFooter/ActionModalFooter';\nimport { colors } from '@luma-fe-workspace/design-system';\n\ninterface Props {\n  id: string;\n  title: string;\n  secondaryTitle?: string;\n  seperatorColor?: ModalSeperatorColor;\n  timer?: number;\n  reject?: ModalActionProp;\n}\n\nfunction formatTimer(seconds: number) {\n  const min = Math.floor(seconds / 60);\n  const sec = (seconds % 60).toLocaleString('en-US', {\n    minimumIntegerDigits: 2,\n  });\n  return `${min}:${sec}`;\n}\n\nexport const RequiredModalHeader = ({\n  /**\n   * id of Modal Title\n   */\n  id,\n  /**\n   * title of Modal Header\n   */\n  title,\n  /**\n   * rightSideTitle of Modal Header\n   */\n  secondaryTitle,\n  /**\n   * A timer in minutes that if provided will present on the right\n   */\n  timer = -1,\n  /**\n   * Specify the color of the Modal Header Divider\n   *  buy: buyGreen\n   *  red: sellRed\n   *  none (default): greyFade\n   */\n  seperatorColor = 'NONE',\n  /**\n   * Reject ModalActionProp that will execute\n   *   onClick function when timer runs out\n   */\n  reject,\n}: Props) => {\n  const [seconds, setSeconds] = useState(timer * 60 + 1);\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n    if (seconds > 0 && reject) {\n      interval = setInterval(() => {\n        setSeconds((seconds) => {\n          if (seconds === 1) reject?.onClick();\n          return seconds === 0 ? seconds : seconds - 1;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [seconds, reject]);\n\n  return (\n    <StyledModalHeader seperatorColor={seperatorColor}>\n      <ModalTitle id={id}>{title}</ModalTitle>\n      <ModalHeaderActions>\n        {timer > 0 ? (\n          <ModalSubTitle textColor={colors.redDarker}>\n            <ModalTimer>\n              <ModalClock>\n                <ModalTimerIcon iconCode=\"stopwatch\" />\n              </ModalClock>\n              {formatTimer(seconds)}\n            </ModalTimer>\n          </ModalSubTitle>\n        ) : null}\n        {secondaryTitle && <ModalSubTitle>{secondaryTitle}</ModalSubTitle>}\n      </ModalHeaderActions>\n    </StyledModalHeader>\n  );\n};\n"],"mappings":";;;;;AAAA,SACEA,UADF,EAEEC,kBAFF,EAGEC,UAHF,EAIEC,cAJF,EAKEC,UALF,EAMEC,iBANF,QAOO,uBAPP;AASA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,MAAT,QAAuB,kCAAvB;;;AAWA,SAASC,WAAT,CAAqBC,OAArB,EAAsC;EACpC,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,GAAG,EAArB,CAAZ;EACA,MAAMI,GAAG,GAAG,CAACJ,OAAO,GAAG,EAAX,EAAeK,cAAf,CAA8B,OAA9B,EAAuC;IACjDC,oBAAoB,EAAE;EAD2B,CAAvC,CAAZ;EAGA,OAAQ,GAAEL,GAAI,IAAGG,GAAI,EAArB;AACD;;AAED,OAAO,MAAMG,mBAAmB,GAAG,CAAC;EAClC;AACF;AACA;EACEC,EAJkC;;EAKlC;AACF;AACA;EACEC,KARkC;;EASlC;AACF;AACA;EACEC,cAZkC;;EAalC;AACF;AACA;EACEC,KAAK,EAALA,MAAK,GAAG,CAAC,CAhByB;;EAiBlC;AACF;AACA;AACA;AACA;AACA;EACEC,cAAc,EAAdA,eAAc,GAAG,MAvBiB;;EAwBlC;AACF;AACA;AACA;EACEC;AA5BkC,CAAD,KA6BtB;EAAA;;EACX,MAAM,CAACb,OAAD,EAAUc,UAAV,IAAwBjB,QAAQ,CAACc,MAAK,GAAG,EAAR,GAAa,CAAd,CAAtC;EACAf,SAAS,CAAC,MAAM;IACd,IAAImB,QAAJ;;IACA,IAAIf,OAAO,GAAG,CAAV,IAAea,MAAnB,EAA2B;MACzBE,QAAQ,GAAGC,WAAW,CAAC,MAAM;QAC3BF,UAAU,CAAEd,OAAD,IAAa;UACtB,IAAIA,OAAO,KAAK,CAAhB,EAAmBa,MAAM,QAAN,YAAAA,MAAM,CAAEI,OAAR;UACnB,OAAOjB,OAAO,KAAK,CAAZ,GAAgBA,OAAhB,GAA0BA,OAAO,GAAG,CAA3C;QACD,CAHS,CAAV;MAID,CALqB,EAKnB,IALmB,CAAtB;IAMD;;IACD,OAAO,MAAMkB,aAAa,CAACH,QAAD,CAA1B;EACD,CAXQ,EAWN,CAACf,OAAD,EAAUa,MAAV,CAXM,CAAT;EAaA,oBACE,QAAC,iBAAD;IAAmB,cAAc,EAAED,eAAnC;IAAA,wBACE,QAAC,UAAD;MAAY,EAAE,EAAEJ,EAAhB;MAAA,UAAqBC;IAArB;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,kBAAD;MAAA,WACGE,MAAK,GAAG,CAAR,gBACC,QAAC,aAAD;QAAe,SAAS,EAAEb,MAAM,CAACqB,SAAjC;QAAA,uBACE,QAAC,UAAD;UAAA,wBACE,QAAC,UAAD;YAAA,uBACE,QAAC,cAAD;cAAgB,QAAQ,EAAC;YAAzB;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF,EAIGpB,WAAW,CAACC,OAAD,CAJd;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADD,GASG,IAVN,EAWGU,cAAc,iBAAI,QAAC,aAAD;QAAA,UAAgBA;MAAhB;QAAA;QAAA;QAAA;MAAA,QAXrB;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD,CA9DM;;GAAMH,mB;;KAAAA,mB"},"metadata":{},"sourceType":"module"}