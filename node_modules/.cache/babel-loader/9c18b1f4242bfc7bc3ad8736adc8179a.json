{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/Pricings/Pricings.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.promise.js\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { LumaAgGrid } from '@luma-fe-workspace/design-system';\nimport { Title, Header } from '../HomePage/HomePage.styles';\nimport { CreationHubPages } from '../HomePage/HomePageUtils';\nimport { usePricingAPI } from '../PricingForm/usePricingAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Pricings = () => {\n  _s();\n\n  const PAGE_SIZE = 10;\n  const api = usePricingAPI();\n  const navigate = useNavigate();\n  const [columnDefs] = useState([{\n    field: 'id',\n    filter: 'agTextColumnFilter'\n  }, {\n    field: 'state',\n    filter: 'agTextColumnFilter'\n  }]);\n  const defaultColDef = useMemo(() => {\n    return {\n      sortable: true,\n      menuTabs: ['filterMenuTab']\n    };\n  }, []);\n  const gridStyles = useMemo(() => {\n    return {\n      height: 450\n    };\n  }, []);\n  const sideBar = useMemo(() => {\n    return {\n      toolPanels: [{\n        id: 'columns',\n        labelDefault: 'Columns',\n        labelKey: 'columns',\n        iconKey: 'columns',\n        toolPanel: 'agColumnsToolPanel',\n        toolPanelParams: {\n          suppressRowGroups: true,\n          suppressValues: true,\n          suppressPivots: true,\n          suppressPivotMode: true,\n          suppressColumnFilter: true,\n          suppressColumnSelectAll: true,\n          suppressColumnExpandAll: true\n        }\n      }]\n    };\n  }, []);\n  const onRowSelected = useCallback(e => {\n    const id = e.node.data.id;\n\n    if (e.node.isSelected()) {\n      navigate(`${CreationHubPages.PricingView}/${id}`);\n    }\n  }, []);\n  const onGridReady = useCallback(params => {\n    const datasource = createServerSideDatasource();\n    params.api.setServerSideDatasource(datasource);\n  }, []);\n  const createServerSideDatasource = useCallback(() => {\n    return {\n      getRows: async params => {\n        var _params$request;\n\n        const startPage = (params == null ? void 0 : (_params$request = params.request) == null ? void 0 : _params$request.startRow) || 0;\n        const page = startPage / PAGE_SIZE;\n\n        try {\n          const result = await api.getPricings({\n            size: PAGE_SIZE,\n            page: page\n          }).unwrap();\n\n          if (result) {\n            params.success({\n              rowData: result.content,\n              rowCount: result.totalElements\n            });\n          } else {\n            params.fail();\n          }\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    };\n  }, []);\n  const gridOptions = {\n    columnDefs: columnDefs,\n    defaultColDef: defaultColDef,\n    rowModelType: 'serverSide',\n    rowSelection: 'single',\n    sideBar: sideBar,\n    pagination: true,\n    paginationPageSize: PAGE_SIZE,\n    cacheBlockSize: PAGE_SIZE,\n    serverSideInfiniteScroll: true,\n    suppressContextMenu: true,\n    getRowId: row => row.data.id,\n    onRowSelected: onRowSelected,\n    onGridReady: onGridReady\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        children: \"Pricings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LumaAgGrid, {\n      gridOptions: gridOptions,\n      gridStyles: gridStyles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Pricings, \"3m7zfE728cIQ34cdOZbpdjEV8Rs=\", false, function () {\n  return [usePricingAPI, useNavigate];\n});\n\n_c = Pricings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pricings\");","map":{"version":3,"names":["useState","useMemo","useCallback","useNavigate","LumaAgGrid","Title","Header","CreationHubPages","usePricingAPI","Pricings","PAGE_SIZE","api","navigate","columnDefs","field","filter","defaultColDef","sortable","menuTabs","gridStyles","height","sideBar","toolPanels","id","labelDefault","labelKey","iconKey","toolPanel","toolPanelParams","suppressRowGroups","suppressValues","suppressPivots","suppressPivotMode","suppressColumnFilter","suppressColumnSelectAll","suppressColumnExpandAll","onRowSelected","e","node","data","isSelected","PricingView","onGridReady","params","datasource","createServerSideDatasource","setServerSideDatasource","getRows","startPage","request","startRow","page","result","getPricings","size","unwrap","success","rowData","content","rowCount","totalElements","fail","console","error","gridOptions","rowModelType","rowSelection","pagination","paginationPageSize","cacheBlockSize","serverSideInfiniteScroll","suppressContextMenu","getRowId","row"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/Pricings/Pricings.tsx"],"sourcesContent":["import { useState, useMemo, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { PageUserModel } from '@luma-fe-workspace/redux';\nimport {\n  GridOptions,\n  IServerSideGetRowsParams,\n  GetRowIdParams,\n} from 'ag-grid-community';\nimport { LumaAgGrid } from '@luma-fe-workspace/design-system';\nimport { Title, Header } from '../HomePage/HomePage.styles';\nimport { CreationHubPages } from '../HomePage/HomePageUtils';\nimport { usePricingAPI } from '../PricingForm/usePricingAPI';\nimport { PricingType } from '../../';\n\nexport const Pricings = () => {\n  const PAGE_SIZE = 10;\n  const api = usePricingAPI();\n  const navigate = useNavigate();\n\n  const [columnDefs] = useState([\n    { field: 'id', filter: 'agTextColumnFilter' },\n    { field: 'state', filter: 'agTextColumnFilter' },\n  ]);\n\n  const defaultColDef = useMemo(() => {\n    return {\n      sortable: true,\n      menuTabs: ['filterMenuTab'],\n    };\n  }, []);\n\n  const gridStyles = useMemo(() => {\n    return {\n      height: 450,\n    };\n  }, []);\n\n  const sideBar = useMemo(() => {\n    return {\n      toolPanels: [\n        {\n          id: 'columns',\n          labelDefault: 'Columns',\n          labelKey: 'columns',\n          iconKey: 'columns',\n          toolPanel: 'agColumnsToolPanel',\n          toolPanelParams: {\n            suppressRowGroups: true,\n            suppressValues: true,\n            suppressPivots: true,\n            suppressPivotMode: true,\n            suppressColumnFilter: true,\n            suppressColumnSelectAll: true,\n            suppressColumnExpandAll: true,\n          },\n        },\n      ],\n    };\n  }, []);\n\n  const onRowSelected = useCallback((e) => {\n    const id = e.node.data.id;\n    if (e.node.isSelected()) {\n      navigate(`${CreationHubPages.PricingView}/${id}`);\n    }\n  }, []);\n\n  const onGridReady = useCallback((params) => {\n    const datasource = createServerSideDatasource();\n    params.api.setServerSideDatasource(datasource);\n  }, []);\n\n  const createServerSideDatasource = useCallback(() => {\n    return {\n      getRows: async (params: IServerSideGetRowsParams) => {\n        const startPage = params?.request?.startRow || 0;\n        const page = startPage / PAGE_SIZE;\n        try {\n          const result = (await api\n            .getPricings({\n              size: PAGE_SIZE,\n              page: page,\n            })\n            .unwrap()) as PageUserModel;\n          if (result) {\n            params.success({\n              rowData: result.content as PricingType[],\n              rowCount: result.totalElements,\n            });\n          } else {\n            params.fail();\n          }\n        } catch (e) {\n          console.error(e);\n        }\n      },\n    };\n  }, []);\n\n  const gridOptions: GridOptions = {\n    columnDefs: columnDefs,\n    defaultColDef: defaultColDef,\n    rowModelType: 'serverSide',\n    rowSelection: 'single',\n    sideBar: sideBar,\n    pagination: true,\n    paginationPageSize: PAGE_SIZE,\n    cacheBlockSize: PAGE_SIZE,\n    serverSideInfiniteScroll: true,\n    suppressContextMenu: true,\n    getRowId: (row: GetRowIdParams<PricingType>) => row.data.id,\n    onRowSelected: onRowSelected,\n    onGridReady: onGridReady,\n  };\n\n  return (\n    <>\n      <Title>\n        <Header>Pricings</Header>\n      </Title>\n      <LumaAgGrid\n        gridOptions={gridOptions}\n        gridStyles={gridStyles}\n      ></LumaAgGrid>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}