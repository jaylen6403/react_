{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/Rfqs/Rfqs.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.promise.js\";\nimport { useState, useMemo, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { LumaAgGrid } from '@luma-fe-workspace/design-system';\nimport { Title, Header } from '../HomePage/HomePage.styles';\nimport { usePricingAPI } from '../PricingForm/usePricingAPI';\nimport { CreationHubPages } from '../HomePage/HomePageUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Rfqs() {\n  _s();\n\n  const PAGE_SIZE = 10;\n  const api = usePricingAPI();\n  const navigate = useNavigate();\n  const commonDefs = useMemo(() => {\n    return {\n      filter: 'agTextColumnFilter'\n    };\n  }, []);\n  const [columnDefs] = useState([Object.assign({\n    field: 'id',\n    suppressMovable: true,\n    lockPosition: true\n  }, commonDefs), Object.assign({\n    field: 'pricingId'\n  }, commonDefs), Object.assign({\n    field: 'issuer'\n  }, commonDefs), Object.assign({\n    field: 'state'\n  }, commonDefs)]);\n  const defaultColDef = useMemo(() => {\n    return {\n      sortable: true,\n      menuTabs: ['filterMenuTab']\n    };\n  }, []);\n  const gridStyles = useMemo(() => {\n    return {\n      height: 450\n    };\n  }, []);\n  const sideBar = useMemo(() => {\n    return {\n      toolPanels: [{\n        id: 'columns',\n        labelDefault: 'Columns',\n        labelKey: 'columns',\n        iconKey: 'columns',\n        toolPanel: 'agColumnsToolPanel',\n        toolPanelParams: {\n          suppressRowGroups: true,\n          suppressValues: true,\n          suppressPivots: true,\n          suppressPivotMode: true,\n          suppressColumnFilter: true,\n          suppressColumnSelectAll: true,\n          suppressColumnExpandAll: true\n        }\n      }]\n    };\n  }, []);\n  const onRowSelected = useCallback(e => {\n    const id = e.node.data.pricingId;\n\n    if (e.node.isSelected()) {\n      navigate(`${CreationHubPages.IssuerPricingView}/${id}`);\n    }\n  }, []);\n  const onGridReady = useCallback(params => {\n    const datasource = createServerSideDatasource();\n    params.api.setServerSideDatasource(datasource);\n  }, []);\n  const createServerSideDatasource = useCallback(() => {\n    return {\n      getRows: async params => {\n        var _params$request;\n\n        const startPage = (params == null ? void 0 : (_params$request = params.request) == null ? void 0 : _params$request.startRow) || 0;\n        const page = startPage / PAGE_SIZE;\n        const result = await api.getRFQs({\n          size: PAGE_SIZE,\n          page: page\n        }).unwrap();\n\n        if (result) {\n          params.success({\n            rowData: result.content,\n            rowCount: result.totalElements\n          });\n        } else {\n          params.fail();\n        }\n      }\n    };\n  }, []);\n  const gridOptions = {\n    columnDefs: columnDefs,\n    defaultColDef: defaultColDef,\n    rowModelType: 'serverSide',\n    rowSelection: 'single',\n    sideBar: sideBar,\n    pagination: true,\n    paginationPageSize: PAGE_SIZE,\n    cacheBlockSize: PAGE_SIZE,\n    serverSideInfiniteScroll: true,\n    suppressContextMenu: true,\n    detailRowAutoHeight: true,\n    getRowId: row => row.data.id,\n    onRowSelected: onRowSelected,\n    onGridReady: onGridReady\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      children: /*#__PURE__*/_jsxDEV(Header, {\n        children: \"RFQs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LumaAgGrid, {\n      gridOptions: gridOptions,\n      gridStyles: gridStyles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Rfqs, \"KpyaJZGKJ6PLlFyZMI6Zk9tiREk=\", false, function () {\n  return [usePricingAPI, useNavigate];\n});\n\n_c = Rfqs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Rfqs\");","map":{"version":3,"names":["useState","useMemo","useCallback","useNavigate","LumaAgGrid","Title","Header","usePricingAPI","CreationHubPages","Rfqs","PAGE_SIZE","api","navigate","commonDefs","filter","columnDefs","field","suppressMovable","lockPosition","defaultColDef","sortable","menuTabs","gridStyles","height","sideBar","toolPanels","id","labelDefault","labelKey","iconKey","toolPanel","toolPanelParams","suppressRowGroups","suppressValues","suppressPivots","suppressPivotMode","suppressColumnFilter","suppressColumnSelectAll","suppressColumnExpandAll","onRowSelected","e","node","data","pricingId","isSelected","IssuerPricingView","onGridReady","params","datasource","createServerSideDatasource","setServerSideDatasource","getRows","startPage","request","startRow","page","result","getRFQs","size","unwrap","success","rowData","content","rowCount","totalElements","fail","gridOptions","rowModelType","rowSelection","pagination","paginationPageSize","cacheBlockSize","serverSideInfiniteScroll","suppressContextMenu","detailRowAutoHeight","getRowId","row"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/creationhub/src/components/Rfqs/Rfqs.tsx"],"sourcesContent":["import { useState, useMemo, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { PageUserModel } from '@luma-fe-workspace/redux';\nimport {\n  GridOptions,\n  IServerSideGetRowsParams,\n  GetRowIdParams,\n} from 'ag-grid-community';\nimport { LumaAgGrid } from '@luma-fe-workspace/design-system';\nimport { Title, Header } from '../HomePage/HomePage.styles';\nimport { usePricingAPI } from '../PricingForm/usePricingAPI';\nimport { CreationHubPages } from '../HomePage/HomePageUtils';\nimport { RfqsType } from '../../';\n\nexport function Rfqs() {\n  const PAGE_SIZE = 10;\n  const api = usePricingAPI();\n  const navigate = useNavigate();\n\n  const commonDefs = useMemo(() => {\n    return {\n      filter: 'agTextColumnFilter',\n    };\n  }, []);\n\n  const [columnDefs] = useState([\n    {\n      field: 'id',\n      suppressMovable: true,\n      lockPosition: true,\n      ...commonDefs,\n    },\n    { field: 'pricingId', ...commonDefs },\n    { field: 'issuer', ...commonDefs },\n    { field: 'state', ...commonDefs },\n  ]);\n\n  const defaultColDef = useMemo(() => {\n    return {\n      sortable: true,\n      menuTabs: ['filterMenuTab'],\n    };\n  }, []);\n\n  const gridStyles = useMemo(() => {\n    return {\n      height: 450,\n    };\n  }, []);\n\n  const sideBar = useMemo(() => {\n    return {\n      toolPanels: [\n        {\n          id: 'columns',\n          labelDefault: 'Columns',\n          labelKey: 'columns',\n          iconKey: 'columns',\n          toolPanel: 'agColumnsToolPanel',\n          toolPanelParams: {\n            suppressRowGroups: true,\n            suppressValues: true,\n            suppressPivots: true,\n            suppressPivotMode: true,\n            suppressColumnFilter: true,\n            suppressColumnSelectAll: true,\n            suppressColumnExpandAll: true,\n          },\n        },\n      ],\n    };\n  }, []);\n\n  const onRowSelected = useCallback((e) => {\n    const id = e.node.data.pricingId;\n    if (e.node.isSelected()) {\n      navigate(`${CreationHubPages.IssuerPricingView}/${id}`);\n    }\n  }, []);\n\n  const onGridReady = useCallback((params) => {\n    const datasource = createServerSideDatasource();\n    params.api.setServerSideDatasource(datasource);\n  }, []);\n\n  const createServerSideDatasource = useCallback(() => {\n    return {\n      getRows: async (params: IServerSideGetRowsParams) => {\n        const startPage = params?.request?.startRow || 0;\n        const page = startPage / PAGE_SIZE;\n        const result = (await api\n          .getRFQs({\n            size: PAGE_SIZE,\n            page: page,\n          })\n          .unwrap()) as PageUserModel;\n        if (result) {\n          params.success({\n            rowData: result.content as RfqsType[],\n            rowCount: result.totalElements,\n          });\n        } else {\n          params.fail();\n        }\n      },\n    };\n  }, []);\n\n  const gridOptions: GridOptions = {\n    columnDefs: columnDefs,\n    defaultColDef: defaultColDef,\n    rowModelType: 'serverSide',\n    rowSelection: 'single',\n    sideBar: sideBar,\n    pagination: true,\n    paginationPageSize: PAGE_SIZE,\n    cacheBlockSize: PAGE_SIZE,\n    serverSideInfiniteScroll: true,\n    suppressContextMenu: true,\n    detailRowAutoHeight: true,\n    getRowId: (row: GetRowIdParams<RfqsType>) => row.data.id,\n    onRowSelected: onRowSelected,\n    onGridReady: onGridReady,\n  };\n\n  return (\n    <>\n      <Title>\n        <Header>RFQs</Header>\n      </Title>\n      <LumaAgGrid\n        gridOptions={gridOptions}\n        gridStyles={gridStyles}\n      ></LumaAgGrid>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}