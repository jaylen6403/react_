{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { useCallback, useState } from 'react';\nexport function useFilter(filters) {\n  _s();\n\n  const [filterValues, setFilterValues] = useState({});\n  const isExternalFilterPresent = useCallback(() => true, []);\n  const doesExternalFilterPass = useCallback(node => {\n    return filters.every(({\n      field,\n      handler\n    }) => {\n      var _filterValues$field, _filterValues$field2;\n\n      return !filterValues[field] || ((_filterValues$field = filterValues[field]) == null ? void 0 : _filterValues$field.length) === 0 || handler((_filterValues$field2 = filterValues[field]) != null ? _filterValues$field2 : [], node.data);\n    });\n  }, [filterValues, filters]);\n\n  const handleInputFilter = (key, value) => {\n    setFilterValues(Object.assign({}, filterValues, {\n      [key]: [value]\n    }));\n  };\n\n  const handleCheckboxFilter = (key, checked) => {\n    setFilterValues(Object.assign({}, filterValues, {\n      [key]: checked\n    }));\n  };\n\n  const handleClearFilters = () => {\n    setFilterValues({});\n  };\n\n  return {\n    isExternalFilterPresent,\n    doesExternalFilterPass,\n    handleInputFilter,\n    handleCheckboxFilter,\n    handleClearFilters,\n    filterValues\n  };\n}\n\n_s(useFilter, \"OT2tJ8hchHwEEfSd2YCCPF4RHf8=\");","map":{"version":3,"names":["useCallback","useState","useFilter","filters","filterValues","setFilterValues","isExternalFilterPresent","doesExternalFilterPass","node","every","field","handler","length","data","handleInputFilter","key","value","handleCheckboxFilter","checked","handleClearFilters"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/AGGridTable/hooks/useFilter.tsx"],"sourcesContent":["import { RowNode } from 'ag-grid-community';\nimport { useCallback, useState } from 'react';\n\nexport type FiltersFor<D, F> = {\n  field: keyof F;\n  handler: (filterValues: string[], data: D) => boolean;\n}[];\n\nexport function useFilter<D, F extends object>(filters: FiltersFor<D, F>) {\n  const [filterValues, setFilterValues] = useState<\n    Partial<Record<keyof F, string[]>>\n  >({});\n\n  const isExternalFilterPresent = useCallback((): boolean => true, []);\n\n  const doesExternalFilterPass = useCallback(\n    (node: RowNode): boolean => {\n      return filters.every(\n        ({ field, handler }) =>\n          !filterValues[field] ||\n          filterValues[field]?.length === 0 ||\n          handler(filterValues[field] ?? [], node.data)\n      );\n    },\n    [filterValues, filters]\n  );\n\n  const handleInputFilter = (key: keyof F, value: string) => {\n    setFilterValues({ ...filterValues, [key]: [value] });\n  };\n\n  const handleCheckboxFilter = (key: keyof F, checked: string[]) => {\n    setFilterValues({ ...filterValues, [key]: checked });\n  };\n\n  const handleClearFilters = () => {\n    setFilterValues({});\n  };\n\n  return {\n    isExternalFilterPresent,\n    doesExternalFilterPass,\n    handleInputFilter,\n    handleCheckboxFilter,\n    handleClearFilters,\n    filterValues,\n  };\n}\n"],"mappings":";;;;;AACA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAOA,OAAO,SAASC,SAAT,CAAwCC,OAAxC,EAAmE;EAAA;;EACxE,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCJ,QAAQ,CAE9C,EAF8C,CAAhD;EAIA,MAAMK,uBAAuB,GAAGN,WAAW,CAAC,MAAe,IAAhB,EAAsB,EAAtB,CAA3C;EAEA,MAAMO,sBAAsB,GAAGP,WAAW,CACvCQ,IAAD,IAA4B;IAC1B,OAAOL,OAAO,CAACM,KAAR,CACL,CAAC;MAAEC,KAAF;MAASC;IAAT,CAAD;MAAA;;MAAA,OACE,CAACP,YAAY,CAACM,KAAD,CAAb,IACA,wBAAAN,YAAY,CAACM,KAAD,CAAZ,yCAAqBE,MAArB,MAAgC,CADhC,IAEAD,OAAO,yBAACP,YAAY,CAACM,KAAD,CAAb,mCAAwB,EAAxB,EAA4BF,IAAI,CAACK,IAAjC,CAHT;IAAA,CADK,CAAP;EAMD,CARuC,EASxC,CAACT,YAAD,EAAeD,OAAf,CATwC,CAA1C;;EAYA,MAAMW,iBAAiB,GAAG,CAACC,GAAD,EAAeC,KAAf,KAAiC;IACzDX,eAAe,mBAAMD,YAAN;MAAoB,CAACW,GAAD,GAAO,CAACC,KAAD;IAA3B,GAAf;EACD,CAFD;;EAIA,MAAMC,oBAAoB,GAAG,CAACF,GAAD,EAAeG,OAAf,KAAqC;IAChEb,eAAe,mBAAMD,YAAN;MAAoB,CAACW,GAAD,GAAOG;IAA3B,GAAf;EACD,CAFD;;EAIA,MAAMC,kBAAkB,GAAG,MAAM;IAC/Bd,eAAe,CAAC,EAAD,CAAf;EACD,CAFD;;EAIA,OAAO;IACLC,uBADK;IAELC,sBAFK;IAGLO,iBAHK;IAILG,oBAJK;IAKLE,kBALK;IAMLf;EANK,CAAP;AAQD;;GAvCeF,S"},"metadata":{},"sourceType":"module"}