{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"/Users/jchen/Documents/GitHub/luma-fe-workspace/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\";\nconst _excluded = [\"items\", \"initialValue\", \"handleSelectItem\", \"handleChange\", \"handleBlur\", \"renderContent\", \"itemToString\", \"inputAriaLabel\", \"buttonAriaLabel\", \"width\", \"marginRight\"];\n\nvar _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components/Search/Search.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.object.assign.js\";\nimport * as React from 'react';\nimport { useCombobox } from 'downshift';\nimport { Root, Input, CircleButton, SearchWrapper, ResultsWrapper, SearchListItemContainer, SearchResultsList, StyledSearchIcon, StyledCloseIcon } from './Search.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Search = _ref => {\n  _s();\n\n  let {\n    items,\n    initialValue,\n    handleSelectItem,\n    handleChange,\n    renderContent,\n    itemToString,\n    inputAriaLabel,\n    buttonAriaLabel,\n    width,\n    marginRight\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const {\n    isOpen,\n    getMenuProps,\n    getInputProps,\n    getComboboxProps,\n    getItemProps,\n    highlightedIndex,\n    reset\n  } = useCombobox({\n    itemToString,\n    inputValue: initialValue,\n    items,\n    onInputValueChange: ({\n      inputValue\n    }) => {\n      handleChange == null ? void 0 : handleChange(inputValue);\n      return;\n    },\n\n    onSelectedItemChange({\n      selectedItem: selectedItemEvent\n    }) {\n      handleSelectItem == null ? void 0 : handleSelectItem(selectedItemEvent);\n    }\n\n  });\n  const inputProps = getInputProps({\n    'aria-label': inputAriaLabel,\n    'aria-labelledby': ''\n  });\n  return /*#__PURE__*/_jsxDEV(SearchWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", Object.assign({}, getComboboxProps(), {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: /*#__PURE__*/_jsxDEV(Root, {\n          width: width,\n          marginRight: marginRight,\n          children: [/*#__PURE__*/_jsxDEV(StyledSearchIcon, {\n            iconCode: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, Object.assign({}, rest, {\n            name: 'search'\n          }, inputProps), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CircleButton, {\n            name: \"clear input\",\n            \"aria-label\": buttonAriaLabel,\n            onClick: () => {\n              reset();\n            },\n            children: /*#__PURE__*/_jsxDEV(StyledCloseIcon, {\n              iconCode: \"times-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResultsWrapper, {\n      children: /*#__PURE__*/_jsxDEV(SearchResultsList, Object.assign({\n        isOpen: isOpen && items.length > 0\n      }, getMenuProps({\n        'aria-labelledby': inputProps.id\n      }), {\n        width: width,\n        children: isOpen && items.length > 0 ? items.map((item, index) => /*#__PURE__*/_jsxDEV(SearchListItemContainer, Object.assign({\n          isHighlighted: highlightedIndex === index\n        }, getItemProps({\n          item,\n          index\n        }), {\n          children: /*#__PURE__*/React.cloneElement(renderContent, {\n            item\n          })\n        }), index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this)) : null\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"3ULpqT6Hb3qsqVjRlkDV/6IoGpc=\", false, function () {\n  return [useCombobox];\n});\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useCombobox","Root","Input","CircleButton","SearchWrapper","ResultsWrapper","SearchListItemContainer","SearchResultsList","StyledSearchIcon","StyledCloseIcon","Search","items","initialValue","handleSelectItem","handleChange","renderContent","itemToString","inputAriaLabel","buttonAriaLabel","width","marginRight","rest","isOpen","getMenuProps","getInputProps","getComboboxProps","getItemProps","highlightedIndex","reset","inputValue","onInputValueChange","onSelectedItemChange","selectedItem","selectedItemEvent","inputProps","e","preventDefault","length","id","map","item","index","cloneElement"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components/Search/Search.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useCombobox } from 'downshift';\n\nimport {\n  Root,\n  Input,\n  CircleButton,\n  SearchWrapper,\n  ResultsWrapper,\n  SearchListItemContainer,\n  SearchResultsList,\n  StyledSearchIcon,\n  StyledCloseIcon,\n} from './Search.styles';\n\ninterface Props<Item> {\n  items: Item[];\n  initialValue: string;\n  handleSelectItem?: (item: Item | null | undefined) => void;\n  handleChange?: (value: string | undefined) => void;\n  handleBlur?: () => void;\n  itemToString?: (item: Item | null) => string;\n  placeholder?: string;\n  renderContent: React.ReactElement<{ item: Item }>;\n  inputAriaLabel: string;\n  buttonAriaLabel: string;\n  width?: string;\n  marginRight?: string;\n}\n\nexport const Search = <Item,>({\n  items,\n  initialValue,\n  handleSelectItem,\n  handleChange,\n  handleBlur,\n  renderContent,\n  itemToString,\n  inputAriaLabel,\n  buttonAriaLabel,\n  width,\n  marginRight,\n  ...rest\n}: Props<Item>) => {\n  const {\n    isOpen,\n    getMenuProps,\n    getInputProps,\n    getComboboxProps,\n    getItemProps,\n    highlightedIndex,\n    reset,\n  } = useCombobox<Item>({\n    itemToString,\n    inputValue: initialValue,\n    items,\n    onInputValueChange: ({ inputValue }) => {\n      handleChange?.(inputValue);\n      return;\n    },\n    onSelectedItemChange({ selectedItem: selectedItemEvent }) {\n      handleSelectItem?.(selectedItemEvent);\n    },\n  });\n\n  const inputProps = getInputProps({\n    'aria-label': inputAriaLabel,\n    'aria-labelledby': '',\n  });\n  return (\n    <SearchWrapper>\n      <div {...getComboboxProps()}>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n          }}\n        >\n          <Root width={width} marginRight={marginRight}>\n            <StyledSearchIcon iconCode=\"search\" />\n\n            <Input {...rest} name={'search'} {...inputProps} />\n            <CircleButton\n              name=\"clear input\"\n              aria-label={buttonAriaLabel}\n              onClick={() => {\n                reset();\n              }}\n            >\n              <StyledCloseIcon iconCode=\"times-circle\" />\n            </CircleButton>\n          </Root>\n        </form>\n      </div>\n      <ResultsWrapper>\n        <SearchResultsList\n          isOpen={isOpen && items.length > 0}\n          {...getMenuProps({ 'aria-labelledby': inputProps.id })}\n          width={width}\n        >\n          {isOpen && items.length > 0\n            ? items.map((item: Item, index: number) => (\n                <SearchListItemContainer\n                  isHighlighted={highlightedIndex === index}\n                  key={index}\n                  {...getItemProps({ item, index })}\n                >\n                  {React.cloneElement(renderContent, { item })}\n                </SearchListItemContainer>\n              ))\n            : null}\n        </SearchResultsList>\n      </ResultsWrapper>\n    </SearchWrapper>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}