{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/SecurityDetails/SecurityDetails.tsx\",\n    _s = $RefreshSig$();\n\nimport { useGetProductsByIdentifierUsingGetQuery, useAppSelector, useAppDispatch, secondariesSlice, selectSecurityDetailsCusip } from '@luma-fe-workspace/redux';\nimport { FIELD_SECTIONS, FIELD_SECTION_NAMES } from './fields';\nimport { Content, FlexRowContainer, SectionButton, SecurityDetailsModal, FlexColumnContainer, TableHeader, SecurityDetailsLogoWrapper } from './SecurityDetails.styles';\nimport { SecondariesTable } from '../SecondariesTable/SecondariesTable';\nimport { ModalHeader } from '../Modal';\nimport lumaDark from '../../../../../design-system/src/lib/assets/logos/lumaDark.svg';\nimport { Logo } from '@luma-fe-workspace/design-system';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SecurityDetails = ({\n  initialCusip\n}) => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const cusip = useAppSelector(selectSecurityDetailsCusip); // TODO: update with selector to pull data\n\n  const searchCusip = cusip || initialCusip;\n  const {\n    data,\n    isError\n  } = useGetProductsByIdentifierUsingGetQuery({\n    identifier: searchCusip != null ? searchCusip : ''\n  }, {\n    skip: !searchCusip\n  });\n  useEffect(() => {\n    if (isError) {\n      dispatch(secondariesSlice.actions.setMessageObject({\n        title: 'Unable to retrieve product data',\n        messageType: 'error',\n        isMessageShowing: true\n      }));\n    }\n  }, [dispatch, isError]);\n\n  if (!data || !searchCusip) {\n    return null;\n  }\n\n  const handleScroll = sectionName => {\n    var _document$getElementB;\n\n    (_document$getElementB = document.getElementById(sectionName)) == null ? void 0 : _document$getElementB.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  const securityDetailsId = 'security-details'; // Header\n\n  const ISSUER_AND_ID = [data.productGeneral.issuer, data.productGeneral.cusip].filter(Boolean).join('    •    '); // CSS `white-space:pre-wrap;` to prevent white-space collapse\n  // Anchor Links to scroll to the various sections (tables)\n\n  const securityDetailsAnchorLinkButtons = /*#__PURE__*/_jsxDEV(FlexRowContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sectionButtons\",\n      children: FIELD_SECTION_NAMES.map(sectionName => {\n        return /*#__PURE__*/_jsxDEV(SectionButton, {\n          onClick: () => handleScroll(sectionName),\n          children: sectionName\n        }, `${sectionName}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this); // const securityDetailsDropdownButtons = (\n  //   <FlexRowContainer>\n  //     <SecurityDetailsDropdown\n  //       items={documentsDropdownItems}\n  //       placeholder=\"DOCUMENTS\"\n  //       variant={'secondary'}\n  //       iconCodeLeft=\"file-alt\"\n  //       id=\"documentsDropdown\"\n  //     />\n  //   </FlexRowContainer>\n  // );\n\n\n  const securityDetailsIssuerInfoAndTables = /*#__PURE__*/_jsxDEV(Content, {\n    children: [/*#__PURE__*/_jsxDEV(FlexRowContainer, {\n      id: \"issuerDescription\",\n      children: [/*#__PURE__*/_jsxDEV(FlexColumnContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"underlyings\",\n          children: \"Underlyings:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"issueDescription\",\n          children: \"Issuer Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableHeader, {\n          id: \"issuerAndId\",\n          children: ISSUER_AND_ID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SecurityDetailsLogoWrapper, {\n        width: '6.25rem',\n        margin: '0 2.625rem',\n        children: /*#__PURE__*/_jsxDEV(Logo, {\n          imageSource: lumaDark\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FlexRowContainer, {\n      id: \"Core\",\n      children: FIELD_SECTIONS.slice(0, 2).map(section => {\n        return /*#__PURE__*/_jsxDEV(SecondariesTable, {\n          id: `${section.sectionName}Table`,\n          title: section.sectionName,\n          data: section.data,\n          rootStyles: 'margin-bottom: 1rem'\n        }, section.sectionName, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), FIELD_SECTIONS.slice(2).map(section => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: `${section.sectionName}`,\n        children: /*#__PURE__*/_jsxDEV(SecondariesTable, {\n          id: `${section.sectionName}Table`,\n          title: section.sectionName,\n          data: section.data,\n          rootStyles: 'margin-bottom: 1rem'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)\n      }, section.sectionName, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n\n  const securityDetailsActionBar = /*#__PURE__*/_jsxDEV(FlexRowContainer, {\n    children: securityDetailsAnchorLinkButtons\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(SecurityDetailsModal, {\n    id: `${securityDetailsId}_modal`,\n    showModal: !!searchCusip,\n    handleOnClose: () => {\n      dispatch(secondariesSlice.actions.setSecurityDetailsCusip(undefined));\n    },\n    width: '50rem',\n    children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n      id: `${securityDetailsId}_header`,\n      title: `SECURITY DETAILS`,\n      \"aria-label\": \"close dialog\",\n      \"aria-describedby\": securityDetailsId,\n      handleOnClose: () => {\n        dispatch(secondariesSlice.actions.setSecurityDetailsCusip(undefined));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), securityDetailsActionBar, securityDetailsIssuerInfoAndTables]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SecurityDetails, \"Ecp2b6T7JnRRd1w5jVmT+9KDvnY=\", false, function () {\n  return [useAppDispatch, useAppSelector, useGetProductsByIdentifierUsingGetQuery];\n});\n\n_c = SecurityDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"SecurityDetails\");","map":{"version":3,"names":["useGetProductsByIdentifierUsingGetQuery","useAppSelector","useAppDispatch","secondariesSlice","selectSecurityDetailsCusip","FIELD_SECTIONS","FIELD_SECTION_NAMES","Content","FlexRowContainer","SectionButton","SecurityDetailsModal","FlexColumnContainer","TableHeader","SecurityDetailsLogoWrapper","SecondariesTable","ModalHeader","lumaDark","Logo","useEffect","SecurityDetails","initialCusip","dispatch","cusip","searchCusip","data","isError","identifier","skip","actions","setMessageObject","title","messageType","isMessageShowing","handleScroll","sectionName","document","getElementById","scrollIntoView","behavior","securityDetailsId","ISSUER_AND_ID","productGeneral","issuer","filter","Boolean","join","securityDetailsAnchorLinkButtons","map","securityDetailsIssuerInfoAndTables","slice","section","securityDetailsActionBar","setSecurityDetailsCusip","undefined"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/secondaries/src/components/SecurityDetails/SecurityDetails.tsx"],"sourcesContent":["import {\n  useGetProductsByIdentifierUsingGetQuery,\n  useAppSelector,\n  useAppDispatch,\n  secondariesSlice,\n  selectSecurityDetailsCusip,\n} from '@luma-fe-workspace/redux';\nimport { FieldSection, FIELD_SECTIONS, FIELD_SECTION_NAMES } from './fields';\nimport {\n  Content,\n  FlexRowContainer,\n  SectionButton,\n  SecurityDetailsModal,\n  FlexColumnContainer,\n  TableHeader,\n  SecurityDetailsLogoWrapper,\n} from './SecurityDetails.styles';\nimport { SecondariesTable } from '../SecondariesTable/SecondariesTable';\nimport { ModalHeader } from '../Modal';\nimport lumaDark from '../../../../../design-system/src/lib/assets/logos/lumaDark.svg';\nimport { Logo } from '@luma-fe-workspace/design-system';\nimport { useEffect } from 'react';\n\nexport const SecurityDetails = ({\n  initialCusip,\n}: {\n  initialCusip?: string;\n  className?: string;\n}) => {\n  const dispatch = useAppDispatch();\n  const cusip = useAppSelector(selectSecurityDetailsCusip); // TODO: update with selector to pull data\n  const searchCusip = cusip || initialCusip;\n\n  const { data, isError } = useGetProductsByIdentifierUsingGetQuery(\n    { identifier: searchCusip ?? '' },\n    { skip: !searchCusip }\n  );\n\n  useEffect(() => {\n    if (isError) {\n      dispatch(\n        secondariesSlice.actions.setMessageObject({\n          title: 'Unable to retrieve product data',\n          messageType: 'error',\n          isMessageShowing: true,\n        })\n      );\n    }\n  }, [dispatch, isError]);\n\n  if (!data || !searchCusip) {\n    return null;\n  }\n\n  const handleScroll = (sectionName: string) => {\n    document\n      .getElementById(sectionName)\n      ?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const securityDetailsId = 'security-details';\n\n  // Header\n  const ISSUER_AND_ID = [data.productGeneral.issuer, data.productGeneral.cusip]\n    .filter(Boolean)\n    .join('    •    '); // CSS `white-space:pre-wrap;` to prevent white-space collapse\n\n  // Anchor Links to scroll to the various sections (tables)\n  const securityDetailsAnchorLinkButtons = (\n    <FlexRowContainer>\n      <div className=\"sectionButtons\">\n        {FIELD_SECTION_NAMES.map((sectionName: string) => {\n          return (\n            <SectionButton\n              onClick={() => handleScroll(sectionName)}\n              key={`${sectionName}`}\n            >\n              {sectionName}\n            </SectionButton>\n          );\n        })}\n      </div>\n    </FlexRowContainer>\n  );\n\n  // const securityDetailsDropdownButtons = (\n  //   <FlexRowContainer>\n  //     <SecurityDetailsDropdown\n  //       items={documentsDropdownItems}\n  //       placeholder=\"DOCUMENTS\"\n  //       variant={'secondary'}\n  //       iconCodeLeft=\"file-alt\"\n  //       id=\"documentsDropdown\"\n  //     />\n  //   </FlexRowContainer>\n  // );\n\n  const securityDetailsIssuerInfoAndTables = (\n    <Content>\n      <FlexRowContainer id=\"issuerDescription\">\n        <FlexColumnContainer>\n          <div id=\"underlyings\">Underlyings:</div>\n          <div id=\"issueDescription\">Issuer Description:</div>\n          <TableHeader id=\"issuerAndId\">{ISSUER_AND_ID}</TableHeader>\n        </FlexColumnContainer>\n        <SecurityDetailsLogoWrapper width={'6.25rem'} margin={'0 2.625rem'}>\n          <Logo imageSource={lumaDark} />\n        </SecurityDetailsLogoWrapper>\n      </FlexRowContainer>\n      {/* Need a flex container for the upper two tables (Product and Dates) */}\n      <FlexRowContainer id=\"Core\">\n        {FIELD_SECTIONS.slice(0, 2).map((section: FieldSection) => {\n          return (\n            <SecondariesTable\n              id={`${section.sectionName}Table`}\n              key={section.sectionName}\n              title={section.sectionName}\n              data={section.data}\n              rootStyles={'margin-bottom: 1rem'}\n            />\n          );\n        })}\n      </FlexRowContainer>\n      {FIELD_SECTIONS.slice(2).map((section: FieldSection) => {\n        return (\n          <div id={`${section.sectionName}`} key={section.sectionName}>\n            <SecondariesTable\n              id={`${section.sectionName}Table`}\n              title={section.sectionName}\n              data={section.data}\n              rootStyles={'margin-bottom: 1rem'}\n            />\n          </div>\n        );\n      })}\n    </Content>\n  );\n\n  const securityDetailsActionBar = (\n    <FlexRowContainer>{securityDetailsAnchorLinkButtons}</FlexRowContainer>\n  );\n\n  return (\n    <SecurityDetailsModal\n      id={`${securityDetailsId}_modal`}\n      showModal={!!searchCusip}\n      handleOnClose={() => {\n        dispatch(secondariesSlice.actions.setSecurityDetailsCusip(undefined));\n      }}\n      width={'50rem'}\n    >\n      <ModalHeader\n        id={`${securityDetailsId}_header`}\n        title={`SECURITY DETAILS`}\n        aria-label=\"close dialog\"\n        aria-describedby={securityDetailsId}\n        handleOnClose={() => {\n          dispatch(secondariesSlice.actions.setSecurityDetailsCusip(undefined));\n        }}\n      />\n      {securityDetailsActionBar}\n      {securityDetailsIssuerInfoAndTables}\n    </SecurityDetailsModal>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}