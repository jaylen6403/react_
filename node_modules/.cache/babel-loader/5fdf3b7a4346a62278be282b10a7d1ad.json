{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"/Users/jchen/Documents/GitHub/luma-fe-workspace/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\";\nconst _excluded = [\"name\", \"id\", \"placeholder\", \"error\", \"readOnly\", \"disabled\", \"fullWidth\", \"helperText\", \"size\", \"items\", \"defaultSelectedItem\", \"onChange\", \"handleBlur\", \"className\", \"dropDownIcon\", \"dropDownIconType\"];\n\nvar _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components-Luma/components/LumaDropdown/LumaSingleDropDown/LumaSingleDropDown.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { useState, useEffect } from 'react';\nimport { useCombobox } from 'downshift';\nimport { Root } from '../LumaDropDown.style';\nimport { LumaIcon } from '../../LumaIcon';\nimport { LumaTextEntry } from '../../LumaTextEntry';\nimport { LumaDropDownBox } from '../../LumaDropdownBox';\nimport { LumaSingleDropDownOption } from './LumaSingleDropDownOption';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LumaSingleDropDown = _ref => {\n  _s();\n\n  let {\n    id,\n    placeholder,\n    error,\n    readOnly = true,\n    disabled,\n    fullWidth,\n    helperText,\n    size = 'medium',\n    items = [],\n    defaultSelectedItem,\n    onChange,\n    className = '',\n    dropDownIcon,\n    dropDownIconType\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [inputValue, setInputValue] = useState((defaultSelectedItem == null ? void 0 : defaultSelectedItem.label) || '');\n  useEffect(() => {\n    setInputValue(defaultSelectedItem == null ? void 0 : defaultSelectedItem.label);\n  }, [defaultSelectedItem]);\n  const {\n    isOpen,\n    openMenu,\n    closeMenu,\n    getMenuProps,\n    getInputProps,\n    getComboboxProps,\n    getItemProps,\n    highlightedIndex,\n    selectedItem,\n    reset\n  } = useCombobox({\n    inputValue,\n    itemToString: item => {\n      var _item$label;\n\n      return (_item$label = item == null ? void 0 : item.label) != null ? _item$label : '';\n    },\n    items,\n\n    onSelectedItemChange({\n      selectedItem\n    }) {\n      setInputValue((selectedItem == null ? void 0 : selectedItem.label) || '');\n      onChange == null ? void 0 : onChange(selectedItem != null ? selectedItem : null);\n    },\n\n    onInputValueChange({\n      inputValue\n    }) {\n      if (inputValue === '') {\n        reset();\n      }\n\n      setInputValue(inputValue || '');\n    }\n\n  });\n  return /*#__PURE__*/_jsxDEV(Root, Object.assign({\n    size: size,\n    error: error,\n    fullWidth: fullWidth,\n    className: className\n  }, getComboboxProps({\n    readOnly,\n    disabled\n  }), {\n    children: [/*#__PURE__*/_jsxDEV(LumaTextEntry, Object.assign({}, getInputProps({\n      label: placeholder,\n      disabled,\n      readOnly\n    }), {\n      value: inputValue,\n      icon: dropDownIcon ? /*#__PURE__*/_jsxDEV(LumaIcon, {\n        onClick: isOpen ? closeMenu : openMenu,\n        iconCode: dropDownIcon,\n        type: dropDownIconType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(LumaIcon, {\n        onClick: isOpen ? closeMenu : openMenu,\n        iconCode: isOpen ? 'angle-up' : 'angle-down'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this),\n      fullWidth: fullWidth,\n      helperText: helperText,\n      sizeVariant: size,\n      error: error,\n      useByDropdown: true,\n      onClick: () => {\n        if (!isOpen) openMenu();else closeMenu();\n      }\n    }, rest), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LumaDropDownBox, {\n      size: size,\n      isOpen: isOpen,\n      items: items,\n      getMenuProps: getMenuProps,\n      highlightedIndex: highlightedIndex,\n      getItemProps: getItemProps,\n      renderComponent: /*#__PURE__*/_jsxDEV(LumaSingleDropDownOption, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 26\n      }, this),\n      selectedItem: selectedItem || defaultSelectedItem,\n      id: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LumaSingleDropDown, \"pn1xwb9NmDDNiZhShFe5SCD5Tug=\", false, function () {\n  return [useCombobox];\n});\n\n_c = LumaSingleDropDown;\n\nvar _c;\n\n$RefreshReg$(_c, \"LumaSingleDropDown\");","map":{"version":3,"names":["useState","useEffect","useCombobox","Root","LumaIcon","LumaTextEntry","LumaDropDownBox","LumaSingleDropDownOption","LumaSingleDropDown","id","placeholder","error","readOnly","disabled","fullWidth","helperText","size","items","defaultSelectedItem","onChange","className","dropDownIcon","dropDownIconType","rest","inputValue","setInputValue","label","isOpen","openMenu","closeMenu","getMenuProps","getInputProps","getComboboxProps","getItemProps","highlightedIndex","selectedItem","reset","itemToString","item","onSelectedItemChange","onInputValueChange"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components-Luma/components/LumaDropdown/LumaSingleDropDown/LumaSingleDropDown.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useCombobox } from 'downshift';\nimport { Root } from '../LumaDropDown.style';\nimport {\n  DataItemProps,\n  LumaSingleDropDownProps,\n} from '../LumaDropDownBasicType';\nimport { LumaIcon } from '../../LumaIcon';\nimport { LumaTextEntry } from '../../LumaTextEntry';\nimport { LumaDropDownBox } from '../../LumaDropdownBox';\nimport { LumaSingleDropDownOption } from './LumaSingleDropDownOption';\n\nexport const LumaSingleDropDown = ({\n  name,\n  id,\n  placeholder,\n  error,\n  readOnly = true,\n  disabled,\n  fullWidth,\n  helperText,\n  size = 'medium',\n  items = [],\n  defaultSelectedItem,\n  onChange,\n  handleBlur,\n  className = '',\n  dropDownIcon,\n  dropDownIconType,\n  ...rest\n}: LumaSingleDropDownProps) => {\n  const [inputValue, setInputValue] = useState(\n    defaultSelectedItem?.label || ''\n  );\n  useEffect(() => {\n    setInputValue(defaultSelectedItem?.label as string);\n  }, [defaultSelectedItem]);\n  const {\n    isOpen,\n    openMenu,\n    closeMenu,\n    getMenuProps,\n    getInputProps,\n    getComboboxProps,\n    getItemProps,\n    highlightedIndex,\n    selectedItem,\n    reset,\n  } = useCombobox({\n    inputValue,\n    itemToString: (item: DataItemProps | null) => item?.label ?? '',\n    items,\n    onSelectedItemChange({ selectedItem }) {\n      setInputValue(selectedItem?.label || '');\n      onChange?.(selectedItem ?? null);\n    },\n    onInputValueChange({ inputValue }) {\n      if (inputValue === '') {\n        reset();\n      }\n      setInputValue(inputValue || '');\n    },\n  });\n\n  return (\n    <Root\n      size={size}\n      error={error}\n      fullWidth={fullWidth}\n      className={className}\n      {...getComboboxProps({\n        readOnly,\n        disabled,\n      })}\n    >\n      <LumaTextEntry\n        {...getInputProps({\n          label: placeholder,\n          disabled,\n          readOnly,\n        })}\n        value={inputValue}\n        icon={\n          dropDownIcon ? (\n            <LumaIcon\n              onClick={isOpen ? closeMenu : openMenu}\n              iconCode={dropDownIcon}\n              type={dropDownIconType}\n            />\n          ) : (\n            <LumaIcon\n              onClick={isOpen ? closeMenu : openMenu}\n              iconCode={isOpen ? 'angle-up' : 'angle-down'}\n            />\n          )\n        }\n        fullWidth={fullWidth}\n        helperText={helperText}\n        sizeVariant={size}\n        error={error}\n        useByDropdown={true}\n        onClick={() => {\n          if (!isOpen) openMenu();\n          else closeMenu();\n        }}\n        {...rest}\n      />\n      <LumaDropDownBox\n        size={size}\n        isOpen={isOpen}\n        items={items}\n        getMenuProps={getMenuProps}\n        highlightedIndex={highlightedIndex}\n        getItemProps={getItemProps}\n        renderComponent={<LumaSingleDropDownOption />}\n        selectedItem={selectedItem || defaultSelectedItem}\n        id={id}\n      />\n    </Root>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}