{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/Pill/Pill.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { lifecycleSlice, selectLifecycle, useAppDispatch, useAppSelector } from '@luma-fe-workspace/redux';\nimport { LumaPill } from '@luma-fe-workspace/design-system';\nimport { PillContainer } from './Pill.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Pill = ({\n  title,\n  sectionTitle,\n  categoryTitle,\n  variant,\n  fullPillClickable\n}) => {\n  _s();\n\n  const selectedFilters = useAppSelector(selectLifecycle).selectedEventFilters;\n  const dispatch = useAppDispatch();\n\n  const removeFilter = selection => {\n    const updatedOptions = selectedFilters[sectionTitle][categoryTitle] ? [...selectedFilters[sectionTitle][categoryTitle]] : [];\n    const index = updatedOptions.indexOf(selection);\n    updatedOptions.splice(index, 1);\n    const newFilters = Object.assign({}, selectedFilters, {\n      [sectionTitle]: Object.assign({}, selectedFilters[sectionTitle], {\n        [categoryTitle]: updatedOptions\n      })\n    });\n    dispatch(lifecycleSlice.actions.setSelectedFilters(newFilters));\n  };\n\n  return /*#__PURE__*/_jsxDEV(PillContainer, {\n    children: /*#__PURE__*/_jsxDEV(LumaPill, {\n      title: title,\n      onClose: () => removeFilter(title),\n      variant: variant,\n      fullPillClickable: fullPillClickable\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Pill, \"Cc9Z7NzrH3jyIJwxisVWz1E3i3Q=\", false, function () {\n  return [useAppSelector, useAppDispatch];\n});\n\n_c = Pill;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pill\");","map":{"version":3,"names":["lifecycleSlice","selectLifecycle","useAppDispatch","useAppSelector","LumaPill","PillContainer","Pill","title","sectionTitle","categoryTitle","variant","fullPillClickable","selectedFilters","selectedEventFilters","dispatch","removeFilter","selection","updatedOptions","index","indexOf","splice","newFilters","actions","setSelectedFilters"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/luma/lifecyclemanager/src/components/Pill/Pill.tsx"],"sourcesContent":["import {\n  EventFilters,\n  lifecycleSlice,\n  selectLifecycle,\n  useAppDispatch,\n  useAppSelector,\n} from '@luma-fe-workspace/redux';\nimport { LumaPill, LumaPillVariant } from '@luma-fe-workspace/design-system';\nimport { PillContainer } from './Pill.styles';\n\ninterface PillProps {\n  title: string;\n  sectionTitle: string;\n  categoryTitle: string;\n  variant?: LumaPillVariant;\n  fullPillClickable?: boolean;\n}\n\nexport const Pill = ({\n  title,\n  sectionTitle,\n  categoryTitle,\n  variant,\n  fullPillClickable,\n}: PillProps) => {\n  const selectedFilters = useAppSelector(selectLifecycle).selectedEventFilters;\n  const dispatch = useAppDispatch();\n\n  const removeFilter = (selection: string) => {\n    const updatedOptions = selectedFilters[sectionTitle][categoryTitle]\n      ? [...selectedFilters[sectionTitle][categoryTitle]]\n      : [];\n    const index = updatedOptions.indexOf(selection);\n    updatedOptions.splice(index, 1);\n\n    const newFilters: EventFilters = {\n      ...selectedFilters,\n      [sectionTitle]: {\n        ...selectedFilters[sectionTitle],\n        [categoryTitle]: updatedOptions,\n      },\n    };\n\n    dispatch(lifecycleSlice.actions.setSelectedFilters(newFilters));\n  };\n\n  return (\n    <PillContainer>\n      <LumaPill\n        title={title}\n        onClose={() => removeFilter(title)}\n        variant={variant}\n        fullPillClickable={fullPillClickable}\n      />\n    </PillContainer>\n  );\n};\n"],"mappings":";;;;;;AAAA,SAEEA,cAFF,EAGEC,eAHF,EAIEC,cAJF,EAKEC,cALF,QAMO,0BANP;AAOA,SAASC,QAAT,QAA0C,kCAA1C;AACA,SAASC,aAAT,QAA8B,eAA9B;;AAUA,OAAO,MAAMC,IAAI,GAAG,CAAC;EACnBC,KADmB;EAEnBC,YAFmB;EAGnBC,aAHmB;EAInBC,OAJmB;EAKnBC;AALmB,CAAD,KAMH;EAAA;;EACf,MAAMC,eAAe,GAAGT,cAAc,CAACF,eAAD,CAAd,CAAgCY,oBAAxD;EACA,MAAMC,QAAQ,GAAGZ,cAAc,EAA/B;;EAEA,MAAMa,YAAY,GAAIC,SAAD,IAAuB;IAC1C,MAAMC,cAAc,GAAGL,eAAe,CAACJ,YAAD,CAAf,CAA8BC,aAA9B,IACnB,CAAC,GAAGG,eAAe,CAACJ,YAAD,CAAf,CAA8BC,aAA9B,CAAJ,CADmB,GAEnB,EAFJ;IAGA,MAAMS,KAAK,GAAGD,cAAc,CAACE,OAAf,CAAuBH,SAAvB,CAAd;IACAC,cAAc,CAACG,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;IAEA,MAAMG,UAAwB,qBACzBT,eADyB;MAE5B,CAACJ,YAAD,qBACKI,eAAe,CAACJ,YAAD,CADpB;QAEE,CAACC,aAAD,GAAiBQ;MAFnB;IAF4B,EAA9B;IAQAH,QAAQ,CAACd,cAAc,CAACsB,OAAf,CAAuBC,kBAAvB,CAA0CF,UAA1C,CAAD,CAAR;EACD,CAhBD;;EAkBA,oBACE,QAAC,aAAD;IAAA,uBACE,QAAC,QAAD;MACE,KAAK,EAAEd,KADT;MAEE,OAAO,EAAE,MAAMQ,YAAY,CAACR,KAAD,CAF7B;MAGE,OAAO,EAAEG,OAHX;MAIE,iBAAiB,EAAEC;IAJrB;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAUD,CAtCM;;GAAML,I;UAOaH,c,EACPD,c;;;KARNI,I"},"metadata":{},"sourceType":"module"}