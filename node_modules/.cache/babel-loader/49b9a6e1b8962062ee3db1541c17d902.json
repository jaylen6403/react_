{"ast":null,"code":"var _jsxFileName = \"/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components-Luma/components/LumaValidUntil/LumaValidUntil.tsx\",\n    _s = $RefreshSig$();\n\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { useRef, useState } from 'react';\nimport { ValidUntilButton, ValidUntilInput } from './LumaValidUntil.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LumaValidUntil({\n  onChange,\n  inputDataTestId = 'input-valid_until',\n  buttonDataTestId = 'button-valid_until'\n}) {\n  _s();\n\n  const [focus, setFocus] = useState(false);\n  const [validUntil, setValidUntil] = useState(null);\n  const inputRef = useRef(document.createElement('input'));\n  return focus ? /*#__PURE__*/_jsxDEV(ValidUntilInput, {\n    type: \"number\",\n    ref: inputRef,\n    \"data-testid\": inputDataTestId,\n    value: validUntil != null ? validUntil : '',\n    min: \"0\",\n    onFocus: () => setFocus(true),\n    onBlur: () => setFocus(false),\n    onKeyDown: event => {\n      if (event.key === 'Enter') {\n        const value = inputRef.current.value;\n        setValidUntil(value ? Number(value) : null);\n        onChange(value ? Number(value) : undefined);\n        setFocus(false);\n      }\n    },\n    onChange: event => {\n      const value = event.target.value;\n      setValidUntil(value ? Number(value) : null);\n      onChange(value ? Number(value) : undefined);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(ValidUntilButton, {\n    \"data-testid\": buttonDataTestId,\n    onClick: () => {\n      setFocus(true);\n      setTimeout(() => {\n        var _inputRef$current;\n\n        return inputRef == null ? void 0 : (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.focus();\n      }, 0);\n    },\n    children: (validUntil || validUntil === 0) && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [validUntil, \" minutes\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 44\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LumaValidUntil, \"QIknXvnxs0yJesNd0amCZrm3pbw=\");\n\n_c = LumaValidUntil;\n\nvar _c;\n\n$RefreshReg$(_c, \"LumaValidUntil\");","map":{"version":3,"names":["useRef","useState","ValidUntilButton","ValidUntilInput","LumaValidUntil","onChange","inputDataTestId","buttonDataTestId","focus","setFocus","validUntil","setValidUntil","inputRef","document","createElement","event","key","value","current","Number","undefined","target","setTimeout"],"sources":["/Users/jchen/Documents/GitHub/luma-fe-workspace/libs/design-system/src/lib/components-Luma/components/LumaValidUntil/LumaValidUntil.tsx"],"sourcesContent":["import { useRef, useState } from 'react';\r\nimport { ValidUntilButton, ValidUntilInput } from './LumaValidUntil.styles';\r\n\r\nexport type LumaValidUntilProps = {\r\n  /** Callback with entered minutes passed in as argument */\r\n  onChange: (validUntil: number | undefined) => void;\r\n  inputDataTestId?: string;\r\n  buttonDataTestId?: string;\r\n};\r\n\r\nexport function LumaValidUntil({\r\n  onChange,\r\n  inputDataTestId = 'input-valid_until',\r\n  buttonDataTestId = 'button-valid_until',\r\n}: LumaValidUntilProps) {\r\n  const [focus, setFocus] = useState(false);\r\n  const [validUntil, setValidUntil] = useState<number | null>(null);\r\n  const inputRef = useRef(document.createElement('input'));\r\n\r\n  return focus ? (\r\n    <ValidUntilInput\r\n      type=\"number\"\r\n      ref={inputRef}\r\n      data-testid={inputDataTestId}\r\n      value={validUntil ?? ''}\r\n      min=\"0\"\r\n      onFocus={() => setFocus(true)}\r\n      onBlur={() => setFocus(false)}\r\n      onKeyDown={(event) => {\r\n        if (event.key === 'Enter') {\r\n          const value = inputRef.current.value;\r\n          setValidUntil(value ? Number(value) : null);\r\n          onChange(value ? Number(value) : undefined);\r\n          setFocus(false);\r\n        }\r\n      }}\r\n      onChange={(event) => {\r\n        const value = event.target.value;\r\n        setValidUntil(value ? Number(value) : null);\r\n        onChange(value ? Number(value) : undefined);\r\n      }}\r\n    />\r\n  ) : (\r\n    <ValidUntilButton\r\n      data-testid={buttonDataTestId}\r\n      onClick={() => {\r\n        setFocus(true);\r\n        setTimeout(() => inputRef?.current?.focus(), 0);\r\n      }}\r\n    >\r\n      {(validUntil || validUntil === 0) && <span>{validUntil} minutes</span>}\r\n    </ValidUntilButton>\r\n  );\r\n}\r\n"],"mappings":";;;;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,SAASC,gBAAT,EAA2BC,eAA3B,QAAkD,yBAAlD;;AASA,OAAO,SAASC,cAAT,CAAwB;EAC7BC,QAD6B;EAE7BC,eAAe,GAAG,mBAFW;EAG7BC,gBAAgB,GAAG;AAHU,CAAxB,EAIiB;EAAA;;EACtB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAgB,IAAhB,CAA5C;EACA,MAAMW,QAAQ,GAAGZ,MAAM,CAACa,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAD,CAAvB;EAEA,OAAON,KAAK,gBACV,QAAC,eAAD;IACE,IAAI,EAAC,QADP;IAEE,GAAG,EAAEI,QAFP;IAGE,eAAaN,eAHf;IAIE,KAAK,EAAEI,UAAF,WAAEA,UAAF,GAAgB,EAJvB;IAKE,GAAG,EAAC,GALN;IAME,OAAO,EAAE,MAAMD,QAAQ,CAAC,IAAD,CANzB;IAOE,MAAM,EAAE,MAAMA,QAAQ,CAAC,KAAD,CAPxB;IAQE,SAAS,EAAGM,KAAD,IAAW;MACpB,IAAIA,KAAK,CAACC,GAAN,KAAc,OAAlB,EAA2B;QACzB,MAAMC,KAAK,GAAGL,QAAQ,CAACM,OAAT,CAAiBD,KAA/B;QACAN,aAAa,CAACM,KAAK,GAAGE,MAAM,CAACF,KAAD,CAAT,GAAmB,IAAzB,CAAb;QACAZ,QAAQ,CAACY,KAAK,GAAGE,MAAM,CAACF,KAAD,CAAT,GAAmBG,SAAzB,CAAR;QACAX,QAAQ,CAAC,KAAD,CAAR;MACD;IACF,CAfH;IAgBE,QAAQ,EAAGM,KAAD,IAAW;MACnB,MAAME,KAAK,GAAGF,KAAK,CAACM,MAAN,CAAaJ,KAA3B;MACAN,aAAa,CAACM,KAAK,GAAGE,MAAM,CAACF,KAAD,CAAT,GAAmB,IAAzB,CAAb;MACAZ,QAAQ,CAACY,KAAK,GAAGE,MAAM,CAACF,KAAD,CAAT,GAAmBG,SAAzB,CAAR;IACD;EApBH;IAAA;IAAA;IAAA;EAAA,QADU,gBAwBV,QAAC,gBAAD;IACE,eAAab,gBADf;IAEE,OAAO,EAAE,MAAM;MACbE,QAAQ,CAAC,IAAD,CAAR;MACAa,UAAU,CAAC;QAAA;;QAAA,OAAMV,QAAN,yCAAMA,QAAQ,CAAEM,OAAhB,qBAAM,kBAAmBV,KAAnB,EAAN;MAAA,CAAD,EAAmC,CAAnC,CAAV;IACD,CALH;IAAA,UAOG,CAACE,UAAU,IAAIA,UAAU,KAAK,CAA9B,kBAAoC;MAAA,WAAOA,UAAP;IAAA;MAAA;MAAA;MAAA;IAAA;EAPvC;IAAA;IAAA;IAAA;EAAA,QAxBF;AAkCD;;GA3CeN,c;;KAAAA,c"},"metadata":{},"sourceType":"module"}