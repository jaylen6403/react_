{"version":3,"file":"after.js","sourceRoot":"","sources":["../after.ts"],"names":[],"mappings":";AAAA,IAAI,gBAAgB,GAAe,EAAE,CAAC;AAEtC,SAAS,KAAK,CAAC,IAAqB,EAAE,IAAY,EAAE,EAAY;IAC9D,IAAM,UAAU,GAAa,IAAI,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,SAAqB,CAAC;IAE1B,IAAI,UAAU,EAAE;QACd,IAAI,CAAC,IAAI,CAAC,GAAG;YAAS,cAAO;iBAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;gBAAP,yBAAO;;YAC3B,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7B,EAAE,CAAC,IAAI,CAAC,CAAC;QACX,CAAC,CAAC;QACF,SAAS,GAAG;YACV,IAAI,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC;QAC1B,CAAC,CAAC;KACH;SAAM;QACL,IAAI,CAAC,IAAI,CAAC,GAAG;YACX,EAAE,CAAC,IAAI,CAAC,CAAC;QACX,CAAC,CAAC;QACF,SAAS,GAAG;YACV,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC;KACH;IAED,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACnC,CAAC;AAED,KAAK,CAAC,qBAAqB,GAAG;IAC5B,gBAAgB,CAAC,OAAO,CAAC,UAAA,SAAS,IAAI,OAAA,SAAS,EAAE,EAAX,CAAW,CAAC,CAAC;IACnD,gBAAgB,GAAG,EAAE,CAAC;AACxB,CAAC,CAAC;AAEF,iBAAS,KAAK,CAAC","sourcesContent":["let restoreFunctions: Function[] = [];\n\nfunction after(host: React.Component, name: string, cb: Function): void {\n  const originalFn: Function = host[name];\n  let restoreFn: () => void;\n\n  if (originalFn) {\n    host[name] = function(...args): void {\n      originalFn.apply(this, args);\n      cb(host);\n    };\n    restoreFn = function(): void {\n      host[name] = originalFn;\n    };\n  } else {\n    host[name] = function(): void {\n      cb(host);\n    };\n    restoreFn = function(): void {\n      delete host[name];\n    };\n  }\n\n  restoreFunctions.push(restoreFn);\n}\n\nafter.restorePatchedMethods = function(): void {\n  restoreFunctions.forEach(restoreFn => restoreFn());\n  restoreFunctions = [];\n};\n\nexport = after;\n"]}